---
title: '[Docker] Container'
sidebar_position: '30'
description: Docker Container
keywords: [Docker Container, Docker 容器]
---

## 甚麼是容器 (Container)

容器是一種快速的打包技術，可以將應用程式和它的依賴項打包到一個映像檔中，使我們可以輕易地攜帶和搬遷。

容器又被稱作 Linux Container (LXC)， 是一種作業系統層級的虛擬化技術，
主要透過 Namespace 來隔離各個 Container 的資源，包含 Process、Network、File System、User、IPC、UTS 等等，
以及 Cgroups 來限制各個 Container 的資源使用量，包含 CPU、Memory、Disk I/O、Network 等等。

![](/img/docker/2.webp)
![](/img/docker/1.webp)

容器具有以下特點：

- 輕量化： 跟虛擬機相比，容器不需要 Guest OS，因此容器的體積比虛擬機小很多。
- 可移植性： 容器可以在任何支援容器的機器上運行，而不需要任何修改。
- 標準化： 容器的格式是標準化的(runtime、image)，因此可以很容易地將容器部署到任何支援容器的機器上。

## 甚麼是 Docker Container

Docker Container 是一個正在運行中的 Docker Image，
它複製了 Docker Image 並在上面增加了一層可寫的層(container layer)，
可以允許使用者在上面進行修改。

## 容器的簡易操作

- 建立容器: 將容器的 80 port 對應到 Host 的 3001 port，加上 `-d` 可以讓容器在背景執行，加上 `--name` 可以指定容器名稱
  ```bash
  docker container run -p 3001:80 nginx
  ```
- 列出所有容器
  ```bash
  docker container ls -a
  ```
- 啟動容器
  ```bash
  docker container start <container id>
  ```
- 重新啟動容器
  ```bash
  docker container restart <container id>
  ```
- 關閉容器
  ```bash
  docker container stop <container id>
  ```
- 刪除容器: 加上 `-f` 可以強制刪除
  ```bash
  docker container rm <container id>
  ```
- 刪除所有容器
  ```bash
  docker container rm $(docker container ls -aq)
  ```
- 查看容器的 log: 加上 `-f` 可以持續監控 log
  ```bash
  docker container logs <container id>
  ```
- 進入容器: 加上 `-it` 可以進入互動模式
  ```bash
  docker container exec -it <container id> sh
  ```
