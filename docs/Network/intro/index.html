<!doctype html><html lang=zh-Hant dir=ltr class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-Network/intro" data-has-hydrated=false><head><meta charset=UTF-8><meta name=generator content="Docusaurus v3.9.2"><title data-rh=true>Network Architecture | RulerChen</title><meta data-rh=true name=viewport content="width=device-width, initial-scale=1.0"/><meta data-rh=true name=twitter:card content=summary_large_image /><meta data-rh=true property=og:image content=https://RulerChen.github.io/RulerChen-Website/img/profile/profile.webp /><meta data-rh=true name=twitter:image content=https://RulerChen.github.io/RulerChen-Website/img/profile/profile.webp /><meta data-rh=true property=og:url content=https://RulerChen.github.io/RulerChen-Website/docs/Network/intro/ /><meta data-rh=true property=og:locale content=zh_Hant /><meta data-rh=true property=og:locale:alternate content=en /><meta data-rh=true name=docusaurus_locale content=zh-Hant /><meta data-rh=true name=docsearch:language content=zh-Hant /><meta data-rh=true name=docusaurus_version content=current /><meta data-rh=true name=docusaurus_tag content=docs-default-current /><meta data-rh=true name=docsearch:version content=current /><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-current /><meta data-rh=true property=og:title content="Network Architecture | RulerChen"/><meta data-rh=true name=description content="Big Picture of Computer Networks"/><meta data-rh=true property=og:description content="Big Picture of Computer Networks"/><meta data-rh=true name=keywords content="Computer Networks,Networking"/><link data-rh=true rel=icon href=/RulerChen-Website/img/profile/profile.webp /><link data-rh=true rel=canonical href=https://RulerChen.github.io/RulerChen-Website/docs/Network/intro/ /><link data-rh=true rel=alternate href=https://RulerChen.github.io/RulerChen-Website/docs/Network/intro/ hreflang=zh-Hant /><link data-rh=true rel=alternate href=https://RulerChen.github.io/RulerChen-Website/en/docs/Network/intro/ hreflang=en /><link data-rh=true rel=alternate href=https://RulerChen.github.io/RulerChen-Website/docs/Network/intro/ hreflang=x-default /><link data-rh=true rel=preconnect href=https://GSV9DQB5UM-dsn.algolia.net crossorigin=anonymous /><script data-rh=true type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","item":"https://RulerChen.github.io/RulerChen-Website/docs/Network/","name":"Network","position":1},{"@type":"ListItem","item":"https://RulerChen.github.io/RulerChen-Website/docs/Network/intro","name":"Network Architecture","position":2}]}</script><link rel=alternate type=application/rss+xml href=/RulerChen-Website/blog/rss.xml title="RulerChen's Blog RSS Feed"><link rel=alternate type=application/atom+xml href=/RulerChen-Website/blog/atom.xml title="RulerChen's Blog Atom Feed"><link rel=alternate type=application/json href=/RulerChen-Website/blog/feed.json title="RulerChen's Blog JSON Feed"><link rel=preconnect href=https://www.google-analytics.com><link rel=preconnect href=https://www.googletagmanager.com><script async src="https://www.googletagmanager.com/gtag/js?id=G-8BEHDPLQMG"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-8BEHDPLQMG",{anonymize_ip:!0})</script><link rel=search type=application/opensearchdescription+xml title=RulerChen href=/RulerChen-Website/opensearch.xml><meta name=robots content="noindex, nofollow"><link rel=preconnect href=https://cdn.jsdelivr.net crossorigin=anonymous><link rel=preconnect href=https://fonts.googleapis.com crossorigin=anonymous><link rel=preconnect href=https://fonts.gstatic.com crossorigin=anonymous><link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap" rel=stylesheet><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css type=text/css integrity=sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM crossorigin=anonymous><link rel=stylesheet href=/RulerChen-Website/assets/css/styles.6363dd13.css /><script src=/RulerChen-Website/assets/js/runtime~main.924069d8.js defer></script><script src=/RulerChen-Website/assets/js/main.e3667902.js defer></script></head><body class=navigation-with-keyboard><svg style="display: none;"><defs>
<symbol id=theme-svg-external-link viewBox="0 0 24 24"><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t;document.documentElement.setAttribute("data-theme",t||"dark"),document.documentElement.setAttribute("data-theme-choice",t||"dark")}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><link rel=preload as=image href=/RulerChen-Website/img/profile/profile.webp /><div role=region aria-label=跳至主要内容><a class=skipToContent_fXgn href=#__docusaurus_skipToContent_fallback>跳至主要内容</a></div><nav aria-label=主導航 class="theme-layout-navbar navbar navbar--fixed-top"><div class=navbar__inner><div class="theme-layout-navbar-left navbar__items"><button aria-label=切換導覽列 aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/RulerChen-Website/><div class=navbar__logo><img src=/RulerChen-Website/img/profile/profile.webp alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"/><img src=/RulerChen-Website/img/profile/profile.webp alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"/></div><b class="navbar__title text--truncate">RulerChen</b></a><a aria-current=page class="navbar__item navbar__link navbar__link--active" href=/RulerChen-Website/docs/intro/>Note</a><a class="navbar__item navbar__link" href=/RulerChen-Website/blog/>Blog</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href=# aria-haspopup=true aria-expanded=false role=button class=navbar__link><svg viewBox="0 0 24 24" width=20 height=20 aria-hidden=true class=iconLanguage_nlXk><path fill=currentColor d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"/></svg>繁體中文</a><ul class=dropdown__menu><li><a href=/RulerChen-Website/docs/Network/intro/ target=_self rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang=zh-Hant>繁體中文</a><li><a href=/RulerChen-Website/en/docs/Network/intro/ target=_self rel="noopener noreferrer" class=dropdown__link lang=en>English</a></ul></div><div class=navbarSearchContainer_Bca1><button type=button class="DocSearch DocSearch-Button" aria-label="搜尋 (Meta+k)" aria-keyshortcuts=Meta+k><span class=DocSearch-Button-Container><svg width=20 height=20 class=DocSearch-Search-Icon viewBox="0 0 24 24" aria-hidden=true><circle cx=11 cy=11 r=8 stroke=currentColor fill=none stroke-width=1.4 /><path d="m21 21-4.3-4.3" stroke=currentColor fill=none stroke-linecap=round stroke-linejoin=round /></svg><span class=DocSearch-Button-Placeholder>搜尋</span></span><span class=DocSearch-Button-Keys></span></button></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class=docsWrapper_hBAB><button aria-label=回到頂部 class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type=button></button><div class=docRoot_UBD9><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class=sidebarViewport_aRkj><div class=sidebar_njMd><nav aria-label=文件側邊欄 class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/RulerChen-Website/docs/intro/><span title=Introduction class=linkLabel_WmDU>Introduction</span></a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" href=/RulerChen-Website/docs/Network/><span title=Network class=categoryLinkLabel_W154>Network</span></a><button aria-label="收起側邊欄分類 'Network'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href=/RulerChen-Website/docs/Network/intro/><span title="Network Architecture" class=linkLabel_WmDU>Network Architecture</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/RulerChen-Website/docs/Network/overview/><span title="Network Journey" class=linkLabel_WmDU>Network Journey</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/RulerChen-Website/docs/Network/http/><span title=HTTP class=linkLabel_WmDU>HTTP</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/RulerChen-Website/docs/Network/tcp/><span title=TCP class=linkLabel_WmDU>TCP</span></a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" href=/RulerChen-Website/docs/CMU15-213/><span title="CMU 15-213" class=categoryLinkLabel_W154>CMU 15-213</span></a><button aria-label="展開側邊欄分類 'CMU 15-213'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" href=/RulerChen-Website/docs/CMU15-445/><span title="CMU 15-445" class=categoryLinkLabel_W154>CMU 15-445</span></a><button aria-label="展開側邊欄分類 'CMU 15-445'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" href=/RulerChen-Website/docs/Security/><span title=Security class=categoryLinkLabel_W154>Security</span></a><button aria-label="展開側邊欄分類 'Security'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" href=/RulerChen-Website/docs/SystemDesign/><span title="System Design" class=categoryLinkLabel_W154>System Design</span></a><button aria-label="展開側邊欄分類 'System Design'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/RulerChen-Website/docs/Other/shell/><span title=Other class=categoryLinkLabel_W154>Other</span></a></div></ul></nav></div></div></aside><main class=docMainContainer_TBSr><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_z5aJ"><div class=docItemContainer_c0TR><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label=頁面路徑><ul class=breadcrumbs><li class=breadcrumbs__item><a aria-label=主頁面 class=breadcrumbs__link href=/RulerChen-Website/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_YNFT><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li class=breadcrumbs__item><a class=breadcrumbs__link href=/RulerChen-Website/docs/Network/><span>Network</span></a><li class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link>Network Architecture</span></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_bxCs"><button type=button class="clean-btn tocCollapsibleButton_TO0P">本頁導覽</button></div><div class="theme-doc-markdown markdown"><header><h1>Network Architecture</h1></header><h2 class="anchor anchorTargetStickyNavbar_Vzrq" id=brief-history-of-computer-networks>Brief History of Computer Networks<a href=#brief-history-of-computer-networks class=hash-link aria-label="Brief History of Computer Networks的直接連結" title="Brief History of Computer Networks的直接連結" translate=no>​</a></h2>
<p>網路的歷史最早可以追溯到 1960 年代，當時的美國跟蘇聯依舊處於冷戰狀態，為了應對可能的核戰威脅，美國國防部先進研究中心 (ARPA) 開始研究分散式通訊系統，用來確保在部分通訊節點被摧毀的情況下仍然有辦法維持指揮跟通訊。
這個研究計劃促成了世界上第一個分散式封包交換網路 ARPANET 的誕生。</p>
<p>在 ARPANET 中，為了規範這些電腦間的通訊，網路工作小組開發了一個用於主機對主機傳輸的通訊協議，叫做 NCP (Network Control Protocol)。
但隨著網路的擴展以及傳輸媒介的多樣化，NCP 在連結不同網路方面顯得力不從心，原因是當時的 NCP 使用了太多專用設備，導致很難連結不同的網路，因此科學家開始尋找一種通用的解決方案來將不同的網路串接起來。</p>
<p>1974 年，Vint Cerf 和 Bob Kahn 提出了現在廣為人知的 TCP/IP 協議，用來解決不同網路之間的互通性問題，而到了 1983 年 1 月 1 日，ARPANET 正式將 NCP 換成了 TCP/IP。</p>
<p>但即便有了 ARPANET 與 TCP/IP 技術的出現，早期的網路對一般民眾來說依然是陌生的，直到 1990 年代，隨著 Tim Berners-Lee 開發出了 World Wide Web 以及制訂了 URL、HTTP、HTML 等相關標準後，現代網路的架構才開始逐漸成形。</p>
<p>因為有了這些標準，1993 年 Mosaic 瀏覽器正式問世，隨後網路世界迎來了爆炸性的成長，越來越多的人開始使用網路。</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id=layered-architecture>Layered Architecture<a href=#layered-architecture class=hash-link aria-label="Layered Architecture的直接連結" title="Layered Architecture的直接連結" translate=no>​</a></h2>
<blockquote>
<p>Modularity based on abstraction is the way things are done. — Barbara Liskov, Turing lecture</p>
</blockquote>
<p>模組化 (Modularity) 是軟體工程中的一個重要概念，它強調將系統劃分為獨立且可互換的模組，每個模組負責特定的功能，這樣可以提高系統的可擴展性和可重用性。</p>
<p>分層設計就是網路系統中用來實現模組化的方式。
透過將網路功能劃分為多個層次，每層可以專注於特定的任務，並且只與相鄰的層進行互動，簡化設計和實現過程。
同時，使用者也可以選擇適合自己的協議來實現各種功能，來最大化系統的效能。</p>
<p>現代網路主要有兩種常見的分層模型，分別是 TCP/IP 和 OSI，而大多數的教科書都會以 TCP/IP 模型作為主要介紹的架構。</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=osi-model>OSI Model<a href=#osi-model class=hash-link aria-label="OSI Model的直接連結" title="OSI Model的直接連結" translate=no>​</a></h3>
<p>OSI (Open Systems Interconnection) 模型是一個 <strong>理論上</strong> 的網路分層模型，由 ISO 在 1984 年提出。</p>
<p>OSI 模型將網路劃分為七個層次，與 TCP/IP 模型相比多了兩層，分別是 Presentation Layer 與 Session Layer。
在 TCP/IP 模型中，這兩層的功能通常被整合到 Application Layer 中。</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=tcpip-model>TCP/IP Model<a href=#tcpip-model class=hash-link aria-label="TCP/IP Model的直接連結" title="TCP/IP Model的直接連結" translate=no>​</a></h3>
<p>TCP/IP 模型是現代網路的主要架構，它將網路功能劃分為五個層次 (也可以說是四層，這裡將 Layer 1 獨立出來)，分別是 :</p>
<ul>
<li class="">Layer 7: Application Layer</li>
<li class="">Layer 4: Transport Layer</li>
<li class="">Layer 3: Network Layer</li>
<li class="">Layer 2: Data Link Layer</li>
<li class="">Layer 1: Physical Layer</li>
</ul>
<p>這篇文章會簡單介紹這五個層次的功能，並以郵局作為例子來說明每一層的角色。</p>
<figure class=image-modal-container><img src=/RulerChen-Website/img/network/intro/image-3.webp alt="" width=100% class=image-modal-thumbnail style=cursor:pointer loading=lazy /><figcaption class=image-modal-caption>Common Network Protocols</figcaption></figure>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=layer-1-physical-layer>Layer 1: Physical Layer<a href=#layer-1-physical-layer class=hash-link aria-label="Layer 1: Physical Layer的直接連結" title="Layer 1: Physical Layer的直接連結" translate=no>​</a></h3>
<p>物理層是網路的最底層，它負責將位元轉換成適合傳輸媒介 (如電線上的電壓、光纖中的光脈衝) 的訊號形式，並把接收到的訊號轉換回位元。</p>
<p>這部分通常是屬於電機 / 物理的範疇，涉及到硬體設備跟材料的部分，對於軟體工程師來說通常不太需要深入了解，一般的網路課本通常也會直接跳過這一層的細節。</p>
<p>物理層就像是負責送信的交通工具，例如卡車、飛機等。</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=layer-2-data-link-layer>Layer 2: Data Link Layer<a href=#layer-2-data-link-layer class=hash-link aria-label="Layer 2: Data Link Layer的直接連結" title="Layer 2: Data Link Layer的直接連結" translate=no>​</a></h3>
<p>區域網路 (Local Area Network, LAN) 是一種在有限的地理範圍內連結多台設備的網路，通常是由 Wi-Fi 熱點或家用路由器所建立的網路，而資料連結層的主要任務就是負責在區域網路之間傳送資料。</p>
<p>資料連結層會將來自網路層的 packet 包裝成 frame，並透過 MAC address 來識別區域網路中的設備，確保資料能夠正確地傳送到目的地。
MAC address 是一個全球唯一的標號，由生產公司在製造網卡時固定的，格式通常是六組兩位數的十六進位數字 (例如 00:1A:2B:3C:4D:5E)。</p>
<p>資料連結層就像郵差幫你把信件送到信箱之後，你家的人在負責依照收件人的名字把信拿給對應的人。</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=layer-3-network-layer>Layer 3: Network Layer<a href=#layer-3-network-layer class=hash-link aria-label="Layer 3: Network Layer的直接連結" title="Layer 3: Network Layer的直接連結" translate=no>​</a></h3>
<p>網路的世界是由許多不同的網路組成，每個區域網路內部可以自己管理資料傳輸，但當資料需要跨越不同的網路時，就需要網路層來負責路由。</p>
<p>網路層採用的是 best-effort 方式，也就是說它會盡力把封包傳到目的地，但並不保證資料一定能夠成功抵達。
這樣做的好處是可以提高網路的彈性與擴展性，並把錯誤處理跟重送的責任交給終端的主機來決定。</p>
<p>網路層就像是郵局會幫你依照地址 (IP) 幫你把郵件投送到全世界任何一個地方。</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=layer-4-transport-layer>Layer 4: Transport Layer<a href=#layer-4-transport-layer class=hash-link aria-label="Layer 4: Transport Layer的直接連結" title="Layer 4: Transport Layer的直接連結" translate=no>​</a></h3>
<p>在網路層中提供的是 best-effort 的服務，這意味著資料在傳輸過程中可能會遺失、重複或亂序，為了確保資料一定可以傳送到目的地，傳輸層會負責在兩台主機之間建立端對端的連接，並提供錯誤檢測與修正的機制。</p>
<p>因為有了這層的存在，應用程式不需要再擔心底層網路可能出現的問題，可以專注於處理自己的邏輯。</p>
<p>這就像你在寄信時可以選擇寄掛號信 (TCP) 或是平信 (UDP)，如果是掛號信的話郵局就會負責確保信件能夠安全送達，並且在寄送過程中提供追蹤服務。</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=layer-7-application-layer>Layer 7: Application Layer<a href=#layer-7-application-layer class=hash-link aria-label="Layer 7: Application Layer的直接連結" title="Layer 7: Application Layer的直接連結" translate=no>​</a></h3>
<p>在有了前面幾層之後，我們已經解決了資料如何在網路中傳輸的問題，最後一層應用層則是直接面向使用者。
它定義了應用程式之間如何交換資料，例如可以使用 HTTP 協議來傳輸網頁、使用 DNS 來解析網域。</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id=header>Header<a href=#header class=hash-link aria-label=Header的直接連結 title=Header的直接連結 translate=no>​</a></h2>
<p>在有了分層架構之後，網路需要一種方法來讓每一層能夠理解它所接收到的資料，這就是 Header 的作用。
每一層在傳送資料時，會在資料前面加上自己的標頭，當資料到達接收端時，會依照相反的順序將標頭一層層剝除，並根據標頭中的資訊來處理資料。</p>
<figure class=image-modal-container><img src=/RulerChen-Website/img/network/intro/image.webp alt="" width=100% class=image-modal-thumbnail style=cursor:pointer loading=lazy /><figcaption class=image-modal-caption>Header</figcaption></figure>
<p>終端主機會把要傳送的資料一層一層封裝，而每個經過的路由器都會至少將其解開到網路層來獲取 IP 地址，然後再重新封裝送到下一個節點，直到目標主機為止。</p>
<figure class=image-modal-container><img src=/RulerChen-Website/img/network/intro/image-2.webp alt="" width=600 class=image-modal-thumbnail style=cursor:pointer loading=lazy /><figcaption class=image-modal-caption>Header Journey</figcaption></figure>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id=socket--os>Socket & OS<a href=#socket--os class=hash-link aria-label="Socket & OS的直接連結" title="Socket & OS的直接連結" translate=no>​</a></h2>
<p>應用程式都會有自己的通訊協定，像是 HTTP、DNS 等等，而這些協定需要透過作業系統提供的介面來使用傳輸層的服務，而這個介面就是 Socket。</p>
<p>Socket 是一個抽象的概念，代表了一個 ip<!-- -->:port<!-- --> 的連接端點，當在連結時作業系統會分配一個本地的 port 給應用程式，並且透過這個 port 來識別不同的連接。</p>
<p>下面是一個簡單的 C++ 範例 :</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#F8F8F2;--prism-background-color:#282A36><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style=color:#F8F8F2;background-color:#282A36><code class=codeBlockLines_e6Vv><span class=token-line style=color:#F8F8F2><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> sockfd </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">socket</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">AF_INET</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> SOCK_STREAM</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// AF_INET: IPv4, SOCK_STREAM: TCP</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">connect</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">sockfd</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">struct</span><span class="token plain"> </span><span class="token class-name">sockaddr</span><span class="token plain"> </span><span class="token operator">*</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">&</span><span class="token plain">server_addr</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">sizeof</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">server_addr</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">send</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">sockfd</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> data_length</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">recv</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">sockfd</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> buffer</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> buffer_length</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">close</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">sockfd</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br/></span></code></pre></div></div>
<p>在作業系統中，物理層跟資料連結層通常是由網卡來負責的，網路層跟傳輸層則是由作業系統來處理，而應用層則是由軟體本身 (套件) 來實現。</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id=network-performance>Network Performance<a href=#network-performance class=hash-link aria-label="Network Performance的直接連結" title="Network Performance的直接連結" translate=no>​</a></h2>
<p>在了解了網路的架構之後，接下來就可以來看看資料在網路中傳輸時的效能表現。
這裡會解釋三個常見的名詞，分別是 bandwidth、propagation delay、queuing delay，這些名詞是用來描述網路效能的重要指標。</p>
<ul>
<li class="">Bandwidth: 指的是在單位時間內能夠傳輸的資料量，通常以 bps (bits per second) 為單位來表示。頻寬越大，表示網路能夠同時傳輸更多的資料</li>
<li class="">Propagation Delay: 指的是資料從一個節點傳送到另一個節點所需的時間，這個時間主要取決於傳輸媒介的物理特性 (例如光纖的速度) 以及兩個節點之間的距離</li>
<li class="">Queuing Delay: 指的是資料在路由器中等待的時間，當網路流量過大時，封包可能需要在緩衝區中排隊等待傳輸</li>
</ul>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"/></svg></span>備註</div><div class=admonitionContent_BuS1><p>這裡需要特別注意的是，1kbps 並不是指每秒可以傳送 1KB 的資料，這裡的 1k 指的是 1000 bits，而 1 KB 總共有 1024 * 8 bits。</div></div>
<p>舉例來說，如果我們有一個 1 Mbps 的連接，並且需要傳輸一個 1 MB 的檔案，假設傳播延遲為 100 ms，且排隊延遲為 0.1 s，那麼總的傳輸時間可以這樣計算 :</p>
<ul>
<li class="">傳輸時間 = 1 MB (1024 * 1024 * 8 bits) / 1 Mbps (1000000 bits per second) = 8.192 s</li>
<li class="">總延遲 = 傳輸時間 + 傳播延遲 + 排隊延遲 = 8.192 s + 0.1 s + 0.1 s = 8.392 s</li>
</ul></div><div style=margin-top:32px></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-tags-row"><div class=col><b>標籤：</b><ul class="tags_jXut padding--none margin-left--sm"><li class=tag_QGVx><a rel=tag class="tag_zVej tagRegular_sFm0" href=/RulerChen-Website/docs/tags/network/>Network</a></ul></div></div><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href=https://github.com/RulerChen/RulerChen-Website/tree/main/docs/Network/intro.mdx target=_blank rel="noopener noreferrer" class=theme-edit-this-page><svg fill=currentColor height=20 width=20 viewBox="0 0 40 40" class=iconEdit_Z9Sw aria-hidden=true><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"/></g></svg>編輯此頁</a></div><div class="col lastUpdated_JAkA"><span class=theme-last-updated>最後<!-- -->於 <b><time datetime=2025-11-07T01:32:17.000Z itemprop=dateModified>2025年11月7日</time></b> <!-- -->更新</span></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label=文件選項卡><a class="pagination-nav__link pagination-nav__link--prev" href=/RulerChen-Website/docs/Network/><div class=pagination-nav__sublabel>上一頁</div><div class=pagination-nav__label>Network</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/RulerChen-Website/docs/Network/overview/><div class=pagination-nav__sublabel>下一頁</div><div class=pagination-nav__label>Network Journey</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#brief-history-of-computer-networks class="table-of-contents__link toc-highlight">Brief History of Computer Networks</a><li><a href=#layered-architecture class="table-of-contents__link toc-highlight">Layered Architecture</a><ul><li><a href=#osi-model class="table-of-contents__link toc-highlight">OSI Model</a><li><a href=#tcpip-model class="table-of-contents__link toc-highlight">TCP/IP Model</a><li><a href=#layer-1-physical-layer class="table-of-contents__link toc-highlight">Layer 1: Physical Layer</a><li><a href=#layer-2-data-link-layer class="table-of-contents__link toc-highlight">Layer 2: Data Link Layer</a><li><a href=#layer-3-network-layer class="table-of-contents__link toc-highlight">Layer 3: Network Layer</a><li><a href=#layer-4-transport-layer class="table-of-contents__link toc-highlight">Layer 4: Transport Layer</a><li><a href=#layer-7-application-layer class="table-of-contents__link toc-highlight">Layer 7: Application Layer</a></ul><li><a href=#header class="table-of-contents__link toc-highlight">Header</a><li><a href=#socket--os class="table-of-contents__link toc-highlight">Socket & OS</a><li><a href=#network-performance class="table-of-contents__link toc-highlight">Network Performance</a></ul></div></div></div></div></main></div></div></div></div></body>