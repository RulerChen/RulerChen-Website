---
title: '[Typescript] React Typescript'
sidebar_position: '30'
description: ''
keywords: ['Typescript', 'React + Typescript']
---

## 基本型別

```ts
let isString: string = '123';
let isNumber: number = 123;
let isBoolean: boolean = true;
let isNull: null = null;
let isUndefined: undefined = undefined;
let isSymbol: symbol = Symbol('123');

// 可擇一
type canChoose = 'a' | 'b' | 'c';
```

## 特殊型別 (any、unknown、never)

```ts
// never 的使用場景是在函式中拋出錯誤或無法結束時使用
function neverEnd(): never {
  while (true) {}
}

// any 和 unknown 可以指派任何型別，但 unknown 無法指派給任何型別
let anyType: any;
let unknownType: unknown;

// error : Type 'unknown' is not assignable to type 'number'.
let error: number = unknownType;

// correct
let correct: number = <number>unknownType;
```

## 物件型別

```ts
// ? 表可選
type obj = {
  name: string;
  age: number;
  isMale?: boolean;
};

// 物件陣列
type objArray = {
  name: string;
  age: number;
  isMale?: boolean;
}[];

// 只能被全部更新(非原始型態)，無法讀取屬性
type objEmpty = object;

// 所有非原始型態 (函式...)
type objAny = {};

// 可以創造出任意數量的 number 屬性
type dict1 = {
  [key: string]: number;
};

// 可以創造出任意數量的 number 屬性 (同上)
type dict2 = Record<string, number>;
```

## 函式型別

```ts
onClick: () => void;

onChange: (event: React.ChangeEvent<HTMLInputElement>) => void;

onClick(event: React.MouseEvent<HTMLButtonElement>): void;

setState: React.Dispatch<React.SetStateAction<number>>;
```

## Props

```ts
children: React.ReactNode;

childrenElement: JSX.Element;

style: React.CSSProperties;
```

## Function Component

```ts
type AppProps = {
  message: string;
};

const App = ({ message }: AppProps) => <div>{message}</div>;

const App = ({ message }: AppProps): JSX.Element => <div>{message}</div>;

const App = ({ message }: { message: string }) => <div>{message}</div>;
```

:::warning
我們應該避免使用 `React.FC`，可以參閱 [Typescript Cheatsheet](https://react-typescript-cheatsheet.netlify.app/docs/basic/getting-started/function_components)
:::

## Hook

### useState

```ts
const [state, setState] = useState(false);

const [user, setUser] = useState<User | null>(null);

const [user, setUser] = useState<User>({} as User);
```

### useRef

```ts
function Foo() {
  const divRef = useRef<HTMLDivElement>(null);

  useEffect(() => {
    if (!divRef.current) throw Error('divRef is not assigned');
    doSomethingWith(divRef.current);
  });
  return <div ref={divRef}>etc</div>;
}
```

```ts
const divRef = useRef<HTMLDivElement>(null!);
doSomethingWith(divRef.current);
```
