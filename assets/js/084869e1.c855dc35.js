"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[1186],{40680:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>t,default:()=>h,frontMatter:()=>c,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"CMU15-445/p0","title":"P0 - C++ Primer","description":"C++ Primer","source":"@site/docs/CMU15-445/p0.mdx","sourceDirName":"CMU15-445","slug":"/CMU15-445/p0","permalink":"/RulerChen-Website/docs/CMU15-445/p0","draft":false,"unlisted":false,"editUrl":"https://github.com/RulerChen/RulerChen-Website/tree/main/docs/CMU15-445/p0.mdx","tags":[],"version":"current","lastUpdatedAt":1746961077000,"sidebarPosition":30,"frontMatter":{"title":"P0 - C++ Primer","sidebar_position":30,"description":"C++ Primer","keywords":["CMU15-445/645","C++ Primer","CMU15-445/645 \u7b46\u8a18"]},"sidebar":"tutorialSidebar","previous":{"title":"Distributed OLAP Database Systems","permalink":"/RulerChen-Website/docs/CMU15-445/c23"},"next":{"title":"P1 - Buffer Pool Manager","permalink":"/RulerChen-Website/docs/CMU15-445/p1"}}');var l=s(74848),r=s(28453);const c={title:"P0 - C++ Primer",sidebar_position:"30",description:"C++ Primer",keywords:["CMU15-445/645","C++ Primer","CMU15-445/645 \u7b46\u8a18"]},t=void 0,d={},a=[{value:"Problem Description",id:"problem-description",level:2},{value:"Learning Resource",id:"learning-resource",level:2},{value:"Environment Setup",id:"environment-setup",level:2},{value:"Solution",id:"solution",level:2},{value:"Task 1: Hyperloglog",id:"task-1-hyperloglog",level:3},{value:"Task 2: Presto Hyperloglog",id:"task-2-presto-hyperloglog",level:3},{value:"Submit",id:"submit",level:2}];function o(e){const n={a:"a",annotation:"annotation",code:"code",h2:"h2",h3:"h3",li:"li",math:"math",mi:"mi",mn:"mn",mrow:"mrow",msup:"msup",ol:"ol",p:"p",pre:"pre",semantics:"semantics",span:"span",ul:"ul",...(0,r.R)(),...e.components},{Head:s}=n;return s||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Head",!0),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s,{children:(0,l.jsx)("title",{children:"CMU 15-445 2024Fall Project#0 C++ Primer"})}),"\n",(0,l.jsx)(n.h2,{id:"problem-description",children:"Problem Description"}),"\n",(0,l.jsx)(n.p,{children:"\u9019\u500b\u7248\u672c\u662f 2024 Fall \u7684\u7248\u672c\uff0c\u76ee\u6a19\u662f\u5be6\u73fe\u4e00\u500b\u5e38\u898b\u7684\u8cc7\u6599\u7d50\u69cb Hyperloglog\uff0c\u4e26\u719f\u6089 C++ \u7684\u8a9e\u6cd5\u3002"}),"\n",(0,l.jsxs)(n.p,{children:["\u5982\u679c\u60f3\u8981\u5feb\u901f\u4e0a\u624b\u5c08\u6848\u67b6\u69cb\uff0c\u53ef\u4ee5\u4f7f\u7528 AI\uff0c\u8b6c\u5982 ",(0,l.jsx)(n.a,{href:"https://deepwiki.com/cmu-db/bustub/1-overview",children:"deepwiki"}),"\u3002"]}),"\n",(0,l.jsx)(n.h2,{id:"learning-resource",children:"Learning Resource"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://github.com/cmu-db/15445-bootcamp",children:"15-445 C++ Bootcamp"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://www.youtube.com/watch?v=G9gnSGKYIg4",children:"Debug a C++ project in VS Code"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://seisman.github.io/how-to-write-makefile/overview.html",children:"Makefile"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://www.bilibili.com/video/BV14h41187FZ/?vd_source=0b8d45cc2260b9a7a9d948d819ac16f3",children:"CMake"})}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"environment-setup",children:"Environment Setup"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"\u6211\u4f7f\u7528\u7684\u74b0\u5883\u662f WSL (Ubuntu 24.04) \u548c VSCode"}),"\n",(0,l.jsxs)(n.li,{children:["\u5b89\u88dd VSCode \u5957\u4ef6 ",(0,l.jsx)(n.code,{children:"C/C++ Extension Pack"}),"\u3001",(0,l.jsx)(n.code,{children:"clangd"}),"\u3001",(0,l.jsx)(n.code,{children:"CMake Tools"}),"\u3001",(0,l.jsx)(n.code,{children:"Clang-Format"})]}),"\n",(0,l.jsx)(n.li,{children:"\u5c07 bustub clone \u4e0b\u4f86\uff0c\u4e26\u4e14\u56de\u9000\u5230 2024 Fall \u7684 commit\uff0c\u9019\u6a23\u53ef\u4ee5\u907f\u514d\u4e00\u4e9b\u4e0d\u5fc5\u8981\u7684\u554f\u984c"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"git clone https://github.com/cmu-db/bustub.git\ncd bustub\ngit checkout f97256b88b20468c01023928b63f5693d697674c\n"})}),"\n",(0,l.jsxs)(n.p,{children:["\u63a5\u8457\u53ef\u4ee5\u628a ",(0,l.jsx)(n.code,{children:".git"})," \u6a94\u6848\u79fb\u9664\u4e26\u63a5\u4e0a\u81ea\u5df1\u7684 git repo (\u6ce8\u610f\u4e0d\u8981\u516c\u958b repo \u5728 github \u4e0a\u4e26\u4e14\u628a github action \u95dc\u6389)"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:'rm -rf .git\n\ngit init\ngit add .\ngit commit -m "init"\ngit remote add origin <your-git-repo>\ngit push -u origin main\n'})}),"\n",(0,l.jsxs)(n.ol,{start:"4",children:["\n",(0,l.jsxs)(n.li,{children:["\u7531\u65bc\u6211\u4f7f\u7528\u7684\u662f 24.04\uff0c\u6240\u4ee5\u9700\u8981\u4fee\u6539\u4e00\u4e0b ",(0,l.jsx)(n.code,{children:"packages.sh"})," \u7684\u5167\u5bb9\uff0c\u4e26\u9806\u4fbf\u5b89\u88dd ",(0,l.jsx)(n.code,{children:"clangd"})," \u7684\u5957\u4ef6\u3002"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",metastring:'title="build_support/packages.sh" showLineNumbers {10,33-34}',children:'install_linux() {\n  # Update apt-get.\n  apt-get -y update\n  # Install packages.\n  apt-get -y install \\\n      build-essential \\\n      clang-14 \\\n      clang-format-14 \\\n      clang-tidy-14 \\\n      clangd-14 \\\n      cmake \\\n      doxygen \\\n      git \\\n      pkg-config \\\n      zlib1g-dev \\\n      libelf-dev \\\n      libdwarf-dev\n}\n\ninstall() {\n  set -x\n  UNAME=$(uname | tr "[:lower:]" "[:upper:]" )\n\n  case $UNAME in\n    DARWIN) install_mac ;;\n\n    LINUX)\n      version=$(cat /etc/os-release | grep VERSION_ID | cut -d \'"\' -f 2)\n      case $version in\n        18.04) install_linux ;;\n        20.04) install_linux ;;\n        22.04) install_linux ;;\n        # add this line\n        24.04) install_linux ;;\n        *) give_up ;;\n      esac\n      ;;\n\n    *) give_up ;;\n  esac\n}\n'})}),"\n",(0,l.jsxs)(n.ol,{start:"5",children:["\n",(0,l.jsx)(n.li,{children:"\u5b89\u88dd\u5957\u4ef6"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo build_support/packages.sh\n"})}),"\n",(0,l.jsxs)(n.ol,{start:"6",children:["\n",(0,l.jsx)(n.li,{children:"\u5617\u8a66\u7de8\u8b6f\u4e00\u4e0b\uff0c\u770b\u770b\u6709\u6c92\u6709\u554f\u984c"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"cmake -DCMAKE_BUILD_TYPE=Debug -DCMAKE_C_COMPILER=/usr/bin/clang-14 -DCMAKE_CXX_COMPILER=/usr/bin/clang++-14 -B build\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"cd build\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"make -j`nproc`\n"})}),"\n",(0,l.jsxs)(n.ol,{start:"7",children:["\n",(0,l.jsx)(n.li,{children:"\u8a2d\u5b9a formatter \u4ee5\u53ca cmake\u3001clangd \u7b49\u7b49"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",metastring:'title=".vscode/settings.json"',children:'{\n  "C_Cpp.clang_format_path": "/usr/bin/clang-format-14",\n  "C_Cpp.formatting": "clangFormat",\n  "C_Cpp.clang_format_style": "file",\n  "clangd.path": "/usr/bin/clangd-14",\n  "cmake.configureSettings": {\n    "CMAKE_C_COMPILER": "/usr/bin/clang-14",\n    "CMAKE_CXX_COMPILER": "/usr/bin/clang++-14"\n  }\n}\n'})}),"\n",(0,l.jsxs)(n.ol,{start:"8",children:["\n",(0,l.jsxs)(n.li,{children:["\u63a5\u8457\u8a2d\u5b9a debugger\uff0c\u6211\u4f7f\u7528\u7684 debugger \u662f ",(0,l.jsx)(n.code,{children:"GDB"})]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo apt install gdb\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u4ee5\u4e0b\u9019\u500b\u8a2d\u5b9a\u53ef\u4ee5\u5e6b\u52a9\u6211\u5011\u986f\u793a STL \u5bb9\u5668\u7684\u5167\u5bb9 :"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",metastring:'title=".vscode/launch.json"',children:'{\n  "version": "0.2.0",\n  "configurations": [\n    {\n      "name": "C/C++: g++ build and debug active file",\n      "type": "cppdbg",\n      "request": "launch",\n      "program": "${workspaceFolder}/build/test/${fileBasenameNoExtension}",\n      "args": [],\n      "cwd": "${workspaceFolder}",\n      "stopAtEntry": true,\n      "MIMode": "gdb",\n      "miDebuggerPath": "/usr/bin/gdb",\n      "setupCommands": [\n        {\n          "description": "Test",\n          "text": "python import sys;sys.path.insert(0, \'/usr/share/gcc/python\');from libstdcxx.v6.printers import register_libstdcxx_printers;register_libstdcxx_printers(None)",\n          "ignoreFailures": false\n        },\n        {\n          "description": "Enable pretty-printing for gdb",\n          "text": "-enable-pretty-printing",\n          "ignoreFailures": true\n        }\n      ]\n    }\n  ]\n}\n'})}),"\n",(0,l.jsxs)(n.p,{children:["\u4e4b\u5f8c\u5982\u679c\u8981\u57f7\u884c debug\uff0c\u8a2d\u5b9a\u597d\u65b7\u9ede\u5c0d\u8457 test file \u6309 ",(0,l.jsx)(n.code,{children:"F5"})," \u5373\u53ef\u3002"]}),"\n",(0,l.jsx)(n.h2,{id:"solution",children:"Solution"}),"\n",(0,l.jsxs)(n.p,{children:["P0 \u4e3b\u8981\u6709\u5169\u500b task\uff0c\u7b2c\u4e00\u500b\u662f\u5be6\u4f5c\u57fa\u672c\u7684 Hyperloglog\uff0c\u7b2c\u4e8c\u500b\u662f\u5be6\u4f5c Presto \u7684 Hyperloglog\uff0c",(0,l.jsx)(n.code,{children:".h"})," \u548c ",(0,l.jsx)(n.code,{children:".cpp"})," \u7684\u6a94\u6848\u5206\u5225\u5728 ",(0,l.jsx)(n.code,{children:"src/include/primer"})," \u548c ",(0,l.jsx)(n.code,{children:"src/primer"})," \u88e1\u9762\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:["\u6211\u8a8d\u70ba\u6bd4\u8f03\u9700\u8981\u6ce8\u610f\u7684\u662f C++ \u4e2d ",(0,l.jsx)(n.code,{children:"std::bitset"})," \u7684\u4f7f\u7528\uff0c\u9019\u500b\u8cc7\u6599\u7d50\u69cb\u53ef\u4ee5\u7528\u4f86\u5132\u5b58\u4e8c\u9032\u4f4d\u7684\u6578\u5b57\uff0c\u4e26\u4e14\u53ef\u4ee5\u7528 ",(0,l.jsx)(n.code,{children:"<<"})," \u548c ",(0,l.jsx)(n.code,{children:">>"})," \u4f86\u505a\u4f4d\u79fb\u904b\u7b97\uff0c\u4e5f\u9700\u8981\u7279\u5225\u6ce8\u610f ",(0,l.jsx)(n.code,{children:"std::bitset"})," \u7684 ",(0,l.jsx)(n.code,{children:"[0]"})," \u6307\u7684\u662f\u6700\u53f3\u908a\u7684 bit\uff0c\u800c\u4e0d\u662f\u6700\u5de6\u908a\u7684 bit\u3002"]}),"\n",(0,l.jsx)(n.h3,{id:"task-1-hyperloglog",children:"Task 1: Hyperloglog"}),"\n",(0,l.jsx)(n.p,{children:"\u5927\u81f4\u8aaa\u660e\u4e00\u4e0b Hyperloglog \u7684\u5be6\u4f5c\uff0c\u9019\u500b\u8cc7\u6599\u7d50\u69cb\u4e3b\u8981\u662f\u7528\u4f86\u4f30\u8a08\u4e0d\u91cd\u8907\u7684\u5143\u7d20\u7684\u6578\u91cf\uff0c\u4e26\u4e14\u53ef\u4ee5\u5728 O(1) \u7684\u6642\u9593\u548c\u56fa\u5b9a\u7684\u7a7a\u9593\u5167\u5b8c\u6210\u3002"}),"\n",(0,l.jsxs)(n.p,{children:["\u9996\u5148\u6211\u5011\u6703\u5c07\u6240\u6709\u7684\u5143\u7d20 hash \u6210\u4e00\u500b 64 bits \u7684\u6574\u6578\uff0c\u7136\u5f8c\u5c07\u9019\u500b\u6574\u6578\u5206\u6210\u5169\u500b\u90e8\u5206\uff0c\u524d\u9762\u7684 ",(0,l.jsx)(n.code,{children:"n_bits"})," \u4ee3\u8868\u6876\u7684 index (\u7e3d\u5171\u6709 ",(0,l.jsxs)(n.span,{className:"katex",children:[(0,l.jsx)(n.span,{className:"katex-mathml",children:(0,l.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,l.jsxs)(n.semantics,{children:[(0,l.jsx)(n.mrow,{children:(0,l.jsxs)(n.msup,{children:[(0,l.jsx)(n.mn,{children:"2"}),(0,l.jsxs)(n.mrow,{children:[(0,l.jsx)(n.mi,{children:"n"}),(0,l.jsx)(n.mi,{children:"b"}),(0,l.jsx)(n.mi,{children:"i"}),(0,l.jsx)(n.mi,{children:"t"}),(0,l.jsx)(n.mi,{children:"s"})]})]})}),(0,l.jsx)(n.annotation,{encoding:"application/x-tex",children:"2^{nbits}"})]})})}),(0,l.jsx)(n.span,{className:"katex-html","aria-hidden":"true",children:(0,l.jsxs)(n.span,{className:"base",children:[(0,l.jsx)(n.span,{className:"strut",style:{height:"0.8491em"}}),(0,l.jsxs)(n.span,{className:"mord",children:[(0,l.jsx)(n.span,{className:"mord",children:"2"}),(0,l.jsx)(n.span,{className:"msupsub",children:(0,l.jsx)(n.span,{className:"vlist-t",children:(0,l.jsx)(n.span,{className:"vlist-r",children:(0,l.jsx)(n.span,{className:"vlist",style:{height:"0.8491em"},children:(0,l.jsxs)(n.span,{style:{top:"-3.063em",marginRight:"0.05em"},children:[(0,l.jsx)(n.span,{className:"pstrut",style:{height:"2.7em"}}),(0,l.jsx)(n.span,{className:"sizing reset-size6 size3 mtight",children:(0,l.jsxs)(n.span,{className:"mord mtight",children:[(0,l.jsx)(n.span,{className:"mord mathnormal mtight",children:"nbi"}),(0,l.jsx)(n.span,{className:"mord mathnormal mtight",children:"t"}),(0,l.jsx)(n.span,{className:"mord mathnormal mtight",children:"s"})]})})]})})})})})]})]})})]})," \u500b\u6876)\uff0c\u5728\u9019\u4e9b\u6578\u5b57\u4e4b\u5f8c\uff0c\u6211\u5011\u5c31\u8981\u958b\u59cb\u6578 ",(0,l.jsx)(n.code,{children:"leading zeros"})," \u7684\u6578\u91cf\u76f4\u5230\u9047\u5230\u7b2c\u4e00\u500b ",(0,l.jsx)(n.code,{children:"1"})," \u70ba\u6b62 (\u5305\u542b ",(0,l.jsx)(n.code,{children:"1"}),")\uff0c\u518d\u628a ",(0,l.jsx)(n.code,{children:"leading zeros"})," \u53d6\u6700\u5927\u503c\u4e4b\u5f8c\u653e\u9032\u6876\u88e1\u9762\uff0c\u6700\u5f8c\u518d\u7528\u9019\u4e9b\u6876\u4f86\u4f30\u8a08\u4e0d\u91cd\u8907\u7684\u5143\u7d20\u7684\u6578\u91cf\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:["\u9019\u500b task \u6709\u56db\u500b function \u9700\u8981\u5be6\u4f5c\uff0c\u5206\u5225\u662f ",(0,l.jsx)(n.code,{children:"HyperLogLog(inital_bits)"}),", ",(0,l.jsx)(n.code,{children:"PositionOfLeftmostOne()"}),", ",(0,l.jsx)(n.code,{children:"AddElem(val)"}),", \u548c ",(0,l.jsx)(n.code,{children:"ComputeCardinality()"}),"\uff0c\u4e26\u4e14\u6709\u5169\u500b\u5beb\u597d\u7684 function\uff0c\u5206\u5225\u662f ",(0,l.jsx)(n.code,{children:"ComputeBinary(hash_t hash)"})," \u548c ",(0,l.jsx)(n.code,{children:"CalculateHash(...)"}),"\uff0c\u9019\u5169\u500b function \u5206\u5225\u662f\u7528\u4f86\u5c07 hash \u503c\u8f49\u6210\u4e8c\u9032\u4f4d\u7684\u6578\u5b57\u548c\u8a08\u7b97 hash \u503c\u7684\u3002"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"HyperLogLog(int initial_bits)"})," : \u9019\u500b constructor \u6703\u521d\u59cb\u5316\u6876\u7684\u6578\u91cf\uff0c\u4e26\u4e14\u5c07\u6240\u6709\u7684\u6876\u7684\u503c\u8a2d\u6210 0\uff0c\u9700\u8981\u6ce8\u610f\u7684\u662f\u9700\u8981\u8655\u7406\u50b3\u9032\u4f86\u7684 ",(0,l.jsx)(n.code,{children:"n_bits"})," \u6709\u53ef\u80fd\u6703\u662f\u8ca0\u6578\u7684\u60c5\u6cc1"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"PositionOfLeftmostOne()"})," : \u9019\u500b function \u6703\u8a08\u7b97\u4e8c\u9032\u4f4d\u8868\u793a\u6cd5\u4e2d\u5f9e bucket_index \u7d50\u675f\u5f8c\u7684\u4e0b\u4e00\u500b bit \u958b\u59cb\u5230\u7b2c\u4e00\u500b ",(0,l.jsx)(n.code,{children:"1"})," \u7684\u4f4d\u7f6e\uff0c\u8981\u7279\u5225\u6ce8\u610f\u7684\u662f ",(0,l.jsx)(n.code,{children:"1"})," \u7684\u4f4d\u7f6e\u4e5f\u9700\u8981\u8a08\u7b97\uff0c\u4e26\u4e14\u5982\u679c ",(0,l.jsx)(n.code,{children:"n_bits"})," \u70ba 0\uff0c\u4e5f\u9700\u8981\u4fdd\u7559\u7b2c\u4e00\u500b bit \u7576\u4f5c index"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"AddElem(val)"})," : \u9019\u500b function \u6703\u5c07\u50b3\u9032\u4f86\u7684 ",(0,l.jsx)(n.code,{children:"val"})," \u505a hash\uff0c\u7136\u5f8c\u5c07\u9019\u500b hash \u503c\u8f49\u6210\u4e8c\u9032\u4f4d\u7684\u6578\u5b57\uff0c\u63a5\u8457\u8a08\u7b97\u6876\u7684 index \u548c ",(0,l.jsx)(n.code,{children:"leading zeros"})," \u7684\u6578\u91cf\uff0c\u6700\u5f8c\u53d6\u6700\u5927\u503c\u653e\u9032\u6876\u88e1\u9762"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"ComputeCardinality()"})," : \u9019\u500b function \u6703\u56de\u50b3\u8a08\u7b97\u5f8c\u7684 cardinality\uff0c\u4f9d\u7167\u516c\u5f0f\u4f86\u5beb\u5373\u53ef\uff0c\u6700\u5f8c\u8a18\u5f97\u7528 ",(0,l.jsx)(n.code,{children:"std::floor"})," \u4f86\u53d6\u6574\u6578\uff0c\u4e26\u4e14\u8981\u6ce8\u610f ",(0,l.jsx)(n.code,{children:"n_bits"})," \u70ba 0 \u7684\u60c5\u6cc1"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"task-2-presto-hyperloglog",children:"Task 2: Presto Hyperloglog"}),"\n",(0,l.jsx)(n.p,{children:"\u9019\u500b task \u4e3b\u8981\u662f\u8981\u5be6\u4f5c Presto \u7684 Hyperloglog\uff0c\u662f\u4e00\u7a2e Hyperloglog \u7684\u4fee\u6539\u7248\u3002"}),"\n",(0,l.jsxs)(n.p,{children:["\u5728\u9019\u500b\u4fee\u6539\u7248\u4e2d\uff0c",(0,l.jsx)(n.code,{children:"leading zeros"})," \u7684\u5132\u5b58\u548c\u8a08\u7b97\u65b9\u5f0f\u90fd\u6709\u6240\u6539\u8b8a\u3002\n\u5132\u5b58\u6703\u5206\u6210\u5169\u500b\u90e8\u5206\uff0c\u5206\u5225\u662f 4 bits \u7684 ",(0,l.jsx)(n.code,{children:"dense_bucket_"})," \u8ddf 3 bits \u7684 ",(0,l.jsx)(n.code,{children:"overflow_bucket_"}),"\u3002\n\u8a08\u7b97\u65b9\u5f0f\u662f\u5c07 ",(0,l.jsx)(n.code,{children:"leading zeros"})," \u6539\u6210\u5f9e\u6700\u53f3\u908a\u958b\u59cb\u53d6\u503c\u5230\u7b2c\u4e00\u500b ",(0,l.jsx)(n.code,{children:"1"})," \u7684\u4f4d\u7f6e (\u4e0d\u5305\u542b ",(0,l.jsx)(n.code,{children:"1"}),")\uff0c\u7136\u5f8c\u5c07\u9019\u500b\u503c\u653e\u9032 ",(0,l.jsx)(n.code,{children:"dense_bucket_"})," \u88e1\u9762\uff0c\u5982\u679c\u9019\u500b\u503c\u8d85\u904e 4 bits\uff0c\u518d\u628a\u591a\u9918\u7684\u90e8\u5206\u653e\u5230 ",(0,l.jsx)(n.code,{children:"overflow_bucket_"})," \u88e1\u9762\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:["\u9019\u500b task \u4e3b\u8981\u6709\u4e09\u500b function \u9700\u8981\u5be6\u4f5c\uff0c\u5206\u5225\u662f ",(0,l.jsx)(n.code,{children:"PrestoHyperLogLog(initial_bits)"}),"\u3001",(0,l.jsx)(n.code,{children:"AddElem(val)"})," \u548c ",(0,l.jsx)(n.code,{children:"ComputeCardinality()"}),"\uff0c\u9019\u4e09\u500b function \u7684\u908f\u8f2f\u548c Hyperloglog \u7684\u5dee\u4e0d\u591a\uff0c\u53ea\u662f\u8981\u6ce8\u610f ",(0,l.jsx)(n.code,{children:"dense_bucket_"})," \u548c ",(0,l.jsx)(n.code,{children:"overflow_bucket_"})," \u7684\u8655\u7406\u3002"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"PrestoHyperLogLog(int initial_bits)"})," : \u8207 task 1 \u985e\u4f3c\uff0c\u53ea\u662f\u6539\u6210\u8981\u521d\u59cb\u5316 ",(0,l.jsx)(n.code,{children:"dense_bucket_"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"AddElem(val)"})," : \u8207 task 1 \u985e\u4f3c\uff0c\u53ea\u662f\u8981\u6ce8\u610f\u5c07 ",(0,l.jsx)(n.code,{children:"leading zeros"})," \u7684\u8a08\u7b97\u65b9\u5f0f\u6539\u6210\u5f9e\u6700\u53f3\u908a\u958b\u59cb\u53d6\u503c\u5230\u7b2c\u4e00\u500b ",(0,l.jsx)(n.code,{children:"1"})," \u7684\u4f4d\u7f6e (\u4e0d\u5305\u542b ",(0,l.jsx)(n.code,{children:"1"}),")"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"ComputeCardinality()"})," : \u8207 task 1 \u985e\u4f3c\uff0c\u53ea\u662f\u5c07 ",(0,l.jsx)(n.code,{children:"overflow_bucket_"})," \u5de6\u79fb 4 bits \u518d\u76f8\u52a0"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"submit",children:"Submit"}),"\n",(0,l.jsxs)(n.p,{children:["\u5982\u679c\u8981\u8a3b\u518a GradeScope\uff0c\u53ef\u4ee5\u53c3\u8003 ",(0,l.jsx)(n.a,{href:"https://blog.csdn.net/qq_40878302/article/details/136005292",children:"\u9019\u500b\u7db2\u7ad9"})," \u8ddf ",(0,l.jsx)(n.a,{href:"https://15445.courses.cs.cmu.edu/fall2024/faq.html",children:"\u5b98\u7db2"}),"\u3002"]}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\u5c07 ",(0,l.jsx)(n.code,{children:"/test/primer/hyperloglog_test.cpp"})," \u7684\u6240\u6709 test case \u4e2d\u7684 ",(0,l.jsx)(n.code,{children:"DISABLE_"})," \u90fd\u79fb\u9664\uff0c\u8209\u4f8b\u4f86\u8aaa :"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-cpp",metastring:'title="test/primer/hyperloglog_test.cpp"',children:"TEST(HyperLogLogTest, DISABLE_BasicTest1) {}\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u6539\u6210"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-cpp",metastring:'title="test/primer/hyperloglog_test.cpp"',children:"TEST(HyperLogLogTest, BasicTest1) {}\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u9019\u6a23\u5c31\u53ef\u4ee5\u57f7\u884c\u6240\u6709\u7684 test case \u4e86\u3002"}),"\n",(0,l.jsxs)(n.ol,{start:"2",children:["\n",(0,l.jsx)(n.li,{children:"\u91cd\u65b0\u7de8\u8b6f\u4e26\u6e2c\u8a66\u6240\u6709\u7684 test case"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"cmake -DCMAKE_BUILD_TYPE=Release -DCMAKE_C_COMPILER=/usr/bin/clang-14 -DCMAKE_CXX_COMPILER=/usr/bin/clang++-14 -B build\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"cd build\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"make -j$(nproc) hyperloglog_test\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"./test/hyperloglog_test\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u4e26\u78ba\u8a8d\u6240\u6709\u7684 test case \u90fd\u80fd\u901a\u904e\uff0c\u4ee3\u8868\u6210\u529f\u5b8c\u6210\u4e86\u9019\u500b\u4f5c\u696d\u3002"}),"\n",(0,l.jsxs)(n.ol,{start:"3",children:["\n",(0,l.jsxs)(n.li,{children:["\u4fee\u6539 ",(0,l.jsx)(n.code,{children:"CMakeLists.txt"}),"\uff0c\u5c07 ",(0,l.jsx)(n.code,{children:"P0_FILES"})," \u8a2d\u5b9a\u70ba\u4ee5\u4e0b (\u9700\u8981\u91cd\u65b0\u57f7\u884c ",(0,l.jsx)(n.code,{children:"cmake"})," \u6307\u4ee4\u4f86\u66f4\u65b0 makefile) :"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-CMake",metastring:'title="CMakeLists.txt" showLineNumbers {6}',children:'set(P0_FILES\n        "src/include/primer/hyperloglog.h"\n        "src/include/primer/hyperloglog_presto.h"\n        "src/primer/hyperloglog.cpp"\n        "src/primer/hyperloglog_presto.cpp"\n        "GRADESCOPE.md"\n)\n'})}),"\n",(0,l.jsxs)(n.ol,{start:"4",children:["\n",(0,l.jsx)(n.li,{children:"\u9032\u884c\u6392\u7248\uff0c\u78ba\u5b9a\u6d88\u9664\u6240\u6709 error \u548c warning (\u7279\u5225\u662f check-clang-tidy-p0) :"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"make format\nmake check-lint\nmake check-clang-tidy-p0\n"})}),"\n",(0,l.jsxs)(n.ol,{start:"5",children:["\n",(0,l.jsxs)(n.li,{children:["\u7c3d\u540d\uff0c\u6703\u7522\u751f\u4e00\u500b ",(0,l.jsx)(n.code,{children:"GRADESCOPE.md"})," :"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"python3 gradescope_sign.py\n"})}),"\n",(0,l.jsxs)(n.ol,{start:"6",children:["\n",(0,l.jsxs)(n.li,{children:["\u7e73\u4ea4\u4f5c\u696d\uff0c\u53ef\u80fd\u9700\u8981\u5148\u57f7\u884c ",(0,l.jsx)(n.code,{children:"sudo apt-get install zip"})," \u4f86\u5b89\u88dd ",(0,l.jsx)(n.code,{children:"zip"}),"\uff0c\u7136\u5f8c\u57f7\u884c\u4ee5\u4e0b\u6307\u4ee4 :"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"make submit-p0\n"})}),"\n",(0,l.jsxs)(n.ol,{start:"7",children:["\n",(0,l.jsxs)(n.li,{children:["\u4e0a\u50b3 ",(0,l.jsx)(n.code,{children:".zip"})," \u6a94\u5230 GradeScope"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(o,{...e})}):o(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>c,x:()=>t});var i=s(96540);const l={},r=i.createContext(l);function c(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:c(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);