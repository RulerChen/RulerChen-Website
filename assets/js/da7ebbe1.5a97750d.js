"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[6456],{7190:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>a,contentTitle:()=>s,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"Golang/syntax","title":"[Go] Basic Syntax","description":"Basic setup for Go","source":"@site/docs/Golang/syntax.mdx","sourceDirName":"Golang","slug":"/Golang/syntax","permalink":"/RulerChen-Website/docs/Golang/syntax","draft":false,"unlisted":false,"editUrl":"https://github.com/RulerChen/RulerChen-Website/tree/main/docs/Golang/syntax.mdx","tags":[],"version":"current","lastUpdatedAt":1736519877000,"sidebarPosition":10,"frontMatter":{"title":"[Go] Basic Syntax","sidebar_position":10,"description":"Basic setup for Go","keywords":["golang","go","basic"]},"sidebar":"tutorialSidebar","previous":{"title":"[Express.js] Express Setup","permalink":"/RulerChen-Website/docs/NodeJs/expresssetup"},"next":{"title":"[Go] gRPC","permalink":"/RulerChen-Website/docs/Golang/grpc"}}');var r=t(4848),c=t(8453);const l={title:"[Go] Basic Syntax",sidebar_position:10,description:"Basic setup for Go",keywords:["golang","go","basic"]},s=void 0,a={},o=[{value:"Why Go?",id:"why-go",level:2},{value:"Setting up Go in VScode",id:"setting-up-go-in-vscode",level:2},{value:"Hello World",id:"hello-world",level:2},{value:"Package",id:"package",level:2},{value:"Variables",id:"variables",level:2},{value:"Basic Type",id:"basic-type",level:3},{value:"Constants &amp; Variables",id:"constants--variables",level:3},{value:"Zero Value",id:"zero-value",level:3},{value:"Type Conversion",id:"type-conversion",level:3},{value:"Pointer",id:"pointer",level:3},{value:"Struct",id:"struct",level:3},{value:"Array &amp; Slice",id:"array--slice",level:3},{value:"String",id:"string",level:3},{value:"Map",id:"map",level:3},{value:"Control Flow",id:"control-flow",level:2},{value:"If-Else",id:"if-else",level:3},{value:"Switch",id:"switch",level:3},{value:"For Loop",id:"for-loop",level:3},{value:"Function",id:"function",level:3},{value:"Break &amp; Continue",id:"break--continue",level:3},{value:"Defer",id:"defer",level:3},{value:"Interface &amp; Method",id:"interface--method",level:2},{value:"Concurrency",id:"concurrency",level:2},{value:"Goroutine",id:"goroutine",level:3},{value:"Channel",id:"channel",level:3},{value:"Select",id:"select",level:3},{value:"Mutex",id:"mutex",level:3},{value:"Error Handling",id:"error-handling",level:2},{value:"Generics",id:"generics",level:2},{value:"Go command",id:"go-command",level:2},{value:"Reference",id:"reference",level:2}];function d(n){const e={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,c.R)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.p,{children:"\u9019\u7bc7\u6587\u7ae0\u5305\u542b\u4e00\u4e9b Golang \u7684\u57fa\u672c\u8a9e\u6cd5"}),"\n",(0,r.jsx)(e.h2,{id:"why-go",children:"Why Go?"}),"\n",(0,r.jsx)(e.p,{children:"Go \u662f Google \u5167\u90e8\u7684\u4e09\u4f4d\u54e1\u5de5\u5728 2007 \u5e74\u958b\u767c\u7684\u8a9e\u8a00\uff0c\u4e3b\u8981\u5177\u6709\u4ee5\u4e0b\u7279\u9ede :"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u5f37\u578b\u5225\u7684\u975c\u614b\u8a9e\u8a00"}),"\n",(0,r.jsx)(e.li,{children:"\u7de8\u8b6f\u578b\u8a9e\u8a00"}),"\n",(0,r.jsx)(e.li,{children:"\u7c21\u6f54\u7684\u8a9e\u6cd5"}),"\n",(0,r.jsx)(e.li,{children:"\u9ad8\u6548\u7684\u4f75\u767c\u652f\u6301\u4ee5\u53ca garbage collection"}),"\n",(0,r.jsx)(e.li,{children:"\u7c21\u55ae\u7684\u4f9d\u8cf4\u7ba1\u7406"}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"setting-up-go-in-vscode",children:"Setting up Go in VScode"}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:["\u5b89\u88dd ",(0,r.jsx)(e.a,{href:"https://golang.org/doc/install",children:"Go"})]}),"\n",(0,r.jsxs)(e.li,{children:["\u8a2d\u5b9a\u74b0\u5883\u8b8a\u6578 ",(0,r.jsx)(e.code,{children:"GOROOT"})," \u8207 ",(0,r.jsx)(e.code,{children:"GOPATH"})]}),"\n",(0,r.jsx)(e.li,{children:"\u5b89\u88dd Go extension for VScode"}),"\n",(0,r.jsx)(e.li,{children:"\u8a2d\u5b9a auto formatter"}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-json",metastring:'title=".vscode/settings.json"',children:'{\n  "[go]": {\n    "editor.formatOnSave": true,\n    "editor.defaultFormatter": "golang.go"\n  }\n}\n'})}),"\n",(0,r.jsx)(e.h2,{id:"hello-world",children:"Hello World"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",metastring:'title="main.go"',children:'package main\n\nimport "fmt"\n\nfunc main() {\n    fmt.Println("Hello, World!")\n}\n'})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"go run main.go\n"})}),"\n",(0,r.jsx)(e.h2,{id:"package",children:"Package"}),"\n",(0,r.jsx)(e.p,{children:"Go \u7684 package \u662f\u7528\u4f86\u7d44\u7e54\u7a0b\u5f0f\u78bc\u7684\u55ae\u4f4d\uff0c\u6bcf\u500b\u7a0b\u5f0f\u6a94\u6848\u90fd\u9700\u8981\u5c6c\u65bc\u67d0\u500b package"}),"\n",(0,r.jsxs)(e.p,{children:["\u5f15\u7528\u7684\u8def\u5f91\u53ef\u4ee5\u662f\u76f8\u5c0d\u8def\u5f91\u6216\u662f\u7d55\u5c0d\u8def\u5f91\uff0c\u7d55\u5c0d\u8def\u5f91\u662f\u6307\u5f9e ",(0,r.jsx)(e.code,{children:"$GOPATH/src"})," \u958b\u59cb\u7684\u8def\u5f91\uff0c\u800c\u76f8\u5c0d\u8def\u5f91\u5247\u662f\u6307\u76f8\u5c0d\u65bc\u7576\u524d\u6a94\u6848\u7684\u8def\u5f91\uff0c\u6211\u5011\u9084\u53ef\u4ee5\u53d6\u5225\u540d\u4f86\u5f15\u7528\u5305"]}),"\n",(0,r.jsx)(e.p,{children:"Go \u6703\u5f9e package main \u958b\u59cb\u57f7\u884c\u7a0b\u5f0f\uff0c\u6240\u4ee5\u6bcf\u500b\u7a0b\u5f0f\u53ea\u80fd\u6709\u4e00\u500b package main"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:'package foo\n\nimport (\n\t"go/types"\n\t"golang.org/x/syscall"\n\t"errors"\n\txerrors "golang.org/x/errors"\n\t_ "os/signal"\n)\n'})}),"\n",(0,r.jsx)(e.p,{children:"\u5982\u679c\u6211\u5011\u8981\u5c07 package \u532f\u51fa\uff0c\u5247\u9700\u8981\u5c07 package \u540d\u7a31\u958b\u982d\u5927\u5beb"}),"\n",(0,r.jsxs)(e.p,{children:["\u70ba\u5f15\u5165\u7684 package \u53d6\u7684\u5225\u540d\uff0c\u53ef\u4ee5\u4f7f\u7528 ",(0,r.jsx)(e.code,{children:"_"})," \u4f86\u5ffd\u7565\uff0c\u9019\u6a23\u5c31\u6703\u57f7\u884c package \u7684 ",(0,r.jsx)(e.code,{children:"init"})," \u51fd\u6578\u4e26\u4e14\u907f\u514d\u672a\u5f15\u7528\u7684\u932f\u8aa4"]}),"\n",(0,r.jsx)(e.h2,{id:"variables",children:"Variables"}),"\n",(0,r.jsx)(e.h3,{id:"basic-type",children:"Basic Type"}),"\n",(0,r.jsx)(e.p,{children:"\u4e3b\u8981\u7684\u57fa\u672c\u578b\u614b\u6709\u4ee5\u4e0b\u5e7e\u7a2e :"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-txt",children:"bool\n\nint, int8, int16, int32, int64\nuint, uint8, uint16, uint32, uint64, uintptr\nfloat32, float64\ncomplex64, complex128\n\nstring\nbyte\nrune\n"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"int"})," : \u6574\u6578\uff0c\u6839\u64da\u7cfb\u7d71\u4f4d\u5143\u6578\u4e0d\u540c\u800c\u6709\u4e0d\u540c\u7684\u7bc4\u570d"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"uint"})," : \u6b63\u6574\u6578\uff0c\u6839\u64da\u7cfb\u7d71\u4f4d\u5143\u6578\u4e0d\u540c\u800c\u6709\u4e0d\u540c\u7684\u7bc4\u570d"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"uintptr"})," : \u7528\u4f86\u5132\u5b58\u6307\u6a19\u7684\u6574\u6578\uff0c\u4e00\u822c\u60c5\u6cc1\u4e0b\u4e0d\u5efa\u8b70\u4f7f\u7528\uff0c\u5e38\u8207 ",(0,r.jsx)(e.code,{children:"unsafe"})," package \u4e00\u8d77\u4f7f\u7528"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"complex64"})," : \u7531\u5169\u500b ",(0,r.jsx)(e.code,{children:"float32"})," \u7d44\u6210\u7684\u8907\u6578 (\u5be6\u90e8\u8207\u865b\u90e8)"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"string"})," : \u5b57\u4e32"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"byte"})," : \u985e\u4f3c ",(0,r.jsx)(e.code,{children:"uint8"}),"\uff0c\u7528\u4f86\u5132\u5b58\u5b57\u5143"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"rune"})," : \u985e\u4f3c ",(0,r.jsx)(e.code,{children:"int32"}),"\uff0c\u7528\u4f86\u5132\u5b58 Unicode \u5b57\u5143"]}),"\n"]}),"\n",(0,r.jsx)(e.h3,{id:"constants--variables",children:"Constants & Variables"}),"\n",(0,r.jsxs)(e.p,{children:["\u8207\u5927\u90e8\u5206\u7684\u7a0b\u5f0f\u8a9e\u8a00\u76f8\u540c\uff0cGo \u4e5f\u53ef\u4ee5\u7528 ",(0,r.jsx)(e.code,{children:"const"})," \u8ddf ",(0,r.jsx)(e.code,{children:"var"})," \u4f86\u5ba3\u544a\u5e38\u6578\u8207\u8b8a\u6578"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:'func main() {\n\tconst (\n\t\tname = "val"\n\t\tPI   float64 = 3.1415926\n\t)\n\tvar (\n\t\tage = 18\n\t)\n\n\tfmt.Println(name, age, PI)\n}\n'})}),"\n",(0,r.jsx)(e.p,{children:"\u5982\u679c\u5df2\u7d93\u6709\u8ce6\u503c\u7684\u8a71\uff0c\u53ef\u4ee5\u7701\u7565\u578b\u614b"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:'func main() {\n\tvar name = "val"\n\tvar age = 18\n\n\tfmt.Println(name, age)\n}\n'})}),"\n",(0,r.jsxs)(e.p,{children:["\u5982\u679c\u5728\u51fd\u6578\u88e1\u9762\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528 ",(0,r.jsx)(e.code,{children:":="})," \u4f86\u5ba3\u544a\u8b8a\u6578"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:'func main() {\n\tname := "val"\n\tage := 18\n\n\tfmt.Println(name, age)\n}\n'})}),"\n",(0,r.jsxs)(e.p,{children:["\u5728\u51fd\u6578\u5916\u9762\uff0c\u5247\u4e0d\u53ef\u4ee5\u4f7f\u7528 ",(0,r.jsx)(e.code,{children:":="})," \u4f86\u5ba3\u544a\u8b8a\u6578"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",metastring:"{2}",children:'name := "val"\n// syntax error: non-declaration statement outside function body\n\nfunc main() {\n\tfmt.Println(name)\n}\n'})}),"\n",(0,r.jsx)(e.h3,{id:"zero-value",children:"Zero Value"}),"\n",(0,r.jsx)(e.p,{children:"Go \u7684\u8b8a\u6578\u5728\u5ba3\u544a\u6642\uff0c\u5982\u679c\u6c92\u6709\u8ce6\u503c\u7684\u8a71\uff0c\u6703\u6709\u4e00\u500b zero value\uff0c\u4ee5\u4e0b\u662f\u4e00\u4e9b\u57fa\u672c\u578b\u614b\u7684 zero value :"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-txt",children:'int : 0\nfloat : 0.0\nbool : false\nstring : ""\npointer : nil\nslice : nil\n'})}),"\n",(0,r.jsx)(e.h3,{id:"type-conversion",children:"Type Conversion"}),"\n",(0,r.jsx)(e.p,{children:"Go \u7684\u578b\u614b\u8f49\u63db\u9700\u8981\u986f\u5f0f\u8f49\u63db\uff0c\u4e0d\u652f\u63f4\u96b1\u5f0f\u8f49\u63db"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:"func main() {\n\tvar a int = 10\n\tvar b float64 = float64(a)\n\tfmt.Println(b)\n}\n"})}),"\n",(0,r.jsx)(e.h3,{id:"pointer",children:"Pointer"}),"\n",(0,r.jsxs)(e.p,{children:["Go \u7684\u6307\u6a19\u8207 C \u985e\u4f3c\uff0c\u53ef\u4ee5\u900f\u904e ",(0,r.jsx)(e.code,{children:"&"})," \u53d6\u5f97\u8b8a\u6578\u7684\u8a18\u61b6\u9ad4\u4f4d\u7f6e\uff0c\u900f\u904e ",(0,r.jsx)(e.code,{children:"*"})," \u53d6\u5f97\u6307\u6a19\u6307\u5411\u7684\u503c\uff0c\u5dee\u5225\u5728\u65bc\u4e0d\u652f\u63f4\u6307\u6a19\u904b\u7b97"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:"func main() {\n\ta := 10\n\tb := &a\n\tfmt.Println(a, b)\n\t// 10 0xc0000b6010\n\n\t*b = 20\n\tfmt.Println(a, *b)\n\t// 20 20\n}\n"})}),"\n",(0,r.jsx)(e.h3,{id:"struct",children:"Struct"}),"\n",(0,r.jsx)(e.p,{children:"Struct \u662f\u4e00\u7a2e\u81ea\u5b9a\u7fa9\u7684\u8907\u5408\u578b\u614b\uff0c\u53ef\u4ee5\u7528\u4f86\u7d44\u7e54\u4e0d\u540c\u7684\u8b8a\u6578"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:'type person struct {\n    age int\n    sex bool\n}\n\nfunc main() {\n\tp := person{age: 32, sex: true}\n\tfmt.Println(p.age)\n\tfmt.Printf("%v\\n", p)\n\tfmt.Printf("%+v\\n", p)\n\tfmt.Printf("%#v\\n", p)\n}\n\n// 32\n// {32 true}\n// {age:32 sex:true}\n// main.person{age:32, sex:true}\n'})}),"\n",(0,r.jsxs)(e.p,{children:["\u53ef\u4ee5\u7528\u6307\u6a19\u4f86\u8b80\u53d6 struct \u7684\u503c\uff0cGo \u5141\u8a31\u6211\u5011\u76f4\u63a5\u4f7f\u7528 ",(0,r.jsx)(e.code,{children:"p2.age"})," \u4f86\u53d6\u5f97\u503c\uff0c\u800c\u4e0d\u9700\u8981\u4f7f\u7528 ",(0,r.jsx)(e.code,{children:"(*p2).age"})]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:"func main() {\n\tp := person{age: 32, sex: true}\n\tfmt.Println(p.age)\n\n\tp2 := &p\n\tfmt.Println(p2.age)\n}\n"})}),"\n",(0,r.jsx)(e.h3,{id:"array--slice",children:"Array & Slice"}),"\n",(0,r.jsx)(e.p,{children:"Go \u540c\u6a23\u652f\u6301\u9663\u5217\uff0c\u4f46\u9663\u5217\u7684\u5927\u5c0f\u662f\u56fa\u5b9a\u7684\uff0c\u5982\u679c\u9700\u8981\u52d5\u614b\u589e\u52a0\u5927\u5c0f\u53ef\u4ee5\u4f7f\u7528 slice"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:'func main() {\n\tvar a [2]string\n\ta[0] = "Hello"\n\ta[1] = "World"\n\tfmt.Println(a[0], a[1])\n\tfmt.Println(a)\n\n\tprimes := [6]int{2, 3, 5, 7, 11, 13}\n\tfmt.Println(primes)\n}\n'})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:"func main() {\n\tprimes := [6]int{2, 3, 5, 7, 11, 13}\n\n\tvar s []int = primes[1:4]\n\tfmt.Println(s)\n}\n// [3 5 7]\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0cslice \u662f reference type\uff0c\u6240\u4ee5\u7576\u6211\u5011\u5c0d slice \u505a\u4fee\u6539\u6642\uff0c\u539f\u672c\u7684\u9663\u5217\u4e5f\u6703\u88ab\u4fee\u6539"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:'func main() {\n\tnames := [4]string{\n\t\t"John",\n\t\t"Paul",\n\t\t"George",\n\t\t"Ringo",\n\t}\n\tfmt.Println(names)\n\n\ta := names[0:2]\n\tb := names[1:3]\n\tfmt.Println(a, b)\n\n\tb[0] = "XXX"\n\tfmt.Println(a, b)\n\tfmt.Println(names)\n}\n\n// [John Paul George Ringo]\n// [John Paul] [Paul George]\n// [John XXX] [XXX George]\n// [John XXX George Ringo]\n'})}),"\n",(0,r.jsx)(e.p,{children:"slice \u6709\u4e09\u500b\u5c6c\u6027\uff0c\u5206\u5225\u662f\u6307\u5411\u9663\u5217\u7684\u6307\u6a19\u3001\u9577\u5ea6 (len)\u3001\u5bb9\u91cf (cap)\uff0c\u5176\u4e2d\u9577\u5ea6\u662f\u6307 slice \u7684\u9577\u5ea6\uff0c\u5bb9\u91cf\u662f\u6307\u5206\u914d\u7d66 slice \u7684\u8a18\u61b6\u9ad4\u5927\u5c0f"}),"\n",(0,r.jsx)(e.p,{children:"\u5982\u679c slice \u7684 len > cap\uff0c\u5247\u6703\u91cd\u65b0\u5206\u914d\u8a18\u61b6\u9ad4\uff0c\u4e26\u4e14\u5c07\u539f\u672c\u7684\u503c\u8907\u88fd\u5230\u65b0\u7684 slice \u4e2d"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:'func main() {\n\ts := []int{2, 3, 5, 7, 11, 13}\n\tprintSlice(s)\n\n\t// Slice the slice to give it zero length.\n\ts = s[:0]\n\tprintSlice(s)\n\n\t// Extend its length.\n\ts = s[:4]\n\tprintSlice(s)\n\n\t// Drop its first two values.\n\ts = s[2:]\n\tprintSlice(s)\n}\n\nfunc printSlice(s []int) {\n\tfmt.Printf("len=%d cap=%d %v\\n", len(s), cap(s), s)\n}\n\n// len=6 cap=6 [2 3 5 7 11 13]\n// len=0 cap=6 []\n// len=4 cap=6 [2 3 5 7]\n// len=2 cap=4 [5 7]\n'})}),"\n",(0,r.jsx)(e.p,{children:"\u53ef\u4ee5\u7528 make \u4f86\u5efa\u7acb slice\uff0cmake \u6703\u5efa\u7acb\u4e00\u500b zero value \u7684 slice\uff0c\u4e26\u4e14\u521d\u59cb\u5316\u9577\u5ea6\u8207\u5bb9\u91cf"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:'func main() {\n\ta := make([]int, 5)\n\tprintSlice("a", a)\n\n\tb := make([]int, 0, 5)\n\tprintSlice("b", b)\n\n\tc := b[:2]\n\tprintSlice("c", c)\n\n\td := c[2:5]\n\tprintSlice("d", d)\n}\n\nfunc printSlice(s string, x []int) {\n\tfmt.Printf("%s len=%d cap=%d %v\\n", s, len(x), cap(x), x)\n}\n\n// a len=5 cap=5 [0 0 0 0 0]\n// b len=0 cap=5 []\n// c len=2 cap=5 [0 0]\n// d len=3 cap=3 [0 0 0]\n'})}),"\n",(0,r.jsx)(e.p,{children:"\u53ef\u4ee5\u5efa\u7acb\u591a\u7dad slice"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:'func main() {\n\tboard := [][]string{\n\t\t[]string{"_", "_", "_"},\n\t\t[]string{"_", "_", "_"},\n\t\t[]string{"_", "_", "_"},\n\t}\n\n\tboard[0][0] = "X"\n\tboard[2][2] = "O"\n\tboard[1][2] = "X"\n\tboard[1][0] = "O"\n\tboard[0][2] = "X"\n\n\tfor i := 0; i < len(board); i++ {\n\t\tfmt.Printf("%s\\n", strings.Join(board[i], " "))\n\t}\n}\n'})}),"\n",(0,r.jsx)(e.p,{children:"\u53ef\u4ee5\u5728 slice \u4e2d\u52a0\u5165\u5143\u7d20"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:'func main() {\n\tvar s []int\n\tprintSlice(s)\n\n\ts = append(s, 0)\n\tprintSlice(s)\n\n\ts = append(s, 1)\n\tprintSlice(s)\n\n\ts = append(s, 2, 3, 4)\n\tprintSlice(s)\n}\n\nfunc printSlice(s []int) {\n\tfmt.Printf("len=%d cap=%d %v\\n", len(s), cap(s), s)\n}\n\n// len=0 cap=0 []\n// len=1 cap=1 [0]\n// len=2 cap=2 [0 1]\n// len=5 cap=6 [0 1 2 3 4]\n'})}),"\n",(0,r.jsxs)(e.p,{children:["\u53ef\u4ee5\u4f7f\u7528 ",(0,r.jsx)(e.code,{children:"range"})," \u4f86\u8fed\u4ee3 slice\uff0c\u5982\u679c\u53ea\u9700\u8981\u67d0\u500b\u503c (i, v)\uff0c\u53ef\u4ee5\u4f7f\u7528 ",(0,r.jsx)(e.code,{children:"_"})," \u4f86\u5ffd\u7565"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:'func main() {\n\tvar pow = []int{1, 2, 4, 8, 16, 32, 64, 128}\n\n\tfor i, v := range pow {\n\t\tfmt.Printf("2**%d = %d\\n", i, v)\n\t}\n}\n\n// 2**0 = 1\n// 2**1 = 2\n// ...\n'})}),"\n",(0,r.jsx)(e.h3,{id:"string",children:"String"}),"\n",(0,r.jsx)(e.p,{children:"Go \u7684\u5b57\u4e32\u662f\u4e0d\u53ef\u8b8a\u7684\uff0c\u4f46\u53ef\u4ee5\u900f\u904e slice \u4f86\u53d6\u5f97\u90e8\u5206\u5b57\u4e32"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:'func main() {\n\ts := "Hello, World!"\n\tfmt.Println(s)\n\t// Hello, World!\n\n\tfmt.Println(s[0])\n\t// 72\n\n\tfmt.Println(string(s[0]))\n\t// H\n\n\tfmt.Println(len(s))\n\t// 13\n\n\tfmt.Println(s[0:5])\n\t// Hello\n\n\tfmt.Println(s[7:])\n\t// World!\n\n\tfmt.Println(s[:5])\n\t// Hello\n\n\tfmt.Println("Hello, " + "World!")\n\t// Hello, World!\n}\n'})}),"\n",(0,r.jsxs)(e.p,{children:["\u5982\u679c\u9700\u8981\u4fee\u6539\u5b57\u4e32\uff0c\u53ef\u4ee5\u900f\u904e ",(0,r.jsx)(e.code,{children:"[]byte"})," \u6216\u662f ",(0,r.jsx)(e.code,{children:"[]rune"})," \u4f86\u4fee\u6539"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:"func main() {\n\ts := \"Hello, World!\"\n\tb := []byte(s)\n\tb[0] = 'h'\n\tfmt.Println(string(b))\n\t// hello, World!\n\n\tr := []rune(s)\n\tr[0] = 'h'\n\tfmt.Println(string(r))\n\t// hello, World!\n}\n"})}),"\n",(0,r.jsx)(e.h3,{id:"map",children:"Map"}),"\n",(0,r.jsx)(e.p,{children:"Go \u7684 map \u662f\u4e00\u7a2e key-value \u7684 hash table"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:'func main() {\n\tm := map[string]int{"foo": 42}\n\tfmt.Println(m)\n\t// map[foo:42]\n\n\tfmt.Println(m["foo"])\n\t// 42\n\n\tm["foo"] = 100\n\tfmt.Println(m)\n\t// map[foo:100]\n\n\tfor k, v := range m {\n\t\tfmt.Println(k, v)\n\t}\n\t// foo 100\n\n\telem, ok := m["foo"]\n\tfmt.Println(elem, ok)\n\t// 100 true\n\n\tdelete(m, "foo")\n\tfmt.Println(m)\n\t// map[]\n}\n'})}),"\n",(0,r.jsx)(e.h2,{id:"control-flow",children:"Control Flow"}),"\n",(0,r.jsx)(e.h3,{id:"if-else",children:"If-Else"}),"\n",(0,r.jsx)(e.p,{children:"\u5728 Go \u7684 if-else \u4e2d\uff0c\u6211\u5011\u53ef\u4ee5\u5728\u689d\u4ef6\u5f0f\u524d\u9762\u52a0\u4e0a\u4e00\u500b statement\uff0c\u9019\u500b statement \u7684\u7bc4\u570d\u53ea\u5728 if-else \u5167"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:'func main() {\n\tif n := 42; n%3 == 0 {\n\t\tfmt.Println("n is divisible by 3")\n\t} else if n%3 == 1 {\n\t\tfmt.Println("n divided by 3 leaves a remainder of 1")\n\t} else {\n\t\tfmt.Println("n divided by 3 leaves a remainder of 2")\n\t}\n}\n'})}),"\n",(0,r.jsx)(e.h3,{id:"switch",children:"Switch"}),"\n",(0,r.jsx)(e.p,{children:"Go \u540c\u6a23\u4e5f\u6709 switch \u7684\u8a9e\u6cd5\uff0c\u6703\u5f9e\u4e0a\u5230\u4e0b\u57f7\u884c\uff0c\u76f4\u5230\u9047\u5230\u5339\u914d\u7684 case\uff0c\u5982\u679c\u6c92\u6709\u5339\u914d\u7684 case\uff0c\u5247\u6703\u57f7\u884c default"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:'func main() {\n\tswitch os := runtime.GOOS; os {\n\tcase "darwin":\n\t\tfmt.Println("OS X.")\n\tcase "linux":\n\t\tfmt.Println("Linux.")\n\tdefault:\n\t\tfmt.Printf("%s.\\n", os)\n\t}\n}\n'})}),"\n",(0,r.jsxs)(e.p,{children:["\u9664\u6b64\u4e4b\u5916\uff0cGo \u6709\u4e00\u500b keyword ",(0,r.jsx)(e.code,{children:"fallthrough"})," \u53ef\u4ee5\u7528\u4f86\u5f37\u5236\u57f7\u884c\u4e0b\u4e00\u500b case\uff0c\u4f46\u9019\u500b keyword \u6703\u5f71\u97ff\u53ef\u8b80\u6027\uff0c\u4e0d\u5efa\u8b70\u4f7f\u7528"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:'func main() {\n\tswitch i := 1; i {\n\tcase 1:\n\t\tfmt.Println("one")\n\t\tfallthrough\n\tcase 2:\n\t\tfmt.Println("two")\n\tcase 3:\n\t\tfmt.Println("three")\n\t}\n}\n// one\n// two\n'})}),"\n",(0,r.jsx)(e.h3,{id:"for-loop",children:"For Loop"}),"\n",(0,r.jsxs)(e.p,{children:["\u8207 C \u985e\u4f3c\uff0cGo \u4e5f\u6709 ",(0,r.jsx)(e.code,{children:"for"})," \u8ff4\u5708\uff0c\u53c3\u6578\u540c\u6a23\u70ba\u521d\u59cb\u5316\u3001\u689d\u4ef6\u3001\u905e\u589e"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:"func main() {\n\tfor i := 0; i < 5; i++ {\n\t\tfmt.Println(i)\n\t}\n}\n"})}),"\n",(0,r.jsxs)(e.p,{children:["\u5982\u679c\u60f3\u8981\u6709\u985e\u4f3c ",(0,r.jsx)(e.code,{children:"while"})," \u7684\u6548\u679c\uff0c\u53ef\u4ee5\u7701\u7565\u521d\u59cb\u5316\u8207\u905e\u589e"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:"func main() {\n\ti := 0\n\tfor i < 5 {\n\t\tfmt.Println(i)\n\t\ti++\n\t}\n}\n"})}),"\n",(0,r.jsx)(e.h3,{id:"function",children:"Function"}),"\n",(0,r.jsx)(e.p,{children:"\u4ee5\u4e0b\u662f\u4e00\u500b\u57fa\u672c\u7684\u51fd\u6578\uff0c\u5403\u5169\u500b\u6574\u6578\uff0c\u56de\u50b3\u4e00\u500b\u6574\u6578"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:"func add(a int, b int) int {\n\treturn a + b\n}\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u5982\u679c\u53c3\u6578\u7684\u985e\u578b\u76f8\u540c\uff0c\u53ef\u4ee5\u7c21\u5beb\u6210"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:"func add(a, b int) int {\n\treturn a + b\n}\n"})}),"\n",(0,r.jsxs)(e.p,{children:["\u5982\u679c\u6709\u591a\u500b\u56de\u50b3\u503c\uff0c\u53ef\u4ee5\u900f\u904e ",(0,r.jsx)(e.code,{children:"()"})," \u5305\u8d77\u4f86"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:'func foo(a int, b int) (int, error) {\n\tif b == 0 {\n\t\treturn 0, errors.New("b cannot be 0")\n\t}\n\td := a / b\n\n\treturn d, nil\n}\n\nfunc main() {\n\td, err := foo(10, 0)\n\tif err != nil {\n\t\tfmt.Println(err)\n\t} else {\n\t\tfmt.Println(d)\n\t}\n}\n'})}),"\n",(0,r.jsx)(e.p,{children:"\u4e5f\u6709 naked return \u7684\u65b9\u5f0f\uff0c\u53ef\u4ee5\u76f4\u63a5\u56de\u50b3\u8b8a\u6578\uff0c\u4f46\u5f71\u97ff\u53ef\u8b80\u6027\u56e0\u6b64\u4e0d\u5efa\u8b70\u4f7f\u7528"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:'func foo(a, b int) (d int, err error) {\n\tif b == 0 {\n\t\terr = errors.New("b cannot be 0")\n\t\treturn\n\t}\n\td = a / b\n\treturn\n}\n'})}),"\n",(0,r.jsx)(e.p,{children:"\u9664\u6b64\u4e4b\u5916\uff0cfunction \u4e5f\u53ef\u4ee5\u662f\u4e00\u7a2e\u578b\u614b\uff0c\u53ef\u4ee5\u7576\u4f5c\u53c3\u6578\u50b3\u905e"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:"func add(a, b int) int {\n\treturn a + b\n}\n\nfunc sub(a, b int) int {\n\treturn a - b\n}\n\nfunc calc(a, b int, f func(int, int) int) int {\n\treturn f(a, b)\n}\n\nfunc main() {\n\tfmt.Println(calc(10, 5, add))\n\tfmt.Println(calc(10, 5, sub))\n}\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u540c\u6642\uff0c\u5728 Go \u7684 function \u4e5f\u5177\u6709\u9589\u5305\u7684\u7279\u6027"}),"\n",(0,r.jsx)(e.p,{children:"\u6240\u8b02\u7684\u9589\u5305 (closure) \u662f\u6307\u5167\u90e8\u51fd\u5f0f\u80fd\u5920\u53d6\u5f97\u51fd\u5f0f\u5916\u90e8\u7684\u8b8a\u6578\uff0c\u4e26\u4e14\u8a18\u4f4f\u9019\u500b\u8b8a\u6578"}),"\n",(0,r.jsxs)(e.p,{children:["\u5728\u4e0b\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u533f\u540d\u51fd\u5f0f ",(0,r.jsx)(e.code,{children:"adder"})," \u6703\u8a18\u4f4f ",(0,r.jsx)(e.code,{children:"sum"})," \u7684\u503c\uff0c\u4e26\u4e14\u5728\u6bcf\u6b21\u547c\u53eb\u6642\u7d2f\u52a0"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:"func adder() func(int) int {\n\tsum := 0\n\treturn func(x int) int {\n\t\tsum += x\n\t\treturn sum\n\t}\n}\n\nfunc main() {\n\tpos, neg := adder(), adder()\n\tfor i := 0; i < 5; i++ {\n\t\tfmt.Println(\n\t\t\tpos(i),\n\t\t\tneg(-2*i),\n\t\t)\n\t}\n}\n\n// 0 0\n// 1 -2\n// 3 -6\n// 6 -12\n// 10 -20\n"})}),"\n",(0,r.jsx)(e.h3,{id:"break--continue",children:"Break & Continue"}),"\n",(0,r.jsxs)(e.p,{children:["\u5728 Go \u4e2d\uff0c",(0,r.jsx)(e.code,{children:"break"})," \u8207 ",(0,r.jsx)(e.code,{children:"continue"})," \u7684\u7528\u6cd5\u8207\u5176\u4ed6\u8a9e\u8a00\u76f8\u540c"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:"func main() {\n\tfor i := 0; i < 5; i++ {\n\t\tif i == 3 {\n\t\t\tbreak\n\t\t}\n\t\tfmt.Println(i)\n\t}\n\n\tfor i := 0; i < 5; i++ {\n\t\tif i == 3 {\n\t\t\tcontinue\n\t\t}\n\t\tfmt.Println(i)\n\t}\n}\n"})}),"\n",(0,r.jsx)(e.h3,{id:"defer",children:"Defer"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.code,{children:"defer"})," \u6703\u5728\u51fd\u6578\u7d50\u675f\u6642\u57f7\u884c\uff0c\u901a\u5e38\u7528\u4f86\u91cb\u653e\u8cc7\u6e90\uff0c\u63a1\u7528 LIFO \u7684\u65b9\u5f0f\u57f7\u884c"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:'func foo() {\n\tdefer fmt.Println("1")\n\tfmt.Println("2")\n\tdefer fmt.Println("3")\n}\n\nfunc main() {\n\tfoo()\n}\n// 2 3 1\n'})}),"\n",(0,r.jsx)(e.h2,{id:"interface--method",children:"Interface & Method"}),"\n",(0,r.jsx)(e.p,{children:"\u5728 Go \u4e2d\u6c92\u6709 class \u7684\u6982\u5ff5\uff0c\u4f46\u53ef\u4ee5\u900f\u904e struct \u8207 method \u4f86\u5be6\u73fe\u985e\u4f3c\u7684\u529f\u80fd"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:"type Vertex struct {\n\tX, Y float64\n}\n\nfunc (v Vertex) Abs() float64 {\n\treturn math.Sqrt(v.X*v.X + v.Y*v.Y)\n}\n\nfunc main() {\n\tv := Vertex{3, 4}\n\tfmt.Println(v.Abs())\n}\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u4e5f\u53ef\u4ee5\u5b9a\u7fa9\u5728\u6307\u6a19\u4e0a\uff0c\u9019\u6a23\u53ef\u4ee5\u4fee\u6539 struct \u7684\u503c"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:"func (v *Vertex) Scale(f float64) {\n\tv.X = v.X * f\n\tv.Y = v.Y * f\n}\n\nfunc main() {\n\tv := Vertex{3, 4}\n\tv.Scale(10)\n\tfmt.Println(v.Abs())\n}\n\n// 50\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u6216\u8005\u4e5f\u53ef\u4ee5\u4f7f\u7528\u53e6\u4e00\u7a2e\u5beb\u6cd5"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:"func Scale(v *Vertex, f float64) {\n\tv.X = v.X * f\n\tv.Y = v.Y * f\n}\n\nfunc main() {\n\tv := Vertex{3, 4}\n\tScale(&v, 10)\n\tfmt.Println(v.Abs())\n}\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u5728 Go \u4e2d\uff0cinterface \u662f\u4e00\u7a2e\u5b9a\u7fa9\u884c\u70ba\u7684\u65b9\u5f0f\uff0c\u53ef\u4ee5\u5c07 interface \u5b9a\u7fa9\u70ba\u4e00\u500b\u985e\u578b\uff0c\u7136\u5f8c\u5728\u5176\u4ed6\u5730\u65b9\u5be6\u73fe\u9019\u500b interface"}),"\n",(0,r.jsx)(e.p,{children:"\u6bd4\u8f03\u7279\u5225\u7684\u662f\uff0cGo \u7684 interface \u4e26\u4e0d\u9700\u8981\u986f\u5f0f\u5ba3\u544a\uff0c\u53ea\u8981 struct \u5be6\u4f5c\u4e86 interface \u7684\u6240\u6709\u65b9\u6cd5\uff0c\u5c31\u53ef\u4ee5\u7576\u4f5c\u8a72 interface \u4f7f\u7528"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:'type Shape interface {\n\tArea() float64\n}\n\ntype Circle struct {\n\tRadius float64\n}\n\nfunc (c Circle) Area() float64 {\n\treturn math.Pi * c.Radius * c.Radius\n}\n\ntype Rectangle struct {\n\tWidth, Height float64\n}\n\nfunc (r Rectangle) Area() float64 {\n\treturn r.Width * r.Height\n}\n\nfunc main() {\n\tvar s Shape\n\n\tc := Circle{Radius: 5}\n\tr := Rectangle{Width: 3, Height: 4}\n\n\ts = c\n\tfmt.Println("Circle Area:", s.Area())\n\n\ts = r\n\tfmt.Println("Rectangle Area:", s.Area())\n}\n'})}),"\n",(0,r.jsx)(e.p,{children:"\u9664\u6b64\u4e4b\u5916\uff0cGo \u9084\u6709\u4e00\u7a2e\u7a7a interface\uff0c\u53ef\u4ee5\u63a5\u53d7\u4efb\u4f55\u578b\u614b"}),"\n",(0,r.jsxs)(e.p,{children:["\u50cf\u662f json \u683c\u5f0f\u5c31\u53ef\u4ee5\u8655\u7406\u6210 ",(0,r.jsx)(e.code,{children:"map[string]interface{}"}),"\uff0c\u9019\u6a23\u5c31\u53ef\u4ee5\u63a5\u53d7\u4efb\u4f55\u578b\u614b\u7684 json"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:'func describe(i interface{}) {\n\tfmt.Printf("(%v, %T)\\n", i, i)\n}\n\nfunc main() {\n\tvar i interface{}\n\tdescribe(i)\n\n\ti = 42\n\tdescribe(i)\n\n\ti = "hello"\n\tdescribe(i)\n}\n'})}),"\n",(0,r.jsx)(e.p,{children:"\u7576\u9047\u5230\u7a7a\u7684 interface \u6642\uff0c\u53ef\u4ee5\u4f7f\u7528 type assertion \u6216\u662f type switch \u4f86\u53d6\u5f97\u539f\u672c\u7684\u578b\u614b"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:'func main() {\n\tvar i interface{} = "hello"\n\n\ts := i.(string)\n\tfmt.Println(s)\n\n\ts, ok := i.(string)\n\tfmt.Println(s, ok)\n\n\tf, ok := i.(float64)\n\tfmt.Println(f, ok)\n\n\tf = i.(float64)\n\tfmt.Println(f)\n\t// panic: interface conversion: interface {} is string, not float64\n}\n'})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:'func do(i interface{}) {\n\tswitch v := i.(type) {\n\tcase int:\n\t\tfmt.Printf("Twice %v is %v\\n", v, v*2)\n\tcase string:\n\t\tfmt.Printf("%q is %v bytes long\\n", v, len(v))\n\tdefault:\n\t\tfmt.Printf("I don\'t know about type %T!\\n", v)\n\t}\n}\n'})}),"\n",(0,r.jsx)(e.h2,{id:"concurrency",children:"Concurrency"}),"\n",(0,r.jsx)(e.h3,{id:"goroutine",children:"Goroutine"}),"\n",(0,r.jsxs)(e.p,{children:["\u5728 Go \u4e2d\uff0c\u6211\u5011\u53ef\u4ee5\u900f\u904e ",(0,r.jsx)(e.code,{children:"go"})," \u95dc\u9375\u5b57\u4f86\u555f\u52d5\u4e00\u500b goroutine\uff0cgoroutine \u662f\u4e00\u7a2e\u8f15\u91cf\u7d1a\u7684\u57f7\u884c\u7dd2\uff0c\u53ef\u4ee5\u8b93\u6211\u5011\u66f4\u6709\u6548\u7387\u5730\u4f7f\u7528 CPU"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:'func foo() {\n\tfor i := 0; i < 5; i++ {\n\t\tfmt.Println("foo:", i)\n\t\ttime.Sleep(1 * time.Second)\n\t}\n}\n\nfunc main() {\n\tgo foo()\n\n\tfor i := 0; i < 5; i++ {\n\t\tfmt.Println("main:", i)\n\t\ttime.Sleep(1 * time.Second)\n\t}\n}\n'})}),"\n",(0,r.jsx)(e.h3,{id:"channel",children:"Channel"}),"\n",(0,r.jsx)(e.p,{children:"channel \u7684\u672c\u8cea\u662f\u4e00\u500b\u74b0\u578b\u7684 queue\uff0c\u53ef\u4ee5\u7528\u4f86\u50b3\u905e\u548c\u63a5\u6536\u8cc7\u6599"}),"\n",(0,r.jsx)(e.p,{children:"\u4e3b\u8981\u5206\u6210\u5169\u7a2e\uff0c\u4e00\u7a2e\u662f unbuffered channel\uff0c\u53e6\u4e00\u7a2e\u662f buffered channel\uff0c\u5982\u679c\u8981\u4f7f\u7528 buffered channel\uff0c\u8981\u5728\u5efa\u7acb channel \u6642\u6307\u5b9a buffer \u7684\u5927\u5c0f\uff0c\u5426\u5247\u5c31\u662f unbuffered channel"}),"\n",(0,r.jsxs)(e.p,{children:["\u6211\u5011\u53ef\u4ee5\u5148\u900f\u904e ",(0,r.jsx)(e.code,{children:"make"})," \u4f86\u5efa\u7acb\u4e00\u500b unbuffered channel"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:'func main() {\n\tch := make(chan int)\n\tgo func() {\n\t\tch <- 42\n\t\tfmt.Println("sent")\n\t}()\n\n\ttime.Sleep(1 * time.Second)\n\n\tgo func() {\n\t\tval := <-ch\n\t\tfmt.Println("received", val)\n\t}()\n\n\ttime.Sleep(1 * time.Second)\n}\n\n// received 42\n// sent\n'})}),"\n",(0,r.jsx)(e.p,{children:"\u900f\u904e\u4e0a\u9762\u7684\u7bc4\u4f8b\u6211\u5011\u53ef\u4ee5\u89c0\u5bdf\u5230\uff0c\u5728\u6c92\u6709 buffer \u7684\u60c5\u6cc1\u4e0b\uff0c\u50b3\u9001\u7aef\u6703\u7b49\u5230\u6709\u4eba\u63a5\u6536\u8cc7\u6599\u5f8c\u624d\u80fd\u7e7c\u7e8c\u57f7\u884c"}),"\n",(0,r.jsx)(e.p,{children:"\u4f46\u5982\u679c\u6211\u5011\u6709 buffer \u7684\u8a71\uff0c\u5247\u53ef\u4ee5\u5148\u5c07\u8cc7\u6599\u653e\u5165 buffer\uff0c\u9019\u6a23\u50b3\u9001\u7aef\u5c31\u4e0d\u9700\u8981\u7b49\u5f85\u63a5\u6536\u7aef"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:'func main() {\n\tch := make(chan int, 1)\n\tgo func() {\n\t\tch <- 42\n\t\tfmt.Println("sent")\n\t}()\n\n\ttime.Sleep(1 * time.Second)\n\n\tgo func() {\n\t\tval := <-ch\n\t\tfmt.Println("received", val)\n\t}()\n\n\ttime.Sleep(1 * time.Second)\n}\n\n// sent\n// received 42\n'})}),"\n",(0,r.jsxs)(e.p,{children:["\u6211\u5011\u53ef\u4ee5\u5229\u7528 channel \u4f86\u5be6\u73fe\u4e00\u500b\u7c21\u55ae\u7684 producer-consumer \u6a21\u578b\uff0c\u8a18\u5f97\u9700\u8981\u4f7f\u7528 ",(0,r.jsx)(e.code,{children:"close"})," \u4f86\u8868\u793a\u4e0d\u80fd\u518d\u5f80 channel \u5beb\u5165\u8cc7\u6599"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:'func main() {\n\tch := make(chan int, 20)\n\twg := sync.WaitGroup{}\n\twg.Add(2)\n\n\tgo func() {\n\t\tdefer wg.Done()\n\t\tfor i := 0; i < 5; i++ {\n\t\t\tch <- i\n\t\t}\n\t}()\n\tgo func() {\n\t\tdefer wg.Done()\n\t\tfor i := 0; i < 5; i++ {\n\t\t\tch <- i\n\t\t}\n\t}()\n\n\twg2 := sync.WaitGroup{}\n\twg2.Add(1)\n\tgo func() {\n\t\tsum := 0\n\t\tfor {\n\t\t\ti, ok := <-ch\n\t\t\t// \u5982\u679c channel \u5df2\u7d93\u95dc\u9589 (\u8abf\u7528 close)\uff0c\u4e14 channel \u5167\u6c92\u6709\u8cc7\u6599\u7684\u8a71\uff0cok \u624d\u6703\u662f false\n\t\t\tif !ok {\n\t\t\t\tbreak\n\t\t\t}\n\t\t\tsum += i\n\t\t}\n\t\tfmt.Println("sum:", sum)\n\t\twg2.Done()\n\t}()\n\n\twg.Wait()\n\tclose(ch)\n\twg2.Wait()\n}\n'})}),"\n",(0,r.jsx)(e.h3,{id:"select",children:"Select"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.code,{children:"select"})," \u53ef\u4ee5\u7528\u4f86\u76e3\u807d\u591a\u500b channel\uff0c\u7576\u5176\u4e2d\u4e00\u500b channel \u6709\u503c\u6642\uff0c\u5c31\u6703\u57f7\u884c\u8a72 case"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:'func producer(ch chan int) {\n\tfor i := 0; i < 5; i++ {\n\t\tch <- i\n\t}\n\tclose(ch)\n}\n\nfunc consumer(ch1, ch2 chan int) {\n\tfor {\n\t\tselect {\n\t\tcase i, ok := <-ch1:\n\t\t\tif !ok {\n\t\t\t\tch1 = nil\n\t\t\t} else {\n\t\t\t\tfmt.Println("ch1:", i)\n\t\t\t}\n\t\tcase i, ok := <-ch2:\n\t\t\tif !ok {\n\t\t\t\tch2 = nil\n\t\t\t} else {\n\t\t\t\tfmt.Println("ch2:", i)\n\t\t\t}\n\t\t}\n\t\tif ch1 == nil && ch2 == nil {\n\t\t\tbreak\n\t\t}\n\t}\n}\n\nfunc main() {\n\tch1 := make(chan int, 5)\n\tch2 := make(chan int, 5)\n\tgo producer(ch1)\n\tgo producer(ch2)\n\tconsumer(ch1, ch2)\n}\n'})}),"\n",(0,r.jsx)(e.h3,{id:"mutex",children:"Mutex"}),"\n",(0,r.jsxs)(e.p,{children:["\u5728 Go \u4e2d\uff0c\u6211\u5011\u53ef\u4ee5\u4f7f\u7528 ",(0,r.jsx)(e.code,{children:"sync.Mutex"})," \u4f86\u5be6\u73fe\u9396\uff0c\u907f\u514d\u591a\u500b goroutine \u540c\u6642\u4fee\u6539\u8b8a\u6578"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:'type SafeCounter struct {\n\tv   map[string]int\n\tmux sync.Mutex\n}\n\nfunc (c *SafeCounter) Inc(key string) {\n\tc.mux.Lock()\n\tc.v[key]++\n\tc.mux.Unlock()\n}\n\nfunc (c *SafeCounter) Value(key string) int {\n\tc.mux.Lock()\n\tdefer c.mux.Unlock()\n\treturn c.v[key]\n}\n\nfunc main() {\n\tc := SafeCounter{v: make(map[string]int)}\n\tfor i := 0; i < 30; i++ {\n\t\tgo c.Inc("key")\n\t}\n\n\ttime.Sleep(time.Second)\n\tfmt.Println(c.Value("key"))\n}\n'})}),"\n",(0,r.jsx)(e.h2,{id:"error-handling",children:"Error Handling"}),"\n",(0,r.jsxs)(e.p,{children:["Go \u7684 error handling \u662f\u57fa\u65bc ",(0,r.jsx)(e.code,{children:"error"})," \u9019\u500b interface"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:"type error interface {\n    Error() string\n}\n"})}),"\n",(0,r.jsxs)(e.p,{children:["\u4e5f\u56e0\u6b64\uff0c\u4efb\u4f55\u5be6\u4f5c\u4e86 ",(0,r.jsx)(e.code,{children:"Error()"})," \u65b9\u6cd5\u7684\u578b\u614b\u90fd\u53ef\u4ee5\u7576\u4f5c error \u4f86\u4f7f\u7528"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:'type CustomErr struct {\n\terr error\n}\nfunc (c CustomErr) Error() string {\n\treturn fmt.Sprintf("err: %v", c.err)\n}\n'})}),"\n",(0,r.jsx)(e.p,{children:"\u4e5f\u53ef\u4ee5\u5728\u51fd\u6578\u4e2d\u8a2d\u5b9a\u591a\u500b\u56de\u50b3\u503c\uff0c\u5176\u4e2d\u6700\u5f8c\u4e00\u500b\u56de\u50b3\u503c\u901a\u5e38\u662f error"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:'func divide(a, b int) (int, error) {\n    if b == 0 {\n        return 0, errors.New("division by zero")\n    }\n    return a / b, nil\n}\n\nfunc main() {\n    result, err := divide(10, 0)\n    if err != nil {\n        fmt.Println("Error:", err)\n        return\n    }\n    fmt.Println("Result:", result)\n}\n'})}),"\n",(0,r.jsxs)(e.p,{children:["\u5728 Go \u4e2d\u4e5f\u6709\u4e00\u4e9b\u5167\u5efa\u7684\u8655\u7406\u65b9\u5f0f\uff0c\u50cf\u662f ",(0,r.jsx)(e.code,{children:"panic"})," \u8207 ",(0,r.jsx)(e.code,{children:"recover"})]}),"\n",(0,r.jsx)(e.p,{children:"panic \u6703\u4e2d\u65b7\u7a0b\u5f0f\uff0c\u4e26\u4e14\u57f7\u884c defer \u7684\u51fd\u6578\uff0c\u5982\u679c\u6c92\u6709 recover \u7684\u8a71\uff0c\u7a0b\u5f0f\u5c31\u6703\u7d50\u675f"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:'func main() {\n\tdefer func() {\n\t\tif r := recover(); r != nil {\n\t\t\tfmt.Println("Recovered:", r)\n\t\t}\n\t}()\n\n\tpanic("panic")\n}\n'})}),"\n",(0,r.jsx)(e.h2,{id:"generics",children:"Generics"}),"\n",(0,r.jsxs)(e.p,{children:["Go \u652f\u63f4\u6cdb\u578b\uff0c\u5167\u5efa\u4e00\u4e9b type constraints\uff0c\u50cf\u662f ",(0,r.jsx)(e.code,{children:"any"})," \u8ddf ",(0,r.jsx)(e.code,{children:"comparable"})]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:'func Print[T any](s []T) {\n\tfor _, v := range s {\n\t\tfmt.Println(v)\n\t}\n}\n\nfunc main() {\n\tPrint([]int{1, 2, 3})\n\tPrint([]string{"a", "b", "c"})\n}\n'})}),"\n",(0,r.jsx)(e.p,{children:"\u540c\u6642\uff0c\u5728 type \u4e2d\u4e5f\u53ef\u4ee5\u4f7f\u7528 type constraints"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:"type Pair[T comparable] struct {\n\tFirst, Second T\n}\n\nfunc main() {\n\tp := Pair{First: 1, Second: 2}\n\tfmt.Println(p)\n}\n"})}),"\n",(0,r.jsx)(e.h2,{id:"go-command",children:"Go command"}),"\n",(0,r.jsx)(e.p,{children:"\u4ee5\u4e0b\u6703\u5217\u51fa Go \u5e38\u7528\u7684\u6307\u4ee4"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"go run main.go # \u7de8\u8b6f\u4e26\u57f7\u884c\u7a0b\u5f0f\ngo build main.go # \u7de8\u8b6f\u7a0b\u5f0f\uff0c\u4e26\u7522\u751f .exe \u6a94\ngo build -o <output_name> main.go # \u6307\u5b9a\u8f38\u51fa\u6a94\u540d\u548c\u4f4d\u7f6e\n\ngo get <package_path> # \u4e0b\u8f09 package\ngo get -u <package_path> # \u66f4\u65b0 package\ngo get -u # \u66f4\u65b0\u6240\u6709 package\ngo get <package_path>@none # \u79fb\u9664 package\n\n\ngo install main.go # \u7de8\u8b6f\u4e26\u5b89\u88dd\u7a0b\u5f0f\n\ngo mod init <module_name> # \u521d\u59cb\u5316 module\uff0c\u5efa\u7acb go.mod \u4f86\u7ba1\u7406 package\ngo mod tidy # \u79fb\u9664\u4e26\u65b0\u589e\u7f3a\u5c11\u7684 package\n\ngo test # \u6e2c\u8a66\u7a0b\u5f0f\ngo test -v # \u986f\u793a\u8a73\u7d30\u8cc7\u8a0a\ngo test -run <test_name> # \u57f7\u884c\u7279\u5b9a\u7684 test\ngo test -cover # \u986f\u793a coverage\n\ngo fmt # \u683c\u5f0f\u5316\u7a0b\u5f0f\u78bc\n"})}),"\n",(0,r.jsx)(e.h2,{id:"reference",children:"Reference"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://tour.golang.org/welcome/1",children:"A Tour of Go"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://medium.com/%E4%BC%81%E9%B5%9D%E4%B9%9F%E6%87%82%E7%A8%8B%E5%BC%8F%E8%A8%AD%E8%A8%88/golang-goroot-gopath-go-modules-%E4%B8%89%E8%80%85%E7%9A%84%E9%97%9C%E4%BF%82%E4%BB%8B%E7%B4%B9-d17481d7a655",children:"Golang \u2014 GOROOT\u3001GOPATH\u3001Go-Modules-\u4e09\u8005\u7684\u95dc\u4fc2\u4ecb\u7d39"})}),"\n"]})]})}function h(n={}){const{wrapper:e}={...(0,c.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(d,{...n})}):d(n)}},8453:(n,e,t)=>{t.d(e,{R:()=>l,x:()=>s});var i=t(6540);const r={},c=i.createContext(r);function l(n){const e=i.useContext(c);return i.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function s(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:l(n.components),i.createElement(c.Provider,{value:e},n.children)}}}]);