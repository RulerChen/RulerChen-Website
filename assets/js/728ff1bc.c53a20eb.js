"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[2040],{3711:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>s,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"CMU15-445/c22","title":"Introduction to Distributed Databases","description":"CMU15-445/645 Introduction to Distributed Databases","source":"@site/docs/CMU15-445/c22.mdx","sourceDirName":"CMU15-445","slug":"/CMU15-445/c22","permalink":"/RulerChen-Website/docs/CMU15-445/c22","draft":false,"unlisted":false,"editUrl":"https://github.com/RulerChen/RulerChen-Website/tree/main/docs/CMU15-445/c22.mdx","tags":[{"inline":true,"label":"CMU15-445","permalink":"/RulerChen-Website/docs/tags/cmu-15-445"}],"version":"current","lastUpdatedAt":1757926140000,"sidebarPosition":22,"frontMatter":{"title":"Introduction to Distributed Databases","sidebar_position":22,"description":"CMU15-445/645 Introduction to Distributed Databases","keywords":["CMU15-445/645","Introduction to Distributed Databases","CMU15-445/645 \u7b46\u8a18"],"tags":["CMU15-445"]},"sidebar":"tutorialSidebar","previous":{"title":"Database Recovery","permalink":"/RulerChen-Website/docs/CMU15-445/c21"},"next":{"title":"Distributed OLTP Database Systems","permalink":"/RulerChen-Website/docs/CMU15-445/c23"}}');var r=n(4848),o=n(8453);const s={title:"Introduction to Distributed Databases",sidebar_position:"22",description:"CMU15-445/645 Introduction to Distributed Databases",keywords:["CMU15-445/645","Introduction to Distributed Databases","CMU15-445/645 \u7b46\u8a18"],tags:["CMU15-445"]},a=void 0,c={},d=[{value:"System Architecture",id:"system-architecture",level:2},{value:"Partitioning Schemes",id:"partitioning-schemes",level:2},{value:"Naive Table Partitioning",id:"naive-table-partitioning",level:3},{value:"Vertical Partitioning",id:"vertical-partitioning",level:3},{value:"Horizontal Partitioning",id:"horizontal-partitioning",level:3},{value:"Distributed Concurrency Control",id:"distributed-concurrency-control",level:2},{value:"Centralized Coordinator",id:"centralized-coordinator",level:3},{value:"Transaction Processing Monitor (TP Monitor)",id:"transaction-processing-monitor-tp-monitor",level:4},{value:"Middleware",id:"middleware",level:4},{value:"Decentralized Coordinator",id:"decentralized-coordinator",level:3},{value:"Distributed Concurrency Control",id:"distributed-concurrency-control-1",level:3},{value:"Federated Database",id:"federated-database",level:2}];function l(e){const i={h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",ul:"ul",...(0,o.R)(),...e.components},{Head:n,ImageModal:t}=i;return n||u("Head",!0),t||u("ImageModal",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n,{children:(0,r.jsx)("title",{children:"CMU 15-445 Introduction to Distributed Databases"})}),"\n",(0,r.jsx)(i.p,{children:"Distributed DBMS \u662f\u4e00\u7a2e\u5c07\u55ae\u4e00\u908f\u8f2f\u8cc7\u6599\u5eab\u5206\u6563\u5230\u591a\u500b\u7269\u7406\u8cc7\u6e90\u4e0a\u7684\u7cfb\u7d71\uff0c\u8ddf parallel DBMS \u7684\u5dee\u7570\u5728\u65bc\u5206\u6563\u5f0f\u7684\u7bc0\u9ede\u76f8\u5c0d\u8ddd\u96e2\u8f03\u9060\uff0c\u4e14\u53ef\u80fd\u8981\u901a\u904e\u516c\u5171\u7db2\u8def\u9032\u884c\u901a\u4fe1\u3002"}),"\n",(0,r.jsx)(i.p,{children:"\u5728\u6b64\u4e4b\u524d\uff0c\u6211\u5011\u5df2\u7d93\u5b78\u904e\u4e86\u8a31\u591a\u5728 single node \u74b0\u5883\u4e0b\u7684\u8cc7\u6599\u5eab\u6280\u8853\uff0c\u5982 :"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"Optimization & Planning"}),"\n",(0,r.jsx)(i.li,{children:"Concurrency Control"}),"\n",(0,r.jsx)(i.li,{children:"Recovery"}),"\n"]}),"\n",(0,r.jsx)(i.p,{children:"\u800c\u9019\u4e9b\u6280\u8853\u5728\u5206\u6563\u5f0f\u7cfb\u7d71\u4e2d\u90fd\u6703\u6709\u4e0d\u540c\u7684\u6311\u6230\uff0c\u4e5f\u662f\u9019\u7bc7\u8981\u8a0e\u8ad6\u7684\u4e3b\u984c\u3002"}),"\n",(0,r.jsx)(i.h2,{id:"system-architecture",children:"System Architecture"}),"\n",(0,r.jsx)(i.p,{children:"DBMS \u7684 system architecture \u5b9a\u7fa9\u4e86 CPU \u53ef\u4ee5\u76f4\u63a5\u8a2a\u554f\u90a3\u4e9b\u5171\u4eab\u8cc7\u6e90\uff0c\u5176\u4e2d single node \u7684\u67b6\u69cb\u5c31\u662f shared everything\uff0c\u800c\u5728\u5206\u6563\u5f0f\u7cfb\u7d71\u4e2d\uff0c\u6211\u5011\u4e3b\u8981\u8a0e\u8ad6\u7684\u662f\u53e6\u5916\u4e09\u7a2e\u67b6\u69cb :"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"Shared Memory : \u4e0d\u540c\u7684 CPU \u53ef\u4ee5\u8a2a\u554f\u540c\u4e00\u500b\u8a18\u61b6\u9ad4\u4f4d\u7f6e\uff0c\u9019\u7a2e\u67b6\u69cb\u5e7e\u4e4e\u6c92\u6709\u4eba\u4f7f\u7528"}),"\n",(0,r.jsx)(i.li,{children:"Shared Disk : \u4e0d\u540c\u7684 CPU \u53ef\u4ee5\u900f\u904e\u7db2\u8def\u8a2a\u554f\u540c\u4e00\u584a\u908f\u8f2f\u786c\u789f\uff0c\u4f46\u5404\u81ea\u6709\u5404\u81ea\u7684\u8a18\u61b6\u9ad4"}),"\n",(0,r.jsx)(i.li,{children:"Shared Nothing : \u6bcf\u500b\u7bc0\u9ede\u90fd\u6709\u81ea\u5df1\u7684 CPU\u3001Memory\u3001Disk\uff0c\u7bc0\u9ede\u4e4b\u9593\u6703\u900f\u904e\u7db2\u8def\u4f86\u901a\u4fe1\u3002\u7f3a\u9ede\u662f\u8f03\u96e3\u78ba\u4fdd\u4e00\u81f4\u6027\uff0c\u8f03\u96e3\u9032\u884c\u64f4\u5bb9"}),"\n"]}),"\n",(0,r.jsx)(t,{src:"/img/cmu15-445/c22/image.webp",caption:"System Architecture"}),"\n",(0,r.jsx)(i.p,{children:"\u5728\u5206\u6563\u5f0f\u7cfb\u7d71\u4e2d\uff0c\u7bc0\u9ede\u8207\u7bc0\u9ede\u4e4b\u9593\u7684\u95dc\u4fc2\u53ef\u4ee5\u5206\u70ba\u5169\u7a2e :"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"Homogeneous (\u540c\u8cea\u7bc0\u9ede) : \u6bcf\u500b\u7bc0\u9ede\u5728\u53e2\u96c6\u4e2d\u80fd\u5920\u57f7\u884c\u76f8\u540c\u7684\u4efb\u52d9\uff0c\u5728\u64f4\u5bb9\u4ee5\u53ca\u6545\u969c\u6062\u5fa9\u6bd4\u8f03\u7c21\u55ae"}),"\n",(0,r.jsx)(i.li,{children:"Heterogeneous (\u7570\u8cea\u7bc0\u9ede): \u7bc0\u9ede\u88ab\u5206\u914d\u7279\u5b9a\u7684\u4efb\u52d9\uff0c\u56e0\u6b64\u4e0d\u540c\u7bc0\u9ede\u4e4b\u9593\u9700\u8981\u9032\u884c\u901a\u4fe1\u624d\u80fd\u5b8c\u6210\u4efb\u52d9\uff0c\u53ef\u4ee5\u5728\u4e00\u500b\u7269\u7406\u7bc0\u9ede\u4e0a\u57f7\u884c\u591a\u500b\u865b\u64ec\u7bc0\u9ede"}),"\n"]}),"\n",(0,r.jsx)(t,{src:"/img/cmu15-445/c22/image-5.webp",caption:"Homogeneous VS Heterogeneous"}),"\n",(0,r.jsx)(i.p,{children:"\u4ee5 MongoDB \u70ba\u4f8b\uff0c\u5b83\u7684\u96c6\u7fa4\u6709\u4e09\u7a2e\u7bc0\u9ede\uff0c\u5206\u5225\u662f Router\u3001Config Server\u3001Shard\u3002\n\u4f7f\u7528\u8005\u6703\u767c\u9001\u8acb\u6c42\u7d66 Router\uff0cRouter \u6703\u6839\u64da Config Server \u7684\u8a2d\u5b9a\u4f86\u5c07\u8acb\u6c42\u8f49\u767c\u7d66 Shard\u3002"}),"\n",(0,r.jsx)(i.h2,{id:"partitioning-schemes",children:"Partitioning Schemes"}),"\n",(0,r.jsx)(i.p,{children:"Partitioning Schemes \u662f\u4e00\u7a2e\u628a\u8cc7\u6599\u5eab\u5206\u6563\u5230\u591a\u500b\u7bc0\u9ede\u4e0a\u7684\u65b9\u6cd5\uff0c\u4e5f\u5e38\u88ab\u7a31\u4f5c sharding\u3002"}),"\n",(0,r.jsx)(i.h3,{id:"naive-table-partitioning",children:"Naive Table Partitioning"}),"\n",(0,r.jsx)(i.p,{children:"\u5047\u8a2d\u4e00\u500b\u7bc0\u9ede\u6709\u8db3\u5920\u7684\u5bb9\u91cf\uff0c\u6211\u5011\u53ef\u4ee5\u8b93\u4e00\u500b\u7bc0\u9ede\u5132\u5b58\u4e00\u5f35\u8868\uff0c\u7f3a\u9ede\u662f\u53ef\u80fd\u5c0e\u81f4\u8cc7\u6599\u4e0d\u5747\u52fb\u3002"}),"\n",(0,r.jsx)(i.h3,{id:"vertical-partitioning",children:"Vertical Partitioning"}),"\n",(0,r.jsx)(i.p,{children:"\u5c07\u8868\u683c\u7684\u5c6c\u6027\u62c6\u5206\u6210\u4e0d\u540c\u7684\u5206\u5340\u3002\u6bcf\u500b\u5206\u5340\u5fc5\u9808\u5132\u5b58\u5143\u7d44\u8a0a\u606f\uff0c\u4ee5\u4fbf\u80fd\u5920\u91cd\u5efa\u539f\u59cb\u8a18\u9304\u3002"}),"\n",(0,r.jsx)(t,{src:"/img/cmu15-445/c22/image-7.webp",caption:"Vertical Partitioning"}),"\n",(0,r.jsx)(i.h3,{id:"horizontal-partitioning",children:"Horizontal Partitioning"}),"\n",(0,r.jsx)(i.p,{children:"\u5c07\u8868\u7684\u8cc7\u6599\u5207\u6210\u591a\u500b\u4e0d\u76f8\u95dc\u7684\u5b50\u96c6\uff0c\u4e26\u4e14\u627e\u5230\u4e00\u500b key \u4f86\u5c07\u8cc7\u6599\u5e73\u5747\u5206\u914d\u5230\u4e0d\u540c\u7684\u7bc0\u9ede\u4e0a\uff0c\u5e38\u898b\u7684\u5206\u914d\u65b9\u5f0f\u6709 :"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"Range Partitioning"}),"\n",(0,r.jsx)(i.li,{children:"Hash Partitioning"}),"\n",(0,r.jsx)(i.li,{children:"Predicate Partitioning"}),"\n"]}),"\n",(0,r.jsx)(i.p,{children:"\u901a\u5e38\u6703\u4f7f\u7528 partitionKey \u4f86\u67e5\u8a62\u8cc7\u6599\u3002"}),"\n",(0,r.jsx)(t,{src:"/img/cmu15-445/c22/image-8.webp",caption:"Horizontal Partitioning"}),"\n",(0,r.jsx)(i.p,{children:"\u5982\u679c\u4f7f\u7528 hash partitioning\uff0c\u5247\u53ef\u4ee5\u4f7f\u7528 consistent hashing \u4f86\u6e1b\u5c11\u7bc0\u9ede\u8b8a\u52d5\u6642\u7684\u8cc7\u6599\u91cd\u65b0\u5206\u914d\u3002"}),"\n",(0,r.jsx)(i.p,{children:"\u5c07\u6bcf\u500b hash \u503c\u5230\u908f\u8f2f\u74b0\u4e0a\u7684\u4e00\u500b\u4f4d\u7f6e\uff0c\u7136\u5f8c\u7531\u6700\u63a5\u8fd1\u8a72\u4f4d\u7f6e\u7684\u7bc0\u9ede (\u9806\u6642\u91dd\u65b9\u5411) \u8ca0\u8cac\u8a72\u9375\u3002\n\u7576\u4e00\u500b\u7bc0\u9ede\u88ab\u6dfb\u52a0\u6216\u79fb\u9664\u6642\uff0c\u53ea\u6709\u76f8\u9130\u7684\u7bc0\u9ede\u4e4b\u9593\u7684\u9375\u6703\u88ab\u79fb\u52d5\uff0c\u4e26\u4e14\u53ea\u6709 1/n \u7684\u9375\u6703\u88ab\u91cd\u65b0\u5206\u914d\u3002\n\u9664\u6b64\u4e4b\u5916\uff0c\u6211\u5011\u4e5f\u53ef\u4ee5\u5229\u7528 consistent hashing \u4f86\u505a replication\u3002"}),"\n",(0,r.jsx)(t,{src:"/img/cmu15-445/c22/image-11.webp",caption:"Consistent Hashing"}),"\n",(0,r.jsx)(i.h2,{id:"distributed-concurrency-control",children:"Distributed Concurrency Control"}),"\n",(0,r.jsx)(i.p,{children:"\u5728\u5206\u6563\u5f0f\u7cfb\u7d71\u4e2d\uff0c\u4ea4\u6613\u6703\u8a2a\u554f\u4e00\u500b\u6216\u591a\u500b\u5206\u5340\u7684\u8cc7\u6599\uff0c\u9019\u6642\u5019\u5c31\u6703\u9700\u8981\u8907\u96dc\u7684\u5354\u8abf\uff0c\u5373\u6240\u8b02\u7684 transaction coordination\u3002"}),"\n",(0,r.jsx)(i.p,{children:"\u901a\u5e38\u5206\u70ba\u4e2d\u5fc3\u5316\u548c\u53bb\u4e2d\u5fc3\u5316\u5169\u7a2e\u65b9\u5f0f\u3002"}),"\n",(0,r.jsx)(i.h3,{id:"centralized-coordinator",children:"Centralized Coordinator"}),"\n",(0,r.jsx)(i.h4,{id:"transaction-processing-monitor-tp-monitor",children:"Transaction Processing Monitor (TP Monitor)"}),"\n",(0,r.jsx)(i.p,{children:"\u8981\u5be6\u73fe\u4e2d\u5fc3\u5316\u7684\u5354\u8abf\u5c31\u9700\u8981\u6709\u4e00\u500b\u5143\u4ef6\u4f86\u7ba1\u7406\u6240\u6709\u7684\u4ea4\u6613\uff0c\u9019\u500b\u5143\u4ef6\u88ab\u7a31\u4f5c Transaction Processing Monitor (TP Monitor)\u3002\n\u6bcf\u6b21\u767c\u9001\u8acb\u6c42\u6642\uff0c\u90fd\u8981\u7d93\u904e TP Monitor \u4f86\u9032\u884c\u5354\u8abf\u3002"}),"\n",(0,r.jsx)(i.p,{children:"\u8209\u4f8b\u5982\u4e0b\u6240\u793a :"}),"\n",(0,r.jsx)(i.p,{children:"\u5047\u8a2d\u4e00\u500b DBMS \u6709\u56db\u500b partitions\uff0c\u5206\u5225\u662f P1\u3001P2\u3001P3\u3001P4\uff0c\u4e26\u4e14\u6709\u4e00\u500b TP Monitor \u4f86\u7ba1\u7406\u6240\u6709\u7684\u4ea4\u6613\u3002\n\u9019\u6642\u6709\u4e00\u500b\u4ea4\u6613\u9700\u8981\u4fee\u6539 P1\u3001P3\u3001P4 \u4e0a\u7684\u8cc7\u6599\uff0c\u90a3\u9ebc\u5b83\u9996\u5148\u8981\u5411 TP Monitor \u8acb\u6c42 P1\u3001P3\u3001P4 \u4e0a\u7684\u9396"}),"\n",(0,r.jsx)(t,{src:"/img/cmu15-445/c22/image-12.webp",caption:"Centralized Coordinator"}),"\n",(0,r.jsx)(i.p,{children:"\u62ff\u5230\u9396\u4e4b\u5f8c\u624d\u80fd\u4fee\u6539\u8cc7\u6599\uff0c\u4fee\u6539\u5b8c\u7562\u5f8c\u518d\u5411 coordinator \u767c\u9001 commit \u8acb\u6c42\uff0ccoordinator \u6703\u5411\u6240\u6709\u7684\u5206\u5340\u8a62\u554f\u9019\u500b\u4ea4\u6613\u662f\u5426\u53ef\u4ee5 commit\uff0c\u6700\u5f8c\u8fd4\u9084 ACK \u7d66\u4f7f\u7528\u8005\u3002"}),"\n",(0,r.jsx)(t,{src:"/img/cmu15-445/c22/image-13.webp",caption:"Centralized Coordinator"}),"\n",(0,r.jsx)(i.h4,{id:"middleware",children:"Middleware"}),"\n",(0,r.jsx)(i.p,{children:"\u9019\u7a2e coordinator \u53ef\u4ee5\u88ab\u7576\u6210\u4e00\u500b middleware\uff0c\u8ca0\u8cac\u5354\u8abf\u6240\u6709\u7684\u4ea4\u6613\u3002"}),"\n",(0,r.jsx)(t,{src:"/img/cmu15-445/c22/image-14.webp",caption:"Middleware"}),"\n",(0,r.jsx)(i.h3,{id:"decentralized-coordinator",children:"Decentralized Coordinator"}),"\n",(0,r.jsx)(i.p,{children:"\u518d\u53bb\u4e2d\u5fc3\u5316\u7684\u67b6\u69cb\u4e2d\uff0c\u57f7\u884c\u67d0\u500b\u4ea4\u6613\u6642\u6703\u9078\u64c7\u4e00\u500b\u7bc0\u9ede\u4f5c\u70ba master\uff0c\u8ca0\u8cac\u5354\u8abf\u6240\u6709\u7684\u4ea4\u6613\u3002"}),"\n",(0,r.jsx)(t,{src:"/img/cmu15-445/c22/image-15.webp",caption:"Decentralized Coordinator"}),"\n",(0,r.jsx)(i.h3,{id:"distributed-concurrency-control-1",children:"Distributed Concurrency Control"}),"\n",(0,r.jsx)(i.p,{children:"\u5206\u6563\u5f0f\u7684\u4f75\u767c\u63a7\u5236\u6709\u5f88\u591a\u6311\u6230\uff0c\u6bd4\u5982 :"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"Replication"}),"\n",(0,r.jsx)(i.li,{children:"Network Communication Overhead"}),"\n",(0,r.jsx)(i.li,{children:"Node Failures"}),"\n",(0,r.jsx)(i.li,{children:"Clock Skew"}),"\n"]}),"\n",(0,r.jsx)(i.p,{children:"\u5728\u4e0b\u5716\u7684\u4f8b\u5b50\u4e2d\uff0c\u6211\u5011\u53ef\u4ee5\u770b\u5230\u7531\u65bc\u6c92\u6709\u4e2d\u5fc3\u5316\u7684\u5354\u8abf\u5668\uff0c\u4e00\u65e6\u767c\u73fe\u5982\u5716\u4e2d\u7684\u6b7b\u9396\u60c5\u6cc1\uff0c\u5c31\u5f88\u96e3\u9032\u884c\u5354\u8abf\u3002"}),"\n",(0,r.jsx)(t,{src:"/img/cmu15-445/c22/image-17.webp",caption:"Distributed Concurrency Control"}),"\n",(0,r.jsx)(i.h2,{id:"federated-database",children:"Federated Database"}),"\n",(0,r.jsx)(i.p,{children:"\u5728\u524d\u9762\u7684\u7bc4\u4f8b\u4e2d\uff0c\u6211\u5011\u90fd\u5047\u8a2d\u8cc7\u6599\u5eab\u662f\u540c\u4e00\u7a2e\u7684\uff0c\u4f46\u5728\u5be6\u969b\u61c9\u7528\u4e2d\uff0c\u6211\u5011\u53ef\u80fd\u6703\u60f3\u8981\u4f7f\u7528\u4e0d\u540c\u7a2e\u985e\u7684\u8cc7\u6599\u5eab\uff0c\u4e26\u53ea\u66b4\u9732\u4e00\u500b\u7d71\u4e00\u7684\u4ecb\u9762\u3002"}),"\n",(0,r.jsx)(i.p,{children:"\u9019\u7a2e\u6280\u8853\u6709\u5f88\u591a\u7684\u6311\u6230\uff0c\u50cf\u662f query optimization\u3001data migration\u3001data consistency\uff0c\u76ee\u524d\u4ecd\u7136\u6c92\u6709\u4e00\u500b\u5f88\u597d\u7684\u89e3\u6c7a\u65b9\u6cd5\u3002"}),"\n",(0,r.jsx)(t,{src:"/img/cmu15-445/c22/image-16.webp",caption:"Federated Database"})]})}function h(e={}){const{wrapper:i}={...(0,o.R)(),...e.components};return i?(0,r.jsx)(i,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}function u(e,i){throw new Error("Expected "+(i?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},8453:(e,i,n)=>{n.d(i,{R:()=>s,x:()=>a});var t=n(6540);const r={},o=t.createContext(r);function s(e){const i=t.useContext(o);return t.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function a(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),t.createElement(o.Provider,{value:i},e.children)}}}]);