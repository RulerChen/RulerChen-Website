"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([["4929"],{88345:function(n,e,i){i.r(e),i.d(e,{frontMatter:()=>s,default:()=>h,toc:()=>o,metadata:()=>r,assets:()=>t,contentTitle:()=>a});var r=JSON.parse('{"id":"Golang/syntax","title":"[Go] Basic Syntax","description":"Basic setup for Go","source":"@site/docs/Golang/syntax.mdx","sourceDirName":"Golang","slug":"/Golang/syntax","permalink":"/RulerChen-Website/docs/Golang/syntax","draft":false,"unlisted":false,"editUrl":"https://github.com/RulerChen/RulerChen-Website/tree/main/docs/Golang/syntax.mdx","tags":[],"version":"current","lastUpdatedAt":1736519877000,"sidebarPosition":10,"frontMatter":{"title":"[Go] Basic Syntax","sidebar_position":10,"description":"Basic setup for Go","keywords":["golang","go","basic"]},"sidebar":"tutorialSidebar","previous":{"title":"[Express.js] Express Setup","permalink":"/RulerChen-Website/docs/NodeJs/expresssetup"},"next":{"title":"[Go] gRPC","permalink":"/RulerChen-Website/docs/Golang/grpc"}}'),l=i(85893),c=i(50065);let s={title:"[Go] Basic Syntax",sidebar_position:10,description:"Basic setup for Go",keywords:["golang","go","basic"]},a=void 0,t={},o=[{value:"Why Go?",id:"why-go",level:2},{value:"Setting up Go in VScode",id:"setting-up-go-in-vscode",level:2},{value:"Hello World",id:"hello-world",level:2},{value:"Package",id:"package",level:2},{value:"Variables",id:"variables",level:2},{value:"Basic Type",id:"basic-type",level:3},{value:"Constants &amp; Variables",id:"constants--variables",level:3},{value:"Zero Value",id:"zero-value",level:3},{value:"Type Conversion",id:"type-conversion",level:3},{value:"Pointer",id:"pointer",level:3},{value:"Struct",id:"struct",level:3},{value:"Array &amp; Slice",id:"array--slice",level:3},{value:"String",id:"string",level:3},{value:"Map",id:"map",level:3},{value:"Control Flow",id:"control-flow",level:2},{value:"If-Else",id:"if-else",level:3},{value:"Switch",id:"switch",level:3},{value:"For Loop",id:"for-loop",level:3},{value:"Function",id:"function",level:3},{value:"Break &amp; Continue",id:"break--continue",level:3},{value:"Defer",id:"defer",level:3},{value:"Interface &amp; Method",id:"interface--method",level:2},{value:"Concurrency",id:"concurrency",level:2},{value:"Goroutine",id:"goroutine",level:3},{value:"Channel",id:"channel",level:3},{value:"Select",id:"select",level:3},{value:"Mutex",id:"mutex",level:3},{value:"Error Handling",id:"error-handling",level:2},{value:"Generics",id:"generics",level:2},{value:"Go command",id:"go-command",level:2},{value:"Reference",id:"reference",level:2}];function d(n){let e={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,c.a)(),...n.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(e.p,{children:"\u9019\u7BC7\u6587\u7AE0\u5305\u542B\u4E00\u4E9B Golang \u7684\u57FA\u672C\u8A9E\u6CD5"}),"\n",(0,l.jsx)(e.h2,{id:"why-go",children:"Why Go?"}),"\n",(0,l.jsx)(e.p,{children:"Go \u662F Google \u5167\u90E8\u7684\u4E09\u4F4D\u54E1\u5DE5\u5728 2007 \u5E74\u958B\u767C\u7684\u8A9E\u8A00\uFF0C\u4E3B\u8981\u5177\u6709\u4EE5\u4E0B\u7279\u9EDE :"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u5F37\u578B\u5225\u7684\u975C\u614B\u8A9E\u8A00"}),"\n",(0,l.jsx)(e.li,{children:"\u7DE8\u8B6F\u578B\u8A9E\u8A00"}),"\n",(0,l.jsx)(e.li,{children:"\u7C21\u6F54\u7684\u8A9E\u6CD5"}),"\n",(0,l.jsx)(e.li,{children:"\u9AD8\u6548\u7684\u4F75\u767C\u652F\u6301\u4EE5\u53CA garbage collection"}),"\n",(0,l.jsx)(e.li,{children:"\u7C21\u55AE\u7684\u4F9D\u8CF4\u7BA1\u7406"}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"setting-up-go-in-vscode",children:"Setting up Go in VScode"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:["\u5B89\u88DD ",(0,l.jsx)(e.a,{href:"https://golang.org/doc/install",children:"Go"})]}),"\n",(0,l.jsxs)(e.li,{children:["\u8A2D\u5B9A\u74B0\u5883\u8B8A\u6578 ",(0,l.jsx)(e.code,{children:"GOROOT"})," \u8207 ",(0,l.jsx)(e.code,{children:"GOPATH"})]}),"\n",(0,l.jsx)(e.li,{children:"\u5B89\u88DD Go extension for VScode"}),"\n",(0,l.jsx)(e.li,{children:"\u8A2D\u5B9A auto formatter"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-json",metastring:'title=".vscode/settings.json"',children:'{\n  "[go]": {\n    "editor.formatOnSave": true,\n    "editor.defaultFormatter": "golang.go"\n  }\n}\n'})}),"\n",(0,l.jsx)(e.h2,{id:"hello-world",children:"Hello World"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-go",metastring:'title="main.go"',children:'package main\n\nimport "fmt"\n\nfunc main() {\n    fmt.Println("Hello, World!")\n}\n'})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"go run main.go\n"})}),"\n",(0,l.jsx)(e.h2,{id:"package",children:"Package"}),"\n",(0,l.jsx)(e.p,{children:"Go \u7684 package \u662F\u7528\u4F86\u7D44\u7E54\u7A0B\u5F0F\u78BC\u7684\u55AE\u4F4D\uFF0C\u6BCF\u500B\u7A0B\u5F0F\u6A94\u6848\u90FD\u9700\u8981\u5C6C\u65BC\u67D0\u500B package"}),"\n",(0,l.jsxs)(e.p,{children:["\u5F15\u7528\u7684\u8DEF\u5F91\u53EF\u4EE5\u662F\u76F8\u5C0D\u8DEF\u5F91\u6216\u662F\u7D55\u5C0D\u8DEF\u5F91\uFF0C\u7D55\u5C0D\u8DEF\u5F91\u662F\u6307\u5F9E ",(0,l.jsx)(e.code,{children:"$GOPATH/src"})," \u958B\u59CB\u7684\u8DEF\u5F91\uFF0C\u800C\u76F8\u5C0D\u8DEF\u5F91\u5247\u662F\u6307\u76F8\u5C0D\u65BC\u7576\u524D\u6A94\u6848\u7684\u8DEF\u5F91\uFF0C\u6211\u5011\u9084\u53EF\u4EE5\u53D6\u5225\u540D\u4F86\u5F15\u7528\u5305"]}),"\n",(0,l.jsx)(e.p,{children:"Go \u6703\u5F9E package main \u958B\u59CB\u57F7\u884C\u7A0B\u5F0F\uFF0C\u6240\u4EE5\u6BCF\u500B\u7A0B\u5F0F\u53EA\u80FD\u6709\u4E00\u500B package main"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-go",children:'package foo\n\nimport (\n	"go/types"\n	"golang.org/x/syscall"\n	"errors"\n	xerrors "golang.org/x/errors"\n	_ "os/signal"\n)\n'})}),"\n",(0,l.jsx)(e.p,{children:"\u5982\u679C\u6211\u5011\u8981\u5C07 package \u532F\u51FA\uFF0C\u5247\u9700\u8981\u5C07 package \u540D\u7A31\u958B\u982D\u5927\u5BEB"}),"\n",(0,l.jsxs)(e.p,{children:["\u70BA\u5F15\u5165\u7684 package \u53D6\u7684\u5225\u540D\uFF0C\u53EF\u4EE5\u4F7F\u7528 ",(0,l.jsx)(e.code,{children:"_"})," \u4F86\u5FFD\u7565\uFF0C\u9019\u6A23\u5C31\u6703\u57F7\u884C package \u7684 ",(0,l.jsx)(e.code,{children:"init"})," \u51FD\u6578\u4E26\u4E14\u907F\u514D\u672A\u5F15\u7528\u7684\u932F\u8AA4"]}),"\n",(0,l.jsx)(e.h2,{id:"variables",children:"Variables"}),"\n",(0,l.jsx)(e.h3,{id:"basic-type",children:"Basic Type"}),"\n",(0,l.jsx)(e.p,{children:"\u4E3B\u8981\u7684\u57FA\u672C\u578B\u614B\u6709\u4EE5\u4E0B\u5E7E\u7A2E :"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-txt",children:"bool\n\nint, int8, int16, int32, int64\nuint, uint8, uint16, uint32, uint64, uintptr\nfloat32, float64\ncomplex64, complex128\n\nstring\nbyte\nrune\n"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"int"})," : \u6574\u6578\uFF0C\u6839\u64DA\u7CFB\u7D71\u4F4D\u5143\u6578\u4E0D\u540C\u800C\u6709\u4E0D\u540C\u7684\u7BC4\u570D"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"uint"})," : \u6B63\u6574\u6578\uFF0C\u6839\u64DA\u7CFB\u7D71\u4F4D\u5143\u6578\u4E0D\u540C\u800C\u6709\u4E0D\u540C\u7684\u7BC4\u570D"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"uintptr"})," : \u7528\u4F86\u5132\u5B58\u6307\u6A19\u7684\u6574\u6578\uFF0C\u4E00\u822C\u60C5\u6CC1\u4E0B\u4E0D\u5EFA\u8B70\u4F7F\u7528\uFF0C\u5E38\u8207 ",(0,l.jsx)(e.code,{children:"unsafe"})," package \u4E00\u8D77\u4F7F\u7528"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"complex64"})," : \u7531\u5169\u500B ",(0,l.jsx)(e.code,{children:"float32"})," \u7D44\u6210\u7684\u8907\u6578 (\u5BE6\u90E8\u8207\u865B\u90E8)"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"string"})," : \u5B57\u4E32"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"byte"})," : \u985E\u4F3C ",(0,l.jsx)(e.code,{children:"uint8"}),"\uFF0C\u7528\u4F86\u5132\u5B58\u5B57\u5143"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"rune"})," : \u985E\u4F3C ",(0,l.jsx)(e.code,{children:"int32"}),"\uFF0C\u7528\u4F86\u5132\u5B58 Unicode \u5B57\u5143"]}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"constants--variables",children:"Constants & Variables"}),"\n",(0,l.jsxs)(e.p,{children:["\u8207\u5927\u90E8\u5206\u7684\u7A0B\u5F0F\u8A9E\u8A00\u76F8\u540C\uFF0CGo \u4E5F\u53EF\u4EE5\u7528 ",(0,l.jsx)(e.code,{children:"const"})," \u8DDF ",(0,l.jsx)(e.code,{children:"var"})," \u4F86\u5BA3\u544A\u5E38\u6578\u8207\u8B8A\u6578"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-go",children:'func main() {\n	const (\n		name = "val"\n		PI   float64 = 3.1415926\n	)\n	var (\n		age = 18\n	)\n\n	fmt.Println(name, age, PI)\n}\n'})}),"\n",(0,l.jsx)(e.p,{children:"\u5982\u679C\u5DF2\u7D93\u6709\u8CE6\u503C\u7684\u8A71\uFF0C\u53EF\u4EE5\u7701\u7565\u578B\u614B"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-go",children:'func main() {\n	var name = "val"\n	var age = 18\n\n	fmt.Println(name, age)\n}\n'})}),"\n",(0,l.jsxs)(e.p,{children:["\u5982\u679C\u5728\u51FD\u6578\u88E1\u9762\uFF0C\u4E5F\u53EF\u4EE5\u4F7F\u7528 ",(0,l.jsx)(e.code,{children:":="})," \u4F86\u5BA3\u544A\u8B8A\u6578"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-go",children:'func main() {\n	name := "val"\n	age := 18\n\n	fmt.Println(name, age)\n}\n'})}),"\n",(0,l.jsxs)(e.p,{children:["\u5728\u51FD\u6578\u5916\u9762\uFF0C\u5247\u4E0D\u53EF\u4EE5\u4F7F\u7528 ",(0,l.jsx)(e.code,{children:":="})," \u4F86\u5BA3\u544A\u8B8A\u6578"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-go",metastring:"{2}",children:'name := "val"\n// syntax error: non-declaration statement outside function body\n\nfunc main() {\n	fmt.Println(name)\n}\n'})}),"\n",(0,l.jsx)(e.h3,{id:"zero-value",children:"Zero Value"}),"\n",(0,l.jsx)(e.p,{children:"Go \u7684\u8B8A\u6578\u5728\u5BA3\u544A\u6642\uFF0C\u5982\u679C\u6C92\u6709\u8CE6\u503C\u7684\u8A71\uFF0C\u6703\u6709\u4E00\u500B zero value\uFF0C\u4EE5\u4E0B\u662F\u4E00\u4E9B\u57FA\u672C\u578B\u614B\u7684 zero value :"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-txt",children:'int : 0\nfloat : 0.0\nbool : false\nstring : ""\npointer : nil\nslice : nil\n'})}),"\n",(0,l.jsx)(e.h3,{id:"type-conversion",children:"Type Conversion"}),"\n",(0,l.jsx)(e.p,{children:"Go \u7684\u578B\u614B\u8F49\u63DB\u9700\u8981\u986F\u5F0F\u8F49\u63DB\uFF0C\u4E0D\u652F\u63F4\u96B1\u5F0F\u8F49\u63DB"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-go",children:"func main() {\n	var a int = 10\n	var b float64 = float64(a)\n	fmt.Println(b)\n}\n"})}),"\n",(0,l.jsx)(e.h3,{id:"pointer",children:"Pointer"}),"\n",(0,l.jsxs)(e.p,{children:["Go \u7684\u6307\u6A19\u8207 C \u985E\u4F3C\uFF0C\u53EF\u4EE5\u900F\u904E ",(0,l.jsx)(e.code,{children:"&"})," \u53D6\u5F97\u8B8A\u6578\u7684\u8A18\u61B6\u9AD4\u4F4D\u7F6E\uFF0C\u900F\u904E ",(0,l.jsx)(e.code,{children:"*"})," \u53D6\u5F97\u6307\u6A19\u6307\u5411\u7684\u503C\uFF0C\u5DEE\u5225\u5728\u65BC\u4E0D\u652F\u63F4\u6307\u6A19\u904B\u7B97"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-go",children:"func main() {\n	a := 10\n	b := &a\n	fmt.Println(a, b)\n	// 10 0xc0000b6010\n\n	*b = 20\n	fmt.Println(a, *b)\n	// 20 20\n}\n"})}),"\n",(0,l.jsx)(e.h3,{id:"struct",children:"Struct"}),"\n",(0,l.jsx)(e.p,{children:"Struct \u662F\u4E00\u7A2E\u81EA\u5B9A\u7FA9\u7684\u8907\u5408\u578B\u614B\uFF0C\u53EF\u4EE5\u7528\u4F86\u7D44\u7E54\u4E0D\u540C\u7684\u8B8A\u6578"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-go",children:'type person struct {\n    age int\n    sex bool\n}\n\nfunc main() {\n	p := person{age: 32, sex: true}\n	fmt.Println(p.age)\n	fmt.Printf("%v\\n", p)\n	fmt.Printf("%+v\\n", p)\n	fmt.Printf("%#v\\n", p)\n}\n\n// 32\n// {32 true}\n// {age:32 sex:true}\n// main.person{age:32, sex:true}\n'})}),"\n",(0,l.jsxs)(e.p,{children:["\u53EF\u4EE5\u7528\u6307\u6A19\u4F86\u8B80\u53D6 struct \u7684\u503C\uFF0CGo \u5141\u8A31\u6211\u5011\u76F4\u63A5\u4F7F\u7528 ",(0,l.jsx)(e.code,{children:"p2.age"})," \u4F86\u53D6\u5F97\u503C\uFF0C\u800C\u4E0D\u9700\u8981\u4F7F\u7528 ",(0,l.jsx)(e.code,{children:"(*p2).age"})]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-go",children:"func main() {\n	p := person{age: 32, sex: true}\n	fmt.Println(p.age)\n\n	p2 := &p\n	fmt.Println(p2.age)\n}\n"})}),"\n",(0,l.jsx)(e.h3,{id:"array--slice",children:"Array & Slice"}),"\n",(0,l.jsx)(e.p,{children:"Go \u540C\u6A23\u652F\u6301\u9663\u5217\uFF0C\u4F46\u9663\u5217\u7684\u5927\u5C0F\u662F\u56FA\u5B9A\u7684\uFF0C\u5982\u679C\u9700\u8981\u52D5\u614B\u589E\u52A0\u5927\u5C0F\u53EF\u4EE5\u4F7F\u7528 slice"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-go",children:'func main() {\n	var a [2]string\n	a[0] = "Hello"\n	a[1] = "World"\n	fmt.Println(a[0], a[1])\n	fmt.Println(a)\n\n	primes := [6]int{2, 3, 5, 7, 11, 13}\n	fmt.Println(primes)\n}\n'})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-go",children:"func main() {\n	primes := [6]int{2, 3, 5, 7, 11, 13}\n\n	var s []int = primes[1:4]\n	fmt.Println(s)\n}\n// [3 5 7]\n"})}),"\n",(0,l.jsx)(e.p,{children:"\u9700\u8981\u6CE8\u610F\u7684\u662F\uFF0Cslice \u662F reference type\uFF0C\u6240\u4EE5\u7576\u6211\u5011\u5C0D slice \u505A\u4FEE\u6539\u6642\uFF0C\u539F\u672C\u7684\u9663\u5217\u4E5F\u6703\u88AB\u4FEE\u6539"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-go",children:'func main() {\n	names := [4]string{\n		"John",\n		"Paul",\n		"George",\n		"Ringo",\n	}\n	fmt.Println(names)\n\n	a := names[0:2]\n	b := names[1:3]\n	fmt.Println(a, b)\n\n	b[0] = "XXX"\n	fmt.Println(a, b)\n	fmt.Println(names)\n}\n\n// [John Paul George Ringo]\n// [John Paul] [Paul George]\n// [John XXX] [XXX George]\n// [John XXX George Ringo]\n'})}),"\n",(0,l.jsx)(e.p,{children:"slice \u6709\u4E09\u500B\u5C6C\u6027\uFF0C\u5206\u5225\u662F\u6307\u5411\u9663\u5217\u7684\u6307\u6A19\u3001\u9577\u5EA6 (len)\u3001\u5BB9\u91CF (cap)\uFF0C\u5176\u4E2D\u9577\u5EA6\u662F\u6307 slice \u7684\u9577\u5EA6\uFF0C\u5BB9\u91CF\u662F\u6307\u5206\u914D\u7D66 slice \u7684\u8A18\u61B6\u9AD4\u5927\u5C0F"}),"\n",(0,l.jsx)(e.p,{children:"\u5982\u679C slice \u7684 len > cap\uFF0C\u5247\u6703\u91CD\u65B0\u5206\u914D\u8A18\u61B6\u9AD4\uFF0C\u4E26\u4E14\u5C07\u539F\u672C\u7684\u503C\u8907\u88FD\u5230\u65B0\u7684 slice \u4E2D"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-go",children:'func main() {\n	s := []int{2, 3, 5, 7, 11, 13}\n	printSlice(s)\n\n	// Slice the slice to give it zero length.\n	s = s[:0]\n	printSlice(s)\n\n	// Extend its length.\n	s = s[:4]\n	printSlice(s)\n\n	// Drop its first two values.\n	s = s[2:]\n	printSlice(s)\n}\n\nfunc printSlice(s []int) {\n	fmt.Printf("len=%d cap=%d %v\\n", len(s), cap(s), s)\n}\n\n// len=6 cap=6 [2 3 5 7 11 13]\n// len=0 cap=6 []\n// len=4 cap=6 [2 3 5 7]\n// len=2 cap=4 [5 7]\n'})}),"\n",(0,l.jsx)(e.p,{children:"\u53EF\u4EE5\u7528 make \u4F86\u5EFA\u7ACB slice\uFF0Cmake \u6703\u5EFA\u7ACB\u4E00\u500B zero value \u7684 slice\uFF0C\u4E26\u4E14\u521D\u59CB\u5316\u9577\u5EA6\u8207\u5BB9\u91CF"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-go",children:'func main() {\n	a := make([]int, 5)\n	printSlice("a", a)\n\n	b := make([]int, 0, 5)\n	printSlice("b", b)\n\n	c := b[:2]\n	printSlice("c", c)\n\n	d := c[2:5]\n	printSlice("d", d)\n}\n\nfunc printSlice(s string, x []int) {\n	fmt.Printf("%s len=%d cap=%d %v\\n", s, len(x), cap(x), x)\n}\n\n// a len=5 cap=5 [0 0 0 0 0]\n// b len=0 cap=5 []\n// c len=2 cap=5 [0 0]\n// d len=3 cap=3 [0 0 0]\n'})}),"\n",(0,l.jsx)(e.p,{children:"\u53EF\u4EE5\u5EFA\u7ACB\u591A\u7DAD slice"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-go",children:'func main() {\n	board := [][]string{\n		[]string{"_", "_", "_"},\n		[]string{"_", "_", "_"},\n		[]string{"_", "_", "_"},\n	}\n\n	board[0][0] = "X"\n	board[2][2] = "O"\n	board[1][2] = "X"\n	board[1][0] = "O"\n	board[0][2] = "X"\n\n	for i := 0; i < len(board); i++ {\n		fmt.Printf("%s\\n", strings.Join(board[i], " "))\n	}\n}\n'})}),"\n",(0,l.jsx)(e.p,{children:"\u53EF\u4EE5\u5728 slice \u4E2D\u52A0\u5165\u5143\u7D20"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-go",children:'func main() {\n	var s []int\n	printSlice(s)\n\n	s = append(s, 0)\n	printSlice(s)\n\n	s = append(s, 1)\n	printSlice(s)\n\n	s = append(s, 2, 3, 4)\n	printSlice(s)\n}\n\nfunc printSlice(s []int) {\n	fmt.Printf("len=%d cap=%d %v\\n", len(s), cap(s), s)\n}\n\n// len=0 cap=0 []\n// len=1 cap=1 [0]\n// len=2 cap=2 [0 1]\n// len=5 cap=6 [0 1 2 3 4]\n'})}),"\n",(0,l.jsxs)(e.p,{children:["\u53EF\u4EE5\u4F7F\u7528 ",(0,l.jsx)(e.code,{children:"range"})," \u4F86\u8FED\u4EE3 slice\uFF0C\u5982\u679C\u53EA\u9700\u8981\u67D0\u500B\u503C (i, v)\uFF0C\u53EF\u4EE5\u4F7F\u7528 ",(0,l.jsx)(e.code,{children:"_"})," \u4F86\u5FFD\u7565"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-go",children:'func main() {\n	var pow = []int{1, 2, 4, 8, 16, 32, 64, 128}\n\n	for i, v := range pow {\n		fmt.Printf("2**%d = %d\\n", i, v)\n	}\n}\n\n// 2**0 = 1\n// 2**1 = 2\n// ...\n'})}),"\n",(0,l.jsx)(e.h3,{id:"string",children:"String"}),"\n",(0,l.jsx)(e.p,{children:"Go \u7684\u5B57\u4E32\u662F\u4E0D\u53EF\u8B8A\u7684\uFF0C\u4F46\u53EF\u4EE5\u900F\u904E slice \u4F86\u53D6\u5F97\u90E8\u5206\u5B57\u4E32"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-go",children:'func main() {\n	s := "Hello, World!"\n	fmt.Println(s)\n	// Hello, World!\n\n	fmt.Println(s[0])\n	// 72\n\n	fmt.Println(string(s[0]))\n	// H\n\n	fmt.Println(len(s))\n	// 13\n\n	fmt.Println(s[0:5])\n	// Hello\n\n	fmt.Println(s[7:])\n	// World!\n\n	fmt.Println(s[:5])\n	// Hello\n\n	fmt.Println("Hello, " + "World!")\n	// Hello, World!\n}\n'})}),"\n",(0,l.jsxs)(e.p,{children:["\u5982\u679C\u9700\u8981\u4FEE\u6539\u5B57\u4E32\uFF0C\u53EF\u4EE5\u900F\u904E ",(0,l.jsx)(e.code,{children:"[]byte"})," \u6216\u662F ",(0,l.jsx)(e.code,{children:"[]rune"})," \u4F86\u4FEE\u6539"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-go",children:"func main() {\n	s := \"Hello, World!\"\n	b := []byte(s)\n	b[0] = 'h'\n	fmt.Println(string(b))\n	// hello, World!\n\n	r := []rune(s)\n	r[0] = 'h'\n	fmt.Println(string(r))\n	// hello, World!\n}\n"})}),"\n",(0,l.jsx)(e.h3,{id:"map",children:"Map"}),"\n",(0,l.jsx)(e.p,{children:"Go \u7684 map \u662F\u4E00\u7A2E key-value \u7684 hash table"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-go",children:'func main() {\n	m := map[string]int{"foo": 42}\n	fmt.Println(m)\n	// map[foo:42]\n\n	fmt.Println(m["foo"])\n	// 42\n\n	m["foo"] = 100\n	fmt.Println(m)\n	// map[foo:100]\n\n	for k, v := range m {\n		fmt.Println(k, v)\n	}\n	// foo 100\n\n	elem, ok := m["foo"]\n	fmt.Println(elem, ok)\n	// 100 true\n\n	delete(m, "foo")\n	fmt.Println(m)\n	// map[]\n}\n'})}),"\n",(0,l.jsx)(e.h2,{id:"control-flow",children:"Control Flow"}),"\n",(0,l.jsx)(e.h3,{id:"if-else",children:"If-Else"}),"\n",(0,l.jsx)(e.p,{children:"\u5728 Go \u7684 if-else \u4E2D\uFF0C\u6211\u5011\u53EF\u4EE5\u5728\u689D\u4EF6\u5F0F\u524D\u9762\u52A0\u4E0A\u4E00\u500B statement\uFF0C\u9019\u500B statement \u7684\u7BC4\u570D\u53EA\u5728 if-else \u5167"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-go",children:'func main() {\n	if n := 42; n%3 == 0 {\n		fmt.Println("n is divisible by 3")\n	} else if n%3 == 1 {\n		fmt.Println("n divided by 3 leaves a remainder of 1")\n	} else {\n		fmt.Println("n divided by 3 leaves a remainder of 2")\n	}\n}\n'})}),"\n",(0,l.jsx)(e.h3,{id:"switch",children:"Switch"}),"\n",(0,l.jsx)(e.p,{children:"Go \u540C\u6A23\u4E5F\u6709 switch \u7684\u8A9E\u6CD5\uFF0C\u6703\u5F9E\u4E0A\u5230\u4E0B\u57F7\u884C\uFF0C\u76F4\u5230\u9047\u5230\u5339\u914D\u7684 case\uFF0C\u5982\u679C\u6C92\u6709\u5339\u914D\u7684 case\uFF0C\u5247\u6703\u57F7\u884C default"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-go",children:'func main() {\n	switch os := runtime.GOOS; os {\n	case "darwin":\n		fmt.Println("OS X.")\n	case "linux":\n		fmt.Println("Linux.")\n	default:\n		fmt.Printf("%s.\\n", os)\n	}\n}\n'})}),"\n",(0,l.jsxs)(e.p,{children:["\u9664\u6B64\u4E4B\u5916\uFF0CGo \u6709\u4E00\u500B keyword ",(0,l.jsx)(e.code,{children:"fallthrough"})," \u53EF\u4EE5\u7528\u4F86\u5F37\u5236\u57F7\u884C\u4E0B\u4E00\u500B case\uFF0C\u4F46\u9019\u500B keyword \u6703\u5F71\u97FF\u53EF\u8B80\u6027\uFF0C\u4E0D\u5EFA\u8B70\u4F7F\u7528"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-go",children:'func main() {\n	switch i := 1; i {\n	case 1:\n		fmt.Println("one")\n		fallthrough\n	case 2:\n		fmt.Println("two")\n	case 3:\n		fmt.Println("three")\n	}\n}\n// one\n// two\n'})}),"\n",(0,l.jsx)(e.h3,{id:"for-loop",children:"For Loop"}),"\n",(0,l.jsxs)(e.p,{children:["\u8207 C \u985E\u4F3C\uFF0CGo \u4E5F\u6709 ",(0,l.jsx)(e.code,{children:"for"})," \u8FF4\u5708\uFF0C\u53C3\u6578\u540C\u6A23\u70BA\u521D\u59CB\u5316\u3001\u689D\u4EF6\u3001\u905E\u589E"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-go",children:"func main() {\n	for i := 0; i < 5; i++ {\n		fmt.Println(i)\n	}\n}\n"})}),"\n",(0,l.jsxs)(e.p,{children:["\u5982\u679C\u60F3\u8981\u6709\u985E\u4F3C ",(0,l.jsx)(e.code,{children:"while"})," \u7684\u6548\u679C\uFF0C\u53EF\u4EE5\u7701\u7565\u521D\u59CB\u5316\u8207\u905E\u589E"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-go",children:"func main() {\n	i := 0\n	for i < 5 {\n		fmt.Println(i)\n		i++\n	}\n}\n"})}),"\n",(0,l.jsx)(e.h3,{id:"function",children:"Function"}),"\n",(0,l.jsx)(e.p,{children:"\u4EE5\u4E0B\u662F\u4E00\u500B\u57FA\u672C\u7684\u51FD\u6578\uFF0C\u5403\u5169\u500B\u6574\u6578\uFF0C\u56DE\u50B3\u4E00\u500B\u6574\u6578"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-go",children:"func add(a int, b int) int {\n	return a + b\n}\n"})}),"\n",(0,l.jsx)(e.p,{children:"\u5982\u679C\u53C3\u6578\u7684\u985E\u578B\u76F8\u540C\uFF0C\u53EF\u4EE5\u7C21\u5BEB\u6210"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-go",children:"func add(a, b int) int {\n	return a + b\n}\n"})}),"\n",(0,l.jsxs)(e.p,{children:["\u5982\u679C\u6709\u591A\u500B\u56DE\u50B3\u503C\uFF0C\u53EF\u4EE5\u900F\u904E ",(0,l.jsx)(e.code,{children:"()"})," \u5305\u8D77\u4F86"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-go",children:'func foo(a int, b int) (int, error) {\n	if b == 0 {\n		return 0, errors.New("b cannot be 0")\n	}\n	d := a / b\n\n	return d, nil\n}\n\nfunc main() {\n	d, err := foo(10, 0)\n	if err != nil {\n		fmt.Println(err)\n	} else {\n		fmt.Println(d)\n	}\n}\n'})}),"\n",(0,l.jsx)(e.p,{children:"\u4E5F\u6709 naked return \u7684\u65B9\u5F0F\uFF0C\u53EF\u4EE5\u76F4\u63A5\u56DE\u50B3\u8B8A\u6578\uFF0C\u4F46\u5F71\u97FF\u53EF\u8B80\u6027\u56E0\u6B64\u4E0D\u5EFA\u8B70\u4F7F\u7528"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-go",children:'func foo(a, b int) (d int, err error) {\n	if b == 0 {\n		err = errors.New("b cannot be 0")\n		return\n	}\n	d = a / b\n	return\n}\n'})}),"\n",(0,l.jsx)(e.p,{children:"\u9664\u6B64\u4E4B\u5916\uFF0Cfunction \u4E5F\u53EF\u4EE5\u662F\u4E00\u7A2E\u578B\u614B\uFF0C\u53EF\u4EE5\u7576\u4F5C\u53C3\u6578\u50B3\u905E"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-go",children:"func add(a, b int) int {\n	return a + b\n}\n\nfunc sub(a, b int) int {\n	return a - b\n}\n\nfunc calc(a, b int, f func(int, int) int) int {\n	return f(a, b)\n}\n\nfunc main() {\n	fmt.Println(calc(10, 5, add))\n	fmt.Println(calc(10, 5, sub))\n}\n"})}),"\n",(0,l.jsx)(e.p,{children:"\u540C\u6642\uFF0C\u5728 Go \u7684 function \u4E5F\u5177\u6709\u9589\u5305\u7684\u7279\u6027"}),"\n",(0,l.jsx)(e.p,{children:"\u6240\u8B02\u7684\u9589\u5305 (closure) \u662F\u6307\u5167\u90E8\u51FD\u5F0F\u80FD\u5920\u53D6\u5F97\u51FD\u5F0F\u5916\u90E8\u7684\u8B8A\u6578\uFF0C\u4E26\u4E14\u8A18\u4F4F\u9019\u500B\u8B8A\u6578"}),"\n",(0,l.jsxs)(e.p,{children:["\u5728\u4E0B\u9762\u7684\u4F8B\u5B50\u4E2D\uFF0C\u533F\u540D\u51FD\u5F0F ",(0,l.jsx)(e.code,{children:"adder"})," \u6703\u8A18\u4F4F ",(0,l.jsx)(e.code,{children:"sum"})," \u7684\u503C\uFF0C\u4E26\u4E14\u5728\u6BCF\u6B21\u547C\u53EB\u6642\u7D2F\u52A0"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-go",children:"func adder() func(int) int {\n	sum := 0\n	return func(x int) int {\n		sum += x\n		return sum\n	}\n}\n\nfunc main() {\n	pos, neg := adder(), adder()\n	for i := 0; i < 5; i++ {\n		fmt.Println(\n			pos(i),\n			neg(-2*i),\n		)\n	}\n}\n\n// 0 0\n// 1 -2\n// 3 -6\n// 6 -12\n// 10 -20\n"})}),"\n",(0,l.jsx)(e.h3,{id:"break--continue",children:"Break & Continue"}),"\n",(0,l.jsxs)(e.p,{children:["\u5728 Go \u4E2D\uFF0C",(0,l.jsx)(e.code,{children:"break"})," \u8207 ",(0,l.jsx)(e.code,{children:"continue"})," \u7684\u7528\u6CD5\u8207\u5176\u4ED6\u8A9E\u8A00\u76F8\u540C"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-go",children:"func main() {\n	for i := 0; i < 5; i++ {\n		if i == 3 {\n			break\n		}\n		fmt.Println(i)\n	}\n\n	for i := 0; i < 5; i++ {\n		if i == 3 {\n			continue\n		}\n		fmt.Println(i)\n	}\n}\n"})}),"\n",(0,l.jsx)(e.h3,{id:"defer",children:"Defer"}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.code,{children:"defer"})," \u6703\u5728\u51FD\u6578\u7D50\u675F\u6642\u57F7\u884C\uFF0C\u901A\u5E38\u7528\u4F86\u91CB\u653E\u8CC7\u6E90\uFF0C\u63A1\u7528 LIFO \u7684\u65B9\u5F0F\u57F7\u884C"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-go",children:'func foo() {\n	defer fmt.Println("1")\n	fmt.Println("2")\n	defer fmt.Println("3")\n}\n\nfunc main() {\n	foo()\n}\n// 2 3 1\n'})}),"\n",(0,l.jsx)(e.h2,{id:"interface--method",children:"Interface & Method"}),"\n",(0,l.jsx)(e.p,{children:"\u5728 Go \u4E2D\u6C92\u6709 class \u7684\u6982\u5FF5\uFF0C\u4F46\u53EF\u4EE5\u900F\u904E struct \u8207 method \u4F86\u5BE6\u73FE\u985E\u4F3C\u7684\u529F\u80FD"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-go",children:"type Vertex struct {\n	X, Y float64\n}\n\nfunc (v Vertex) Abs() float64 {\n	return math.Sqrt(v.X*v.X + v.Y*v.Y)\n}\n\nfunc main() {\n	v := Vertex{3, 4}\n	fmt.Println(v.Abs())\n}\n"})}),"\n",(0,l.jsx)(e.p,{children:"\u4E5F\u53EF\u4EE5\u5B9A\u7FA9\u5728\u6307\u6A19\u4E0A\uFF0C\u9019\u6A23\u53EF\u4EE5\u4FEE\u6539 struct \u7684\u503C"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-go",children:"func (v *Vertex) Scale(f float64) {\n	v.X = v.X * f\n	v.Y = v.Y * f\n}\n\nfunc main() {\n	v := Vertex{3, 4}\n	v.Scale(10)\n	fmt.Println(v.Abs())\n}\n\n// 50\n"})}),"\n",(0,l.jsx)(e.p,{children:"\u6216\u8005\u4E5F\u53EF\u4EE5\u4F7F\u7528\u53E6\u4E00\u7A2E\u5BEB\u6CD5"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-go",children:"func Scale(v *Vertex, f float64) {\n	v.X = v.X * f\n	v.Y = v.Y * f\n}\n\nfunc main() {\n	v := Vertex{3, 4}\n	Scale(&v, 10)\n	fmt.Println(v.Abs())\n}\n"})}),"\n",(0,l.jsx)(e.p,{children:"\u5728 Go \u4E2D\uFF0Cinterface \u662F\u4E00\u7A2E\u5B9A\u7FA9\u884C\u70BA\u7684\u65B9\u5F0F\uFF0C\u53EF\u4EE5\u5C07 interface \u5B9A\u7FA9\u70BA\u4E00\u500B\u985E\u578B\uFF0C\u7136\u5F8C\u5728\u5176\u4ED6\u5730\u65B9\u5BE6\u73FE\u9019\u500B interface"}),"\n",(0,l.jsx)(e.p,{children:"\u6BD4\u8F03\u7279\u5225\u7684\u662F\uFF0CGo \u7684 interface \u4E26\u4E0D\u9700\u8981\u986F\u5F0F\u5BA3\u544A\uFF0C\u53EA\u8981 struct \u5BE6\u4F5C\u4E86 interface \u7684\u6240\u6709\u65B9\u6CD5\uFF0C\u5C31\u53EF\u4EE5\u7576\u4F5C\u8A72 interface \u4F7F\u7528"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-go",children:'type Shape interface {\n	Area() float64\n}\n\ntype Circle struct {\n	Radius float64\n}\n\nfunc (c Circle) Area() float64 {\n	return math.Pi * c.Radius * c.Radius\n}\n\ntype Rectangle struct {\n	Width, Height float64\n}\n\nfunc (r Rectangle) Area() float64 {\n	return r.Width * r.Height\n}\n\nfunc main() {\n	var s Shape\n\n	c := Circle{Radius: 5}\n	r := Rectangle{Width: 3, Height: 4}\n\n	s = c\n	fmt.Println("Circle Area:", s.Area())\n\n	s = r\n	fmt.Println("Rectangle Area:", s.Area())\n}\n'})}),"\n",(0,l.jsx)(e.p,{children:"\u9664\u6B64\u4E4B\u5916\uFF0CGo \u9084\u6709\u4E00\u7A2E\u7A7A interface\uFF0C\u53EF\u4EE5\u63A5\u53D7\u4EFB\u4F55\u578B\u614B"}),"\n",(0,l.jsxs)(e.p,{children:["\u50CF\u662F json \u683C\u5F0F\u5C31\u53EF\u4EE5\u8655\u7406\u6210 ",(0,l.jsx)(e.code,{children:"map[string]interface{}"}),"\uFF0C\u9019\u6A23\u5C31\u53EF\u4EE5\u63A5\u53D7\u4EFB\u4F55\u578B\u614B\u7684 json"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-go",children:'func describe(i interface{}) {\n	fmt.Printf("(%v, %T)\\n", i, i)\n}\n\nfunc main() {\n	var i interface{}\n	describe(i)\n\n	i = 42\n	describe(i)\n\n	i = "hello"\n	describe(i)\n}\n'})}),"\n",(0,l.jsx)(e.p,{children:"\u7576\u9047\u5230\u7A7A\u7684 interface \u6642\uFF0C\u53EF\u4EE5\u4F7F\u7528 type assertion \u6216\u662F type switch \u4F86\u53D6\u5F97\u539F\u672C\u7684\u578B\u614B"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-go",children:'func main() {\n	var i interface{} = "hello"\n\n	s := i.(string)\n	fmt.Println(s)\n\n	s, ok := i.(string)\n	fmt.Println(s, ok)\n\n	f, ok := i.(float64)\n	fmt.Println(f, ok)\n\n	f = i.(float64)\n	fmt.Println(f)\n	// panic: interface conversion: interface {} is string, not float64\n}\n'})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-go",children:'func do(i interface{}) {\n	switch v := i.(type) {\n	case int:\n		fmt.Printf("Twice %v is %v\\n", v, v*2)\n	case string:\n		fmt.Printf("%q is %v bytes long\\n", v, len(v))\n	default:\n		fmt.Printf("I don\'t know about type %T!\\n", v)\n	}\n}\n'})}),"\n",(0,l.jsx)(e.h2,{id:"concurrency",children:"Concurrency"}),"\n",(0,l.jsx)(e.h3,{id:"goroutine",children:"Goroutine"}),"\n",(0,l.jsxs)(e.p,{children:["\u5728 Go \u4E2D\uFF0C\u6211\u5011\u53EF\u4EE5\u900F\u904E ",(0,l.jsx)(e.code,{children:"go"})," \u95DC\u9375\u5B57\u4F86\u555F\u52D5\u4E00\u500B goroutine\uFF0Cgoroutine \u662F\u4E00\u7A2E\u8F15\u91CF\u7D1A\u7684\u57F7\u884C\u7DD2\uFF0C\u53EF\u4EE5\u8B93\u6211\u5011\u66F4\u6709\u6548\u7387\u5730\u4F7F\u7528 CPU"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-go",children:'func foo() {\n	for i := 0; i < 5; i++ {\n		fmt.Println("foo:", i)\n		time.Sleep(1 * time.Second)\n	}\n}\n\nfunc main() {\n	go foo()\n\n	for i := 0; i < 5; i++ {\n		fmt.Println("main:", i)\n		time.Sleep(1 * time.Second)\n	}\n}\n'})}),"\n",(0,l.jsx)(e.h3,{id:"channel",children:"Channel"}),"\n",(0,l.jsx)(e.p,{children:"channel \u7684\u672C\u8CEA\u662F\u4E00\u500B\u74B0\u578B\u7684 queue\uFF0C\u53EF\u4EE5\u7528\u4F86\u50B3\u905E\u548C\u63A5\u6536\u8CC7\u6599"}),"\n",(0,l.jsx)(e.p,{children:"\u4E3B\u8981\u5206\u6210\u5169\u7A2E\uFF0C\u4E00\u7A2E\u662F unbuffered channel\uFF0C\u53E6\u4E00\u7A2E\u662F buffered channel\uFF0C\u5982\u679C\u8981\u4F7F\u7528 buffered channel\uFF0C\u8981\u5728\u5EFA\u7ACB channel \u6642\u6307\u5B9A buffer \u7684\u5927\u5C0F\uFF0C\u5426\u5247\u5C31\u662F unbuffered channel"}),"\n",(0,l.jsxs)(e.p,{children:["\u6211\u5011\u53EF\u4EE5\u5148\u900F\u904E ",(0,l.jsx)(e.code,{children:"make"})," \u4F86\u5EFA\u7ACB\u4E00\u500B unbuffered channel"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-go",children:'func main() {\n	ch := make(chan int)\n	go func() {\n		ch <- 42\n		fmt.Println("sent")\n	}()\n\n	time.Sleep(1 * time.Second)\n\n	go func() {\n		val := <-ch\n		fmt.Println("received", val)\n	}()\n\n	time.Sleep(1 * time.Second)\n}\n\n// received 42\n// sent\n'})}),"\n",(0,l.jsx)(e.p,{children:"\u900F\u904E\u4E0A\u9762\u7684\u7BC4\u4F8B\u6211\u5011\u53EF\u4EE5\u89C0\u5BDF\u5230\uFF0C\u5728\u6C92\u6709 buffer \u7684\u60C5\u6CC1\u4E0B\uFF0C\u50B3\u9001\u7AEF\u6703\u7B49\u5230\u6709\u4EBA\u63A5\u6536\u8CC7\u6599\u5F8C\u624D\u80FD\u7E7C\u7E8C\u57F7\u884C"}),"\n",(0,l.jsx)(e.p,{children:"\u4F46\u5982\u679C\u6211\u5011\u6709 buffer \u7684\u8A71\uFF0C\u5247\u53EF\u4EE5\u5148\u5C07\u8CC7\u6599\u653E\u5165 buffer\uFF0C\u9019\u6A23\u50B3\u9001\u7AEF\u5C31\u4E0D\u9700\u8981\u7B49\u5F85\u63A5\u6536\u7AEF"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-go",children:'func main() {\n	ch := make(chan int, 1)\n	go func() {\n		ch <- 42\n		fmt.Println("sent")\n	}()\n\n	time.Sleep(1 * time.Second)\n\n	go func() {\n		val := <-ch\n		fmt.Println("received", val)\n	}()\n\n	time.Sleep(1 * time.Second)\n}\n\n// sent\n// received 42\n'})}),"\n",(0,l.jsxs)(e.p,{children:["\u6211\u5011\u53EF\u4EE5\u5229\u7528 channel \u4F86\u5BE6\u73FE\u4E00\u500B\u7C21\u55AE\u7684 producer-consumer \u6A21\u578B\uFF0C\u8A18\u5F97\u9700\u8981\u4F7F\u7528 ",(0,l.jsx)(e.code,{children:"close"})," \u4F86\u8868\u793A\u4E0D\u80FD\u518D\u5F80 channel \u5BEB\u5165\u8CC7\u6599"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-go",children:'func main() {\n	ch := make(chan int, 20)\n	wg := sync.WaitGroup{}\n	wg.Add(2)\n\n	go func() {\n		defer wg.Done()\n		for i := 0; i < 5; i++ {\n			ch <- i\n		}\n	}()\n	go func() {\n		defer wg.Done()\n		for i := 0; i < 5; i++ {\n			ch <- i\n		}\n	}()\n\n	wg2 := sync.WaitGroup{}\n	wg2.Add(1)\n	go func() {\n		sum := 0\n		for {\n			i, ok := <-ch\n			// \u5982\u679C channel \u5DF2\u7D93\u95DC\u9589 (\u8ABF\u7528 close)\uFF0C\u4E14 channel \u5167\u6C92\u6709\u8CC7\u6599\u7684\u8A71\uFF0Cok \u624D\u6703\u662F false\n			if !ok {\n				break\n			}\n			sum += i\n		}\n		fmt.Println("sum:", sum)\n		wg2.Done()\n	}()\n\n	wg.Wait()\n	close(ch)\n	wg2.Wait()\n}\n'})}),"\n",(0,l.jsx)(e.h3,{id:"select",children:"Select"}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.code,{children:"select"})," \u53EF\u4EE5\u7528\u4F86\u76E3\u807D\u591A\u500B channel\uFF0C\u7576\u5176\u4E2D\u4E00\u500B channel \u6709\u503C\u6642\uFF0C\u5C31\u6703\u57F7\u884C\u8A72 case"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-go",children:'func producer(ch chan int) {\n	for i := 0; i < 5; i++ {\n		ch <- i\n	}\n	close(ch)\n}\n\nfunc consumer(ch1, ch2 chan int) {\n	for {\n		select {\n		case i, ok := <-ch1:\n			if !ok {\n				ch1 = nil\n			} else {\n				fmt.Println("ch1:", i)\n			}\n		case i, ok := <-ch2:\n			if !ok {\n				ch2 = nil\n			} else {\n				fmt.Println("ch2:", i)\n			}\n		}\n		if ch1 == nil && ch2 == nil {\n			break\n		}\n	}\n}\n\nfunc main() {\n	ch1 := make(chan int, 5)\n	ch2 := make(chan int, 5)\n	go producer(ch1)\n	go producer(ch2)\n	consumer(ch1, ch2)\n}\n'})}),"\n",(0,l.jsx)(e.h3,{id:"mutex",children:"Mutex"}),"\n",(0,l.jsxs)(e.p,{children:["\u5728 Go \u4E2D\uFF0C\u6211\u5011\u53EF\u4EE5\u4F7F\u7528 ",(0,l.jsx)(e.code,{children:"sync.Mutex"})," \u4F86\u5BE6\u73FE\u9396\uFF0C\u907F\u514D\u591A\u500B goroutine \u540C\u6642\u4FEE\u6539\u8B8A\u6578"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-go",children:'type SafeCounter struct {\n	v   map[string]int\n	mux sync.Mutex\n}\n\nfunc (c *SafeCounter) Inc(key string) {\n	c.mux.Lock()\n	c.v[key]++\n	c.mux.Unlock()\n}\n\nfunc (c *SafeCounter) Value(key string) int {\n	c.mux.Lock()\n	defer c.mux.Unlock()\n	return c.v[key]\n}\n\nfunc main() {\n	c := SafeCounter{v: make(map[string]int)}\n	for i := 0; i < 30; i++ {\n		go c.Inc("key")\n	}\n\n	time.Sleep(time.Second)\n	fmt.Println(c.Value("key"))\n}\n'})}),"\n",(0,l.jsx)(e.h2,{id:"error-handling",children:"Error Handling"}),"\n",(0,l.jsxs)(e.p,{children:["Go \u7684 error handling \u662F\u57FA\u65BC ",(0,l.jsx)(e.code,{children:"error"})," \u9019\u500B interface"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-go",children:"type error interface {\n    Error() string\n}\n"})}),"\n",(0,l.jsxs)(e.p,{children:["\u4E5F\u56E0\u6B64\uFF0C\u4EFB\u4F55\u5BE6\u4F5C\u4E86 ",(0,l.jsx)(e.code,{children:"Error()"})," \u65B9\u6CD5\u7684\u578B\u614B\u90FD\u53EF\u4EE5\u7576\u4F5C error \u4F86\u4F7F\u7528"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-go",children:'type CustomErr struct {\n	err error\n}\nfunc (c CustomErr) Error() string {\n	return fmt.Sprintf("err: %v", c.err)\n}\n'})}),"\n",(0,l.jsx)(e.p,{children:"\u4E5F\u53EF\u4EE5\u5728\u51FD\u6578\u4E2D\u8A2D\u5B9A\u591A\u500B\u56DE\u50B3\u503C\uFF0C\u5176\u4E2D\u6700\u5F8C\u4E00\u500B\u56DE\u50B3\u503C\u901A\u5E38\u662F error"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-go",children:'func divide(a, b int) (int, error) {\n    if b == 0 {\n        return 0, errors.New("division by zero")\n    }\n    return a / b, nil\n}\n\nfunc main() {\n    result, err := divide(10, 0)\n    if err != nil {\n        fmt.Println("Error:", err)\n        return\n    }\n    fmt.Println("Result:", result)\n}\n'})}),"\n",(0,l.jsxs)(e.p,{children:["\u5728 Go \u4E2D\u4E5F\u6709\u4E00\u4E9B\u5167\u5EFA\u7684\u8655\u7406\u65B9\u5F0F\uFF0C\u50CF\u662F ",(0,l.jsx)(e.code,{children:"panic"})," \u8207 ",(0,l.jsx)(e.code,{children:"recover"})]}),"\n",(0,l.jsx)(e.p,{children:"panic \u6703\u4E2D\u65B7\u7A0B\u5F0F\uFF0C\u4E26\u4E14\u57F7\u884C defer \u7684\u51FD\u6578\uFF0C\u5982\u679C\u6C92\u6709 recover \u7684\u8A71\uFF0C\u7A0B\u5F0F\u5C31\u6703\u7D50\u675F"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-go",children:'func main() {\n	defer func() {\n		if r := recover(); r != nil {\n			fmt.Println("Recovered:", r)\n		}\n	}()\n\n	panic("panic")\n}\n'})}),"\n",(0,l.jsx)(e.h2,{id:"generics",children:"Generics"}),"\n",(0,l.jsxs)(e.p,{children:["Go \u652F\u63F4\u6CDB\u578B\uFF0C\u5167\u5EFA\u4E00\u4E9B type constraints\uFF0C\u50CF\u662F ",(0,l.jsx)(e.code,{children:"any"})," \u8DDF ",(0,l.jsx)(e.code,{children:"comparable"})]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-go",children:'func Print[T any](s []T) {\n	for _, v := range s {\n		fmt.Println(v)\n	}\n}\n\nfunc main() {\n	Print([]int{1, 2, 3})\n	Print([]string{"a", "b", "c"})\n}\n'})}),"\n",(0,l.jsx)(e.p,{children:"\u540C\u6642\uFF0C\u5728 type \u4E2D\u4E5F\u53EF\u4EE5\u4F7F\u7528 type constraints"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-go",children:"type Pair[T comparable] struct {\n	First, Second T\n}\n\nfunc main() {\n	p := Pair{First: 1, Second: 2}\n	fmt.Println(p)\n}\n"})}),"\n",(0,l.jsx)(e.h2,{id:"go-command",children:"Go command"}),"\n",(0,l.jsx)(e.p,{children:"\u4EE5\u4E0B\u6703\u5217\u51FA Go \u5E38\u7528\u7684\u6307\u4EE4"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"go run main.go # \u7DE8\u8B6F\u4E26\u57F7\u884C\u7A0B\u5F0F\ngo build main.go # \u7DE8\u8B6F\u7A0B\u5F0F\uFF0C\u4E26\u7522\u751F .exe \u6A94\ngo build -o <output_name> main.go # \u6307\u5B9A\u8F38\u51FA\u6A94\u540D\u548C\u4F4D\u7F6E\n\ngo get <package_path> # \u4E0B\u8F09 package\ngo get -u <package_path> # \u66F4\u65B0 package\ngo get -u # \u66F4\u65B0\u6240\u6709 package\ngo get <package_path>@none # \u79FB\u9664 package\n\n\ngo install main.go # \u7DE8\u8B6F\u4E26\u5B89\u88DD\u7A0B\u5F0F\n\ngo mod init <module_name> # \u521D\u59CB\u5316 module\uFF0C\u5EFA\u7ACB go.mod \u4F86\u7BA1\u7406 package\ngo mod tidy # \u79FB\u9664\u4E26\u65B0\u589E\u7F3A\u5C11\u7684 package\n\ngo test # \u6E2C\u8A66\u7A0B\u5F0F\ngo test -v # \u986F\u793A\u8A73\u7D30\u8CC7\u8A0A\ngo test -run <test_name> # \u57F7\u884C\u7279\u5B9A\u7684 test\ngo test -cover # \u986F\u793A coverage\n\ngo fmt # \u683C\u5F0F\u5316\u7A0B\u5F0F\u78BC\n"})}),"\n",(0,l.jsx)(e.h2,{id:"reference",children:"Reference"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://tour.golang.org/welcome/1",children:"A Tour of Go"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://medium.com/%E4%BC%81%E9%B5%9D%E4%B9%9F%E6%87%82%E7%A8%8B%E5%BC%8F%E8%A8%AD%E8%A8%88/golang-goroot-gopath-go-modules-%E4%B8%89%E8%80%85%E7%9A%84%E9%97%9C%E4%BF%82%E4%BB%8B%E7%B4%B9-d17481d7a655",children:"Golang \u2014 GOROOT\u3001GOPATH\u3001Go-Modules-\u4E09\u8005\u7684\u95DC\u4FC2\u4ECB\u7D39"})}),"\n"]})]})}function h(n={}){let{wrapper:e}={...(0,c.a)(),...n.components};return e?(0,l.jsx)(e,{...n,children:(0,l.jsx)(d,{...n})}):d(n)}},50065:function(n,e,i){i.d(e,{Z:()=>a,a:()=>s});var r=i(67294);let l={},c=r.createContext(l);function s(n){let e=r.useContext(c);return r.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(l):n.components||l:s(n.components),r.createElement(c.Provider,{value:e},n.children)}}}]);