"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[6896],{71560:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>o,contentTitle:()=>a,default:()=>d,frontMatter:()=>l,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"Observability/Observability","title":"Observability","description":"\u9019\u500b\u7cfb\u5217\u6703\u7c21\u55ae\u4ecb\u7d39\u5728\u73fe\u4ee3\u8edf\u9ad4\u61c9\u7528\u4e2d\u53ef\u89c0\u6e2c\u6027\u7684\u767c\u5c55\u4ee5\u53ca\u5229\u7528 Grafana \u7684 LGTM Stack \u642d\u914d Node.js \u642d\u5efa\u4e00\u500b\u7c21\u55ae\u7684\u53ef\u89c0\u6e2c\u67b6\u69cb\u3002","source":"@site/docs/Observability/Observability.mdx","sourceDirName":"Observability","slug":"/Observability/","permalink":"/RulerChen-Website/docs/Observability/","draft":false,"unlisted":false,"editUrl":"https://github.com/RulerChen/RulerChen-Website/tree/main/docs/Observability/Observability.mdx","tags":[],"version":"current","lastUpdatedAt":1739371782000,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"[PG] PostgreSQL High Availability","permalink":"/RulerChen-Website/docs/PostgreSQL/pg-ha"},"next":{"title":"[Loki] \u60e1\u4f5c\u5287\u4e4b\u795e - Loki \u89e3\u5bc6\u65e5\u8a8c\u8ff7\u5bae","permalink":"/RulerChen-Website/docs/Observability/loki"}}');var t=n(74848),s=n(28453);const l={},a=void 0,o={},c=[{value:"Observability",id:"observability",level:2},{value:"Observability Strategy",id:"observability-strategy",level:2},{value:"USE Method",id:"use-method",level:3},{value:"RED Method",id:"red-method",level:3},{value:"Four Golden Signals",id:"four-golden-signals",level:3},{value:"Reference",id:"reference",level:2}];function h(e){const i={a:"a",admonition:"admonition",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.p,{children:"\u9019\u500b\u7cfb\u5217\u6703\u7c21\u55ae\u4ecb\u7d39\u5728\u73fe\u4ee3\u8edf\u9ad4\u61c9\u7528\u4e2d\u53ef\u89c0\u6e2c\u6027\u7684\u767c\u5c55\u4ee5\u53ca\u5229\u7528 Grafana \u7684 LGTM Stack \u642d\u914d Node.js \u642d\u5efa\u4e00\u500b\u7c21\u55ae\u7684\u53ef\u89c0\u6e2c\u67b6\u69cb\u3002"}),"\n",(0,t.jsx)(i.admonition,{type:"info",children:(0,t.jsxs)(i.p,{children:["\u984c\u5916\u8a71\uff0cGrafana \u7684\u5f88\u591a\u7522\u54c1\u90fd\u662f\u4ee5\u5317\u6b50\u795e\u8a71\u4e2d\u7684\u795e\u7947\u6216\u8005\u50b3\u8aaa\u4eba\u7269\u547d\u540d\u7684\uff0c\u4f8b\u5982 Loki\u3001Mimir\uff0c\u9019\u4e5f\u662f Grafana \u7684\u4e00\u500b\u7279\u8272\u3002\n\u76f8\u4fe1\u6709\u73a9\u904e\u795e\u9b54\u4e4b\u5854\u7684\u4eba\u61c9\u8a72\u5c0d\u9019\u4e9b\u540d\u5b57\u4e0d\u964c\u751f\u5427 (?)\uff0c\u5982\u679c\u4e0d\u4e86\u89e3\u7684\u53ef\u4ee5\u53c3\u8003 ",(0,t.jsx)(i.a,{href:"https://forum.gamer.com.tw/Co.php?bsn=23805&sn=654834",children:"\u3010\u60c5\u5831\u3011\u5317\u6b50\u3001\u5e0c\u81d8\u795e\u8a71"})]})}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.img,{alt:"Grafana Observability",src:n(57791).A+"",width:"1661",height:"945"})}),"\n",(0,t.jsx)(i.h2,{id:"observability",children:"Observability"}),"\n",(0,t.jsx)(i.p,{children:"\u96a8\u8457\u73fe\u4ee3\u8edf\u9ad4\u7cfb\u7d71\u7684\u767c\u5c55\uff0c\u5f9e\u50b3\u7d71\u7684\u55ae\u9ad4\u61c9\u7528\u5230\u5fae\u670d\u52d9\u67b6\u69cb\uff0c\u518d\u5230\u5404\u7a2e\u96f2\u539f\u751f\u5de5\u5177\u548c\u670d\u52d9\uff0c\u8edf\u9ad4\u7cfb\u7d71\u7684\u898f\u6a21\u548c\u8907\u96dc\u5ea6\u90fd\u6b63\u5728\u4e0d\u65b7\u589e\u52a0\u3002\n\u5728\u9019\u6a23\u7684\u60c5\u6cc1\u4e0b\uff0c\u8a31\u591a\u50b3\u7d71\u7684\u76e3\u63a7\u65b9\u5f0f\u5df2\u7d93\u7121\u6cd5\u6eff\u8db3\u6211\u5011\u5c0d\u7cfb\u7d71\u72c0\u614b\u548c\u6027\u80fd\u7684\u9700\u6c42\uff0c\u56e0\u6b64\uff0c\u53ef\u89c0\u6e2c\u6027 (Observability) \u9019\u500b\u6982\u5ff5\u61c9\u904b\u800c\u751f\uff0c\u6210\u70ba\u4e86\u73fe\u4ee3\u8edf\u9ad4\u958b\u767c\u4e2d\u4e00\u500b\u95dc\u9375\u8a5e\u3002"}),"\n",(0,t.jsx)(i.p,{children:"Observability \u9019\u500b\u8a5e\u8d77\u6e90\u65bc\u63a7\u5236\u8ad6 (Cybernetics) \u9818\u57df\uff0c\u4f5c\u70ba\u8861\u91cf\u7cfb\u7d71\u5167\u90e8\u72c0\u614b\u80fd\u5426\u901a\u904e\u5916\u90e8\u8f38\u51fa\u88ab\u63a8\u5c0e\u51fa\u4f86\u7684\u80fd\u529b\u3002\n\u5728\u8edf\u9ad4\u5de5\u7a0b\u4e2d\uff0c\u9019\u500b\u8a5e\u88ab\u91cd\u65b0\u5b9a\u7fa9\u4e26\u7528\u65bc\u76e3\u63a7\u4ee5\u53ca\u8a3a\u65b7\u8907\u96dc\u7cfb\u7d71\u7684\u80fd\u529b\u3002"}),"\n",(0,t.jsx)(i.p,{children:"\u8edf\u9ad4\u7684\u53ef\u89c0\u6e2c\u6027\u901a\u5e38\u6307\u7684\u662f\u900f\u904e\u8f38\u51fa\u7684\u8cc7\u6599\u4ee5\u53ca\u9059\u6e2c (Telemetry) \u4f86\u4e86\u89e3\u7cfb\u7d71\u7684\u5167\u90e8\u72c0\u614b\uff0c\u4e26\u4e14\u80fd\u5920\u5feb\u901f\u5730\u627e\u5230\u554f\u984c\u7684\u6839\u6e90\u3002\n\u6240\u8b02\u7684\u9059\u6e2c\u6307\u7684\u662f\u8de8\u8d8a\u7cfb\u7d71\u908a\u754c\u7684\u8cc7\u6599\u6536\u96c6\uff0c\u5305\u62ec\u6307\u6a19 (Metrics)\u3001\u65e5\u8a8c (Logs)\u3001\u8ffd\u8e64 (Traces) \u7b49\u3002"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"\u65e5\u8a8c (Logs) : \u7528\u65bc\u8a18\u9304\u7cfb\u7d71\u904b\u884c\u6642\u7684\u4e8b\u4ef6\u548c\u932f\u8aa4\u8a0a\u606f\uff0c\u901a\u5e38\u5305\u542b\u6642\u9593\u6233\u3001\u4e8b\u4ef6\u63cf\u8ff0\u3001\u932f\u8aa4\u8a0a\u606f\u7b49\uff0c\u662f\u4e00\u7a2e\u975e\u5e38\u5bb9\u6613\u7406\u89e3\u548c\u751f\u6210\u7684\u8cc7\u6599"}),"\n",(0,t.jsx)(i.li,{children:"\u6307\u6a19 (Metrics) : \u7528\u65bc\u91cf\u5316\u548c\u5ea6\u91cf\u7cfb\u7d71\u7684\u72c0\u614b\u548c\u6027\u80fd\uff0c\u901a\u5e38\u5305\u542b CPU \u4f7f\u7528\u7387\u3001\u8a18\u61b6\u9ad4\u4f7f\u7528\u91cf\u3001\u8acb\u6c42\u6578\u91cf\u7b49\uff0c\u4e5f\u53ef\u4ee5\u5f88\u597d\u7684\u7528\u4f86\u89f8\u767c\u8b66\u5831"}),"\n",(0,t.jsx)(i.li,{children:"\u8ffd\u8e64 (Traces) : \u7528\u65bc\u8ffd\u8e64\u7cfb\u7d71\u4e2d\u7684\u8acb\u6c42\u548c\u4e8b\u4ef6\uff0c\u901a\u5e38\u5305\u542b\u8acb\u6c42\u7684\u6642\u9593\u7dda\u3001\u8017\u6642\u3001\u8abf\u7528\u7684\u670d\u52d9\u7b49\uff0c\u53ef\u4ee5\u5e6b\u52a9\u6211\u5011\u7406\u89e3\u8907\u96dc\u7cfb\u7d71\u4e2d\u7684\u8acb\u6c42\u6d41\u7a0b"}),"\n",(0,t.jsx)(i.li,{children:"\u6548\u80fd\u5256\u6790 (Profiling) : \u7528\u65bc\u5206\u6790\u7a0b\u5f0f\u78bc\u7684\u6548\u80fd\uff0c\u901a\u5e38\u5305\u542b\u51fd\u6578\u7684\u8017\u6642\u3001\u8a18\u61b6\u9ad4\u4f7f\u7528\u91cf\u7b49\uff0c\u53ef\u4ee5\u5e6b\u52a9\u6211\u5011\u627e\u5230\u7a0b\u5f0f\u78bc\u4e2d\u7684\u6027\u80fd\u74f6\u9838"}),"\n"]}),"\n",(0,t.jsx)(i.h2,{id:"observability-strategy",children:"Observability Strategy"}),"\n",(0,t.jsx)(i.p,{children:"\u524d\u9762\u6240\u8aaa\u7684\u65e5\u8a8c\u3001\u6307\u6a19\u3001\u8ffd\u8e64\u548c\u6548\u80fd\u5256\u6790\u662f\u53ef\u89c0\u6e2c\u6027\u7684\u57fa\u672c\u5143\u7d20\uff0c\u6709\u4e86\u9019\u4e9b\u5143\u7d20\u4e4b\u5f8c\uff0c\u958b\u767c\u4eba\u54e1\u53ef\u4ee5\u66f4\u6e96\u78ba\u7684\u4e86\u89e3\u7cfb\u7d71\u7684\u72c0\u614b\u548c\u6027\u80fd\uff0c\u4e26\u4e14\u53ef\u4ee5\u66f4\u5feb\u5730\u627e\u5230\u554f\u984c\u7684\u6839\u6e90\u3002\n\u4f46\u662f\uff0c\u7576\u7cfb\u7d71\u4e0d\u65b7\u64f4\u589e\u3001\u8907\u96dc\u5ea6\u4e0d\u65b7\u589e\u52a0\u7684\u6642\u5019\uff0c\u53cd\u800c\u6709\u53ef\u80fd\u56e0\u6b64\u904e\u591a\u7684\u8cc7\u8a0a\u800c\u5c0e\u81f4\u4e86\u6211\u5011\u5206\u6563\u6ce8\u610f\u529b\uff0c\u4f7f\u53ef\u89c0\u6e2c\u6027\u6dea\u70ba\u55ae\u7d14\u8490\u96c6\u8cc7\u6599\u7684\u5de5\u5177\u3002\n\u56e0\u6b64\uff0c\u6211\u5011\u9700\u8981\u4e00\u500b\u660e\u78ba\u7684\u53ef\u89c0\u6e2c\u6027\u7b56\u7565\uff0c\u4f86\u5e6b\u52a9\u6211\u5011\u66f4\u597d\u5730\u5229\u7528\u53ef\u89c0\u6e2c\u6027\u5de5\u5177\u4f86\u76e3\u63a7\u548c\u8a3a\u65b7\u7cfb\u7d71\u3002"}),"\n",(0,t.jsx)(i.h3,{id:"use-method",children:"USE Method"}),"\n",(0,t.jsx)(i.p,{children:"USE \u6307\u6a19\u662f\u7531 Brendan Gregg \u5728\u63d0\u51fa\u7684\uff0c\u7528\u65bc\u8861\u91cf\u7cfb\u7d71\u7684\u6027\u80fd\u548c\u6548\u80fd\u3002"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Utilization : \u4f7f\u7528\u7387\uff0c\u7528\u65bc\u8861\u91cf\u7cfb\u7d71\u7684\u8ca0\u8f09\uff0c\u5982 CPU \u4f7f\u7528\u7387\u3001\u8a18\u61b6\u9ad4\u4f7f\u7528\u91cf\u7b49"}),"\n",(0,t.jsx)(i.li,{children:"Saturation : \u98fd\u548c\u5ea6\uff0c\u7528\u65bc\u8861\u91cf\u8cc7\u6e90\u662f\u5426\u63a5\u8fd1\u6700\u5927\u8ca0\u8f09\uff0c\u53ef\u4ee5\u5e6b\u52a9\u6211\u5011\u627e\u5230\u7cfb\u7d71\u7684\u74f6\u9838"}),"\n",(0,t.jsx)(i.li,{children:"Errors : \u932f\u8aa4\u7387\uff0c\u7528\u65bc\u8861\u91cf\u7cfb\u7d71\u7684\u7a69\u5b9a\u6027"}),"\n"]}),"\n",(0,t.jsx)(i.h3,{id:"red-method",children:"RED Method"}),"\n",(0,t.jsx)(i.p,{children:"RED \u6307\u6a19\u662f\u7531 Grafana \u7684 CTO Tom Wilkie \u5728 2015 \u5e74\u5728 Kausal \u516c\u53f8\u63d0\u51fa\u7684\uff0c\u8207 USE \u6307\u6a19\u76f8\u6bd4\uff0cRED \u6307\u6a19\u66f4\u52a0\u95dc\u6ce8\u4f7f\u7528\u8005\u7d42\u7aef\u7684\u9ad4\u9a57\u3002"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Rate : \u6bcf\u79d2\u8655\u7406\u7684\u8acb\u6c42\u91cf\uff0c\u7528\u65bc\u8861\u91cf\u7cfb\u7d71\u7684\u8ca0\u8f09\u8ddf\u8655\u7406\u80fd\u529b"}),"\n",(0,t.jsx)(i.li,{children:"Errors : \u932f\u8aa4\u7387\uff0c\u7528\u65bc\u8861\u91cf\u7cfb\u7d71\u7684\u7a69\u5b9a\u6027"}),"\n",(0,t.jsx)(i.li,{children:"Duration : \u8acb\u6c42\u8017\u6642\uff0c\u7528\u65bc\u8861\u91cf\u7cfb\u7d71\u7684\u6027\u80fd"}),"\n"]}),"\n",(0,t.jsx)(i.h3,{id:"four-golden-signals",children:"Four Golden Signals"}),"\n",(0,t.jsx)(i.p,{children:"Four Golden Signals \u662f\u7531 Google \u5728 SRE \u4e00\u66f8\u4e2d\u63d0\u51fa\u7684\uff0c\u7528\u4f86\u76e3\u63a7\u5206\u4f48\u5f0f\u7cfb\u7d71\u548c\u5fae\u670d\u52d9\u67b6\u69cb\u7684\u6574\u9ad4\u5065\u5eb7\u72c0\u6cc1\u3002"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Latency : \u8acb\u6c42\u7684\u8017\u6642\uff0c\u53cd\u6620\u97ff\u61c9\u901f\u5ea6"}),"\n",(0,t.jsx)(i.li,{children:"Traffic : \u8acb\u6c42\u7684\u91cf\uff0c\u7528\u65bc\u8861\u91cf\u670d\u52d9\u7684\u8ca0\u8f09"}),"\n",(0,t.jsx)(i.li,{children:"Errors : \u932f\u8aa4\u7387\uff0c\u7528\u65bc\u8861\u91cf\u670d\u52d9\u7684\u7a69\u5b9a\u6027"}),"\n",(0,t.jsx)(i.li,{children:"Saturation : \u98fd\u548c\u5ea6\uff0c\u7528\u65bc\u8861\u91cf\u670d\u52d9\u7684\u8cc7\u6e90\u4f7f\u7528\u60c5\u6cc1"}),"\n"]}),"\n",(0,t.jsx)(i.h2,{id:"reference",children:"Reference"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:(0,t.jsx)(i.a,{href:"https://ithelp.ithome.com.tw/articles/10322323",children:"\u53ef\u89c0\u6e2c\u6027\u5b87\u5b99\u7684\u7b2c\u56db\u5929 - \u53ef\u89c0\u6e2c\u6027\u4e09\u672c\u67f1\u662f\u4ec0\u9ebc\uff1f"})}),"\n",(0,t.jsx)(i.li,{children:(0,t.jsx)(i.a,{href:"https://ithelp.ithome.com.tw/articles/10323268",children:"\u53ef\u89c0\u6e2c\u6027\u5b87\u5b99\u7684\u7b2c\u4e94\u5929 - \u7b2c\u56db\u7a2e\u53ef\u89c0\u6e2c\u6027\u8a0a\u865f\uff1f Profile"})}),"\n",(0,t.jsx)(i.li,{children:(0,t.jsx)(i.a,{href:"https://ithelp.ithome.com.tw/articles/10287306",children:"\u6dfa\u8ac7 Observability"})}),"\n",(0,t.jsx)(i.li,{children:(0,t.jsx)(i.a,{href:"https://grafana.com/blog/2018/08/02/the-red-method-how-to-instrument-your-services/",children:"The RED Method: How to Instrument Your Services"})}),"\n",(0,t.jsx)(i.li,{children:(0,t.jsx)(i.a,{href:"https://ithelp.ithome.com.tw/articles/10353850",children:"\u5f8c Grafana \u6642\u4ee3\u7684\u7b2c\u56db\u5929 - \u63a2\u8a0e Grafana \u6240\u5be6\u8e10\u7684\u53ef\u89c0\u6e2c\u6027\u7b56\u7565"})}),"\n",(0,t.jsx)(i.li,{children:(0,t.jsx)(i.a,{href:"https://ithelp.ithome.com.tw/articles/10354224",children:"\u5f8c Grafana \u6642\u4ee3\u7684\u7b2c\u4e94\u5929 - \u63a2\u8a0e Grafana \u5927\u898f\u6a21\u4e2d\u5fc3\u5316\u67b6\u69cb\u7684\u6f14\u8b8a"})}),"\n"]})]})}function d(e={}){const{wrapper:i}={...(0,s.R)(),...e.components};return i?(0,t.jsx)(i,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},57791:(e,i,n)=>{n.d(i,{A:()=>r});const r=n.p+"assets/images/image-a8997afaa5c2401a33c858171a3ee910.png"},28453:(e,i,n)=>{n.d(i,{R:()=>l,x:()=>a});var r=n(96540);const t={},s=r.createContext(t);function l(e){const i=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function a(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),r.createElement(s.Provider,{value:i},e.children)}}}]);