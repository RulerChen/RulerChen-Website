"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([["366"],{93815:function(n,e,t){t.r(e),t.d(e,{frontMatter:()=>l,default:()=>a,toc:()=>d,metadata:()=>s,assets:()=>c,contentTitle:()=>o});var s=JSON.parse('{"id":"Python/uv","title":"[Python] Everything in Rust (uv + Ruff)","description":"Python Project Setup","source":"@site/docs/Python/uv.mdx","sourceDirName":"Python","slug":"/Python/uv","permalink":"/RulerChen-Website/docs/Python/uv","draft":false,"unlisted":false,"editUrl":"https://github.com/RulerChen/RulerChen-Website/tree/main/docs/Python/uv.mdx","tags":[],"version":"current","lastUpdatedAt":1749350036000,"sidebarPosition":2,"frontMatter":{"title":"[Python] Everything in Rust (uv + Ruff)","sidebar_position":2,"description":"Python Project Setup","keywords":["Python","uv","Ruff","Setup"]},"sidebar":"tutorialSidebar","previous":{"title":"[Python] Poetry + Pyenv + PyTorch Setup on Windows","permalink":"/RulerChen-Website/docs/Python/setup"},"next":{"title":"[Express.js] Express Setup","permalink":"/RulerChen-Website/docs/NodeJs/expresssetup"}}'),i=t(85893),r=t(50065);let l={title:"[Python] Everything in Rust (uv + Ruff)",sidebar_position:"2",description:"Python Project Setup",keywords:["Python","uv","Ruff","Setup"]},o=void 0,c={},d=[{value:"Introduction",id:"introduction",level:2},{value:"Installation &amp; Setup",id:"installation--setup",level:2},{value:"Create a New Project",id:"create-a-new-project",level:2},{value:"Other Useful Functions",id:"other-useful-functions",level:2},{value:"Running Scripts",id:"running-scripts",level:3},{value:"Tools",id:"tools",level:3},{value:"Integration with GitHub Actions",id:"integration-with-github-actions",level:3},{value:"Integration with Docker",id:"integration-with-docker",level:3},{value:"Ruff",id:"ruff",level:2}];function h(n){let e={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,r.a)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.p,{children:"\u672C\u7BC7\u6587\u7AE0\u6703\u793A\u7BC4\u5982\u4F55\u5728 WSL (Ubuntu 24.04) \u4E0A\u4F7F\u7528 uv + Ruff \u4F86\u5EFA\u7ACB\u4E00\u500B\u4F7F\u7528 fastapi \u7684\u7C21\u55AE Python \u5C08\u6848\uFF0C\u5F9E\u800C\u52A0\u901F Python \u958B\u767C\u6D41\u7A0B\u3002"}),"\n",(0,i.jsx)(e.h2,{id:"introduction",children:"Introduction"}),"\n",(0,i.jsx)(e.p,{children:"uv \u662F\u4E00\u6B3E\u7531 Astral \u5718\u968A\u958B\u767C\u7684\u9AD8\u6548 Python \u958B\u767C\u5DE5\u5177\uFF0C\u4E3B\u8981\u53EF\u4EE5\u505A\u5230\u4EE5\u4E0B\u5E7E\u9EDE :"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\u53D6\u4EE3 ",(0,i.jsx)(e.code,{children:"pip"})," \u4F86\u5B89\u88DD\u5404\u7A2E Python \u5957\u4EF6"]}),"\n",(0,i.jsxs)(e.li,{children:["\u53D6\u4EE3 ",(0,i.jsx)(e.code,{children:"pipx"})," \u4F86\u5B89\u88DD\u5404\u7A2E Python CLI \u5DE5\u5177"]}),"\n",(0,i.jsxs)(e.li,{children:["\u53D6\u4EE3 ",(0,i.jsx)(e.code,{children:"poetry"})," \u4F86\u7BA1\u7406 Python \u5C08\u6848\u7684\u76F8\u4F9D\u5957\u4EF6"]}),"\n",(0,i.jsxs)(e.li,{children:["\u53D6\u4EE3 ",(0,i.jsx)(e.code,{children:"pyenv"})," \u4F86\u7BA1\u7406 Python \u7248\u672C"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"\u7E3D\u800C\u8A00\u4E4B\uFF0Cuv \u7684\u76EE\u6A19\u662F\u6210\u70BA Python \u958B\u767C\u7684\u552F\u4E00\u5DE5\u5177\uFF0C\u7531\u65BC\u5B83\u7684\u9AD8\u6548\u80FD (Rust-based) \u548C\u7C21\u6F54\u7684\u8A2D\u8A08\uFF0C\u53EF\u4EE5\u5927\u5E45\u63D0\u5347\u958B\u767C\u6548\u7387\u3002"}),"\n",(0,i.jsx)(e.h2,{id:"installation--setup",children:"Installation & Setup"}),"\n",(0,i.jsx)(e.p,{children:"\u5728 WSL (Ubuntu 24.04) \u4E0A\u5B89\u88DD uv \u975E\u5E38\u7C21\u55AE\uFF0C\u53EA\u9700\u8981\u57F7\u884C\u4EE5\u4E0B\u6307\u4EE4:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"curl -LsSf https://astral.sh/uv/install.sh | sh\n"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"source $HOME/.local/bin/env\n"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"uv help\n"})}),"\n",(0,i.jsx)(e.p,{children:"\u63A5\u8457\u7528 uv \u4F86\u5B89\u88DD Python:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"# \u67E5\u770B\u53EF\u5B89\u88DD\u7248\u672C\nuv python list\n\n# \u5B89\u88DD Python 3.13\nuv python install 3.13\n\n# \u79FB\u9664 Python 3.9\nuv python uninstall 3.9\n"})}),"\n",(0,i.jsx)(e.h2,{id:"create-a-new-project",children:"Create a New Project"}),"\n",(0,i.jsx)(e.p,{children:"\u63A5\u4E0B\u4F86\u6703\u793A\u7BC4\u4F7F\u7528 uv \u4F86\u5EFA\u7ACB\u4E00\u500B\u65B0\u7684 Python \u5C08\u6848\uFF0C\u4E26\u4E14\u4F7F\u7528 fastapi \u4F5C\u70BA Web \u6846\u67B6\u3002"}),"\n",(0,i.jsxs)(e.p,{children:["\u9996\u5148\uFF0Cuv \u901A\u5E38\u6703\u6709\u5169\u500B\u6A94\u6848\uFF0C\u5206\u5225\u662F ",(0,i.jsx)(e.code,{children:"pyproject.toml"})," \u548C ",(0,i.jsx)(e.code,{children:"uv.lock"}),"\u3002\n",(0,i.jsx)(e.code,{children:"pyproject.toml"})," \u7528\u4F86\u63CF\u8FF0\u5C08\u6848\u4EE5\u53CA\u5C08\u6848\u7684\u76F8\u4F9D\u5957\u4EF6\uFF0C\u800C ",(0,i.jsx)(e.code,{children:"uv.lock"})," \u5247\u662F\u7528\u4F86\u9396\u5B9A\u76F8\u4F9D\u5957\u4EF6\u7684\u7248\u672C (\u4E0D\u8981\u624B\u52D5\u66F4\u65B0)\u3002"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"uv init fastapi-demo --python 3.13\ncd fastapi-demo\n"})}),"\n",(0,i.jsxs)(e.p,{children:["\u9019\u500B\u6307\u4EE4\u6703\u7522\u751F\u4E00\u500B\u65B0\u7684\u5C08\u6848\u76EE\u9304 ",(0,i.jsx)(e.code,{children:"fastapi-demo"}),"\uFF0C\u4E26\u4E14\u5728\u88E1\u9762\u5EFA\u7ACB\u57FA\u672C\u67B6\u69CB\u3002"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:".git\n.gitignore\n.python-version\nmain.py\npyproject.toml\nREADME.md\n"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:".python-version"})," \u662F\u7528\u4F86\u6307\u5B9A\u4F7F\u7528\u7684 Python \u7248\u672C"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"main.py"})," \u662F\u5C08\u6848\u7684\u5165\u53E3\u9EDE"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"pyproject.toml"})," \u662F\u5C08\u6848\u7684\u914D\u7F6E\u6A94\u6848\uFF0C\u5B9A\u7FA9\u65BC PEP621"]}),"\n"]}),"\n",(0,i.jsxs)(e.p,{children:["\u9032\u5165\u5C08\u6848\u4E4B\u5F8C\uFF0C\u7B2C\u4E00\u4EF6\u4E8B\u60C5\u662F\u4F7F\u7528 ",(0,i.jsx)(e.code,{children:"uv sync"})," \u4F86\u540C\u6B65\u5C08\u6848\u7684\u76F8\u4F9D\u5957\u4EF6\u4E26\u5275\u5EFA\u865B\u64EC\u74B0\u5883 .venv\uFF0C\u5B83\u6703\u6839\u64DA ",(0,i.jsx)(e.code,{children:"uv.lock"})," \u4E2D\u7684\u8A2D\u5B9A\u4F86\u5B89\u88DD\u76F8\u4F9D\u5957\u4EF6\u3002"]}),"\n",(0,i.jsxs)(e.p,{children:["\u63A5\u8457\u5B89\u88DD\u5957\u4EF6\uFF0C\u5728 uv \u4E2D\u6709\u5169\u7A2E\u65B9\u5F0F\u53EF\u4EE5\u5B89\u88DD\uFF0C\u4E00\u7A2E\u662F ",(0,i.jsx)(e.code,{children:"uv add"}),"\uFF0C\u53E6\u4E00\u7A2E\u662F ",(0,i.jsx)(e.code,{children:"uv install"}),"\uFF0C\u524D\u8005\u6703\u5C07\u5957\u4EF6\u52A0\u5165\u5230 ",(0,i.jsx)(e.code,{children:"pyproject.toml"})," \u548C ",(0,i.jsx)(e.code,{children:"uv.lock"})," \u4E2D\uFF0C\u800C\u5F8C\u8005\u5247\u53EA\u6703\u5B89\u88DD\u5957\u4EF6\u800C\u4E0D\u66F4\u65B0\uFF0C\u56E0\u6B64\u4E00\u822C\u63A8\u85A6\u524D\u8005\u3002"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"# \u5B89\u88DD\u5957\u4EF6\nuv add fastapi --extra standard\n\n# \u5B89\u88DD\u958B\u767C\u5957\u4EF6\uFF0C\u53EF\u4EE5\u4F7F\u7528 --group \u4F86\u6307\u5B9A\u5957\u4EF6\u7D44\u5225\nuv add ruff --group dev\nuv add ruff --group prod\n\n# \u79FB\u9664\u5957\u4EF6\nuv remove fastapi\n"})}),"\n",(0,i.jsxs)(e.p,{children:["\u63A5\u4E0B\u4F86\u4FEE\u6539\u4E00\u4E0B ",(0,i.jsx)(e.code,{children:"main.py"}),"\uFF0C\u52A0\u5165\u4E00\u500B\u7C21\u55AE\u7684 FastAPI \u61C9\u7528\u7A0B\u5F0F:"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",metastring:'title="main.py"',children:'from fastapi import FastAPI\n\napp = FastAPI()\n\n@app.get("/")\nasync def read_root():\n    return {"message": "Hello, uv + FastAPI!"}\n'})}),"\n",(0,i.jsxs)(e.p,{children:["\u6700\u5F8C\u555F\u52D5 FastAPI \u61C9\u7528\u7A0B\u5F0F\uFF0C\u4E26\u5728\u700F\u89BD\u5668\u958B\u555F ",(0,i.jsx)(e.code,{children:"http://localhost:8000"})," \u4F86\u67E5\u770B\u7D50\u679C\u3002"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"uv run fastapi dev\n# OR\nuv run fastapi run --workers 4 main.py\n"})}),"\n",(0,i.jsx)(e.h2,{id:"other-useful-functions",children:"Other Useful Functions"}),"\n",(0,i.jsx)(e.h3,{id:"running-scripts",children:"Running Scripts"}),"\n",(0,i.jsx)(e.p,{children:"uv \u4E5F\u53EF\u4EE5\u7528\u4F86\u5167\u51FD\u4F9D\u8CF4\u7684\u8173\u672C\uFF0C\u4F8B\u5982 :"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",metastring:'title="example.py"',children:'# /// script\n# dependencies = ["requests"]\n# ///\n\nimport requests\nprint(requests.get("https://astral.sh").status_code)\n'})}),"\n",(0,i.jsxs)(e.p,{children:["\u5C31\u53EF\u4EE5\u76F4\u63A5\u57F7\u884C ",(0,i.jsx)(e.code,{children:"uv run example.py"})," \u4F86\u57F7\u884C\u9019\u500B\u8173\u672C\uFF0Cuv \u6703\u81EA\u52D5\u5B89\u88DD\u76F8\u4F9D\u5957\u4EF6\u4E26\u57F7\u884C\u3002\n\u6216\u8005\u662F\u5728\u57F7\u884C\u7684\u6642\u5019\u6539\u6210 ",(0,i.jsx)(e.code,{children:"uv run --with requests example.py"})," \u9019\u6A23\u5C31\u4E0D\u7528\u5728\u6A94\u6848\u6700\u4E0A\u65B9\u5BEB dependencies\u3002"]}),"\n",(0,i.jsx)(e.h3,{id:"tools",children:"Tools"}),"\n",(0,i.jsx)(e.p,{children:"\u8A31\u591A Python \u7684\u5957\u4EF6\u90FD\u6709\u63D0\u4F9B CLI \u5DE5\u5177\uFF0Cuv \u4E5F\u53EF\u4EE5\u76F4\u63A5\u4F7F\u7528\u9019\u4E9B\u5DE5\u5177\uFF0C\u4F8B\u5982:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"uvx ruff check .\n# \u7B49\u50F9\u65BC\nuv tool run ruff check .\n"})}),"\n",(0,i.jsx)(e.h3,{id:"integration-with-github-actions",children:"Integration with GitHub Actions"}),"\n",(0,i.jsxs)(e.p,{children:["uv \u4E5F\u53EF\u4EE5\u8207 GitHub Actions \u6574\u5408\uFF0C\u63D0\u4F9B CI/CD \u7684\u529F\u80FD\uFF0C\u53EF\u4EE5\u53C3\u8003 ",(0,i.jsx)(e.a,{href:"https://docs.astral.sh/uv/guides/integration/github/",children:"\u5B98\u65B9\u7BC4\u4F8B"})]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-yaml",children:"name: Example\n\njobs:\n  uv-example:\n    name: python\n    runs-on: ubuntu-latest\n\n    steps:\n      - uses: actions/checkout@v4\n\n      - name: Install uv\n        uses: astral-sh/setup-uv@v6\n\n      - name: Install the project\n        run: uv sync --locked --all-extras --dev\n\n      - name: Run tests\n        run: uv run pytest tests\n"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"--locked"})," \u8868\u793A\u6703\u6BD4\u5C0D ",(0,i.jsx)(e.code,{children:"uv.lock"})," \u8DDF ",(0,i.jsx)(e.code,{children:"pyproject.toml"})," \u7684\u76F8\u4F9D\u5957\u4EF6\u7248\u672C\uFF0C\u5982\u679C\u6709\u5DEE\u7570\u5247\u6703\u5831\u932F"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"--all-extras"})," \u8868\u793A\u6703\u5B89\u88DD\u6240\u6709\u7684\u984D\u5916\u5957\u4EF6\uFF0C\u4E5F\u5C31\u662F ",(0,i.jsx)(e.code,{children:"[project.optional-dependencies]"})," \u4E2D\u5B9A\u7FA9\u7684\u6240\u6709\u5957\u4EF6"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"--dev"})," \u8868\u793A\u6703\u5B89\u88DD\u958B\u767C\u5957\u4EF6"]}),"\n"]}),"\n",(0,i.jsx)(e.h3,{id:"integration-with-docker",children:"Integration with Docker"}),"\n",(0,i.jsxs)(e.p,{children:["uv \u4E5F\u63D0\u4F9B\u4E86\u5B98\u65B9\u7684 image\uFF0C\u53EF\u4EE5\u53C3\u8003 ",(0,i.jsx)(e.a,{href:"https://docs.astral.sh/uv/guides/integration/docker/",children:"\u5B98\u65B9\u7BC4\u4F8B"})," \u8DDF ",(0,i.jsx)(e.a,{href:"https://github.com/astral-sh/uv-docker-example/tree/main",children:"GitHub"})," \u4F86\u4F7F\u7528\u3002"]}),"\n",(0,i.jsx)(e.p,{children:"\u9019\u88E1\u4EE5\u5B98\u65B9\u63D0\u4F9B\u7684 Dockerfile \u70BA\u4F8B\uFF1A"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-dockekfilefile",metastring:'title="Dockerfile" showLineNumbers',children:'# An example of using standalone Python builds with multistage images.\n\n# First, build the application in the `/app` directory\nFROM ghcr.io/astral-sh/uv:bookworm-slim AS builder\nENV UV_COMPILE_BYTECODE=1 UV_LINK_MODE=copy\n\n# Configure the Python directory so it is consistent\nENV UV_PYTHON_INSTALL_DIR=/python\n\n# Only use the managed Python version\nENV UV_PYTHON_PREFERENCE=only-managed\n\n# Install Python before the project for caching\nRUN uv python install 3.12\n\nWORKDIR /app\nRUN --mount=type=cache,target=/root/.cache/uv \\\n    --mount=type=bind,source=uv.lock,target=uv.lock \\\n    --mount=type=bind,source=pyproject.toml,target=pyproject.toml \\\n    uv sync --locked --no-install-project --no-dev\nCOPY . /app\nRUN --mount=type=cache,target=/root/.cache/uv \\\n    uv sync --locked --no-dev\n\n# Then, use a final image without uv\nFROM debian:bookworm-slim\n\n# Copy the Python version\nCOPY --from=builder --chown=python:python /python /python\n\n# Copy the application from the builder\nCOPY --from=builder --chown=app:app /app /app\n\n# Place executables in the environment at the front of the path\nENV PATH="/app/.venv/bin:$PATH"\n\n# Run the FastAPI application by default\nCMD ["fastapi", "dev", "--host", "0.0.0.0", "/app/src/uv_docker_example"]\n'})}),"\n",(0,i.jsxs)(e.p,{children:["\u9019\u662F\u4E00\u500B\u63A1\u7528\u4E86 multi-stage build \u7684 Dockerfile\uFF0C\u9996\u5148\u5728 ",(0,i.jsx)(e.code,{children:"builder"})," \u968E\u6BB5\u5B89\u88DD Python \u548C\u76F8\u4F9D\u5957\u4EF6\uFF0C\u7136\u5F8C\u5728\u6700\u7D42\u7684 image \u4E2D\u53EA\u4FDD\u7559\u61C9\u7528\u7A0B\u5F0F\u548C Python \u57F7\u884C\u74B0\u5883\u3002"]}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:["\u9996\u5148\u4F7F\u7528 ",(0,i.jsx)(e.code,{children:"ghcr.io/astral-sh/uv:bookworm-slim"})," \u4F5C\u70BA\u57FA\u790E\u6620\u50CF\uFF0C\u9019\u662F uv \u5B98\u65B9\u63D0\u4F9B\u7684\u57FA\u790E\u6620\u50CF\uFF0C\u5305\u542B\u4E86 uv \u548C Python \u7684\u57F7\u884C\u74B0\u5883"]}),"\n",(0,i.jsxs)(e.li,{children:["\u8A2D\u5B9A ",(0,i.jsx)(e.code,{children:"UV_COMPILE_BYTECODE=1"})," \u4F86\u8B93 Python \u5728\u5B89\u88DD\u6642\u7522\u751F ",(0,i.jsx)(e.code,{children:".pyc"})," \u6A94\u6848\uFF0C\u9019\u6A23\u53EF\u4EE5\u52A0\u901F Python \u7684\u555F\u52D5\u901F\u5EA6"]}),"\n",(0,i.jsxs)(e.li,{children:["\u8A2D\u5B9A ",(0,i.jsx)(e.code,{children:"UV_LINK_MODE=copy"})," \u5C07\u5957\u4EF6\u6A94\u6848\u7528\u8907\u88FD\u7684\u65B9\u5F0F\u9023\u7D50\u5230\u6700\u7D42\u6620\u50CF\u4E2D\uFF0C\u9019\u6A23\u53EF\u4EE5\u907F\u514D\u5728\u6700\u7D42\u6620\u50CF\u4E2D\u51FA\u73FE symlink \u7684\u554F\u984C"]}),"\n",(0,i.jsxs)(e.li,{children:["\u8A2D\u5B9A ",(0,i.jsx)(e.code,{children:"UV_PYTHON_INSTALL_DIR=/python"})," \u4F86\u6307\u5B9A Python \u7684\u5B89\u88DD\u76EE\u9304"]}),"\n",(0,i.jsxs)(e.li,{children:["\u8A2D\u5B9A ",(0,i.jsx)(e.code,{children:"UV_PYTHON_PREFERENCE=only-managed"})," \u8868\u793A\u53EA\u4F7F\u7528 uv \u7BA1\u7406\u7684 Python \u7248\u672C"]}),"\n",(0,i.jsxs)(e.li,{children:["\u5728 ",(0,i.jsx)(e.code,{children:"builder"})," \u968E\u6BB5\u5B89\u88DD Python 3.12"]}),"\n",(0,i.jsxs)(e.li,{children:["\u8A2D\u5B9A\u5DE5\u4F5C\u76EE\u9304\u70BA ",(0,i.jsx)(e.code,{children:"/app"}),"\uFF0C\u4E26\u8A2D\u5B9A\u597D uv cache \u548C\u628A ",(0,i.jsx)(e.code,{children:"uv.lock"})," \u548C ",(0,i.jsx)(e.code,{children:"pyproject.toml"})," \u639B\u8F09\u5230\u5BB9\u5668\u4E2D\uFF0C\u6700\u5F8C\u518D\u4F7F\u7528 ",(0,i.jsx)(e.code,{children:"uv sync"})," \u4F86\u540C\u6B65\u76F8\u4F9D\u5957\u4EF6"]}),"\n",(0,i.jsxs)(e.li,{children:["\u63A5\u8457\u56DE\u5230\u5DE5\u4F5C\u76EE\u9304 ",(0,i.jsx)(e.code,{children:"/app"}),"\uFF0C\u5C07\u61C9\u7528\u7A0B\u5F0F\u7684\u6A94\u6848\u8907\u88FD\u5230\u5BB9\u5668\u4E2D\u4E26\u628A\u5C08\u6848\u672C\u8EAB\u4E0B\u8F09\u5230\u5BB9\u5668\u4E2D"]}),"\n",(0,i.jsxs)(e.li,{children:["\u6700\u5F8C\u5728\u6700\u7D42\u7684\u6620\u50CF\u4E2D\uFF0C\u5C07 Python \u7684\u57F7\u884C\u74B0\u5883\u548C\u61C9\u7528\u7A0B\u5F0F\u5F9E ",(0,i.jsx)(e.code,{children:"builder"})," \u968E\u6BB5\u8907\u88FD\u904E\u4F86\uFF0C\u4E26\u8A2D\u5B9A\u597D\u74B0\u5883\u8B8A\u6578 ",(0,i.jsx)(e.code,{children:"PATH"}),"\uFF0C\u6700\u5F8C\u8A2D\u5B9A\u9810\u8A2D\u7684\u547D\u4EE4\u70BA\u555F\u52D5 FastAPI \u61C9\u7528\u7A0B\u5F0F"]}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"ruff",children:"Ruff"}),"\n",(0,i.jsxs)(e.p,{children:["Astral \u5718\u968A\u4E5F\u958B\u767C\u4E86\u53E6\u4E00\u500B\u5DE5\u5177\u53EB\u505A Ruff\uFF0C\u5B83\u662F\u4E00\u500B\u9AD8\u6548\u80FD\u7684 Python linter \u548C formatter\u3002\n\u5B83\u7684\u8A2D\u8A08\u76EE\u6A19\u662F\u53D6\u4EE3 ",(0,i.jsx)(e.code,{children:"flake8"}),"\u3001",(0,i.jsx)(e.code,{children:"black"}),"\u3001",(0,i.jsx)(e.code,{children:"isort"})," \u7B49\u7B49\u7684\u5404\u5F0F\u5DE5\u5177\uFF0C\u4E26\u6574\u5408\u4E86\u5982 ",(0,i.jsx)(e.code,{children:"pyupgrade"})," \u4E4B\u985E\u7684\u5DE5\u5177\u4F86\u7D71\u4E00 Python \u7684\u5DE5\u5177\u93C8\u3002"]}),"\n",(0,i.jsxs)(e.p,{children:["\u5728\u524D\u9762\u7684\u5C08\u6848\u4E2D\uFF0C\u6211\u5011\u5DF2\u7D93\u900F\u904E ",(0,i.jsx)(e.code,{children:"uv add ruff --group dev"})," \u5B89\u88DD\u4E86 Ruff\uFF0C\u63A5\u4E0B\u4F86\u6211\u5011\u53EF\u4EE5\u4F7F\u7528 Ruff \u4F86\u6AA2\u67E5\u7A0B\u5F0F\u78BC\u7684\u98A8\u683C\u548C\u932F\u8AA4\u3002"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"# \u6AA2\u67E5\u7A0B\u5F0F\u78BC\u98A8\u683C\u548C\u932F\u8AA4\nuv run ruff check\n\n# \u81EA\u52D5\u4FEE\u6B63\u7A0B\u5F0F\u78BC\u98A8\u683C\u548C\u932F\u8AA4\nuv run ruff check --fix\n\n# \u67E5\u770B\u8981\u4FEE\u5FA9\u7684\u7A0B\u5F0F\u78BC\u98A8\u683C\u548C\u932F\u8AA4\nuv run ruff check --diff --fix\n\n# \u4E5F\u53EF\u4EE5\u505A fomatting\nuv run ruff format\n"})}),"\n",(0,i.jsxs)(e.p,{children:["\u53EF\u4EE5\u76F4\u63A5\u5728 ",(0,i.jsx)(e.code,{children:"pyproject.toml"})," \u4E2D\u8A2D\u5B9A Ruff \u7684\u914D\u7F6E\uFF0C\u4F8B\u5982\uFF1A"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-toml",metastring:'title="pyproject.toml"',children:'[tool.ruff]\nline-length = 88\nexclude = ["build/", "dist/", ".venv/", ".git/", "__pycache__/"]\n\n[tool.ruff.lint]\nselect = [\n    "E",  # pycodestyle errors\n    "W",  # pycodestyle warnings\n    "F",  # pyflakes\n    "I",  # isort\n    "UP", # pyupgrade\n]\nignore = [\n    "E402",\n]\n\n[tool.ruff.format]\nquote-style = "double"\ndocstring-code-format = true\n'})}),"\n",(0,i.jsx)(e.p,{children:"\u518D\u642D\u914D VScode \u7684\u64F4\u5145\u5957\u4EF6\uFF0C\u5373\u53EF\u5728\u7DE8\u8F2F\u5668\u4E2D\u5373\u6642\u6AA2\u67E5\u7A0B\u5F0F\u78BC\u98A8\u683C\u548C\u932F\u8AA4\u3002"})]})}function a(n={}){let{wrapper:e}={...(0,r.a)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(h,{...n})}):h(n)}},50065:function(n,e,t){t.d(e,{Z:()=>o,a:()=>l});var s=t(67294);let i={},r=s.createContext(i);function l(n){let e=s.useContext(r);return s.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function o(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:l(n.components),s.createElement(r.Provider,{value:e},n.children)}}}]);