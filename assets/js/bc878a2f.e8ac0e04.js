"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[8968],{74974:(e,i,r)=>{r.r(i),r.d(i,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>s,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"Observability/mimir","title":"[Mimir] \u667a\u6167\u4e4b\u6cc9 - Mimir \u555f\u8fea\u76e3\u63a7\u65b0\u5883\u754c","description":"Grafana Mimir \u57fa\u672c\u4ecb\u7d39","source":"@site/docs/Observability/mimir.mdx","sourceDirName":"Observability","slug":"/Observability/mimir","permalink":"/RulerChen-Website/docs/Observability/mimir","draft":false,"unlisted":false,"editUrl":"https://github.com/RulerChen/RulerChen-Website/tree/main/docs/Observability/mimir.mdx","tags":[],"version":"current","lastUpdatedAt":1739371782000,"sidebarPosition":40,"frontMatter":{"title":"[Mimir] \u667a\u6167\u4e4b\u6cc9 - Mimir \u555f\u8fea\u76e3\u63a7\u65b0\u5883\u754c","sidebar_position":40,"description":"Grafana Mimir \u57fa\u672c\u4ecb\u7d39","keywords":["grafana","mimir","observability","prometheus"]},"sidebar":"tutorialSidebar","previous":{"title":"[Tempo] \u6642\u5149\u4e4b\u97fb - Tempo \u6355\u6349\u8ffd\u8e64\u7bc0\u594f","permalink":"/RulerChen-Website/docs/Observability/tempo"},"next":{"title":"[Mimir \u5be6\u6230] \u6253\u9020\u672c\u5730\u76e3\u63a7\u7cfb\u7d71","permalink":"/RulerChen-Website/docs/Observability/mimir-demo"}}');var t=r(74848),a=r(28453);const s={title:"[Mimir] \u667a\u6167\u4e4b\u6cc9 - Mimir \u555f\u8fea\u76e3\u63a7\u65b0\u5883\u754c",sidebar_position:40,description:"Grafana Mimir \u57fa\u672c\u4ecb\u7d39",keywords:["grafana","mimir","observability","prometheus"]},l=void 0,o={},c=[{value:"Background",id:"background",level:2},{value:"Introduction",id:"introduction",level:2},{value:"Components",id:"components",level:2},{value:"Read Path &amp; Write Path Flow",id:"read-path--write-path-flow",level:3},{value:"Compactor",id:"compactor",level:3},{value:"Distributor",id:"distributor",level:3},{value:"Ingester",id:"ingester",level:3},{value:"Querier",id:"querier",level:3},{value:"Query Frontend",id:"query-frontend",level:3},{value:"Store Gateway",id:"store-gateway",level:3},{value:"Reference",id:"reference",level:2}];function d(e){const i={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",ul:"ul",...(0,a.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.h2,{id:"background",children:"Background"}),"\n",(0,t.jsx)(i.p,{children:"Grafana Mimir \u7684\u524d\u8eab\u53ef\u8ffd\u6eaf\u5230 Cortex\uff0c\u65e9\u5728 2016 \u5e74\uff0c\u7576\u6642\u5728 Weaveworks \u5de5\u4f5c\u7684 Tom Wilkie \u8207 Prometheus \u7684\u5171\u540c\u5275\u59cb\u4eba Julius Volz \u5c31\u958b\u59cb\u7814\u767c Cortex\uff0c\u65e8\u5728\u69cb\u5efa\u4e00\u500b\u53ef\u8207 Prometheus \u76f8\u5bb9\u3001\u5177\u5099\u6c34\u5e73\u64f4\u5c55\u80fd\u529b\u7684\u76e3\u63a7\u89e3\u6c7a\u65b9\u6848\uff0c\u4ee5\u89e3\u6c7a Prometheus \u55ae\u6a5f\u6027\u80fd\u9650\u5236\u7684\u554f\u984c\u3002"}),"\n",(0,t.jsx)(i.p,{children:"\u4f46\u7531\u65bc\u5f8c\u4f86 Cortex \u7684\u6280\u8853\u50b5\u592a\u904e\u65bc\u56b4\u91cd\uff0c\u4e26\u4e14\u7531\u65bc\u958b\u6e90\u689d\u6b3e\u7684\u9650\u5236\uff0c\u8b93 Grafana Labs \u6c7a\u5b9a\u57fa\u65bc Cortex \u7684\u7a0b\u5f0f\u78bc\u91cd\u69cb\uff0c\u5728 2022 \u5e74\u6b63\u5f0f\u767c\u5e03\u4e86 Grafana Mimir\u3002"}),"\n",(0,t.jsx)(i.p,{children:"Mimir \u6307\u7684\u662f\u5317\u6b50\u795e\u8a71\u4e2d\u7684\u667a\u6167\u5de8\u4eba\uff0c\u7531\u5de8\u4eba\u4e4b\u7956 Ymir \u6240\u751f\uff0c\u662f\u667a\u6167\u4e4b\u6cc9\u7684\u4e3b\u4eba\uff0c\u64c1\u6709\u7121\u6bd4\u7684\u667a\u6167\u8207\u77e5\u8b58\uff0c\u50b3\u8aaa\u4e2d\uff0c\u5967\u4e01\u751a\u81f3\u70ba\u4e86\u98f2\u7528\u6cc9\u6c34\u7372\u5f97\u667a\u6167\uff0c\u72a7\u7272\u4e86\u81ea\u5df1\u7684\u53f3\u773c\u3002\nGrafana Labs \u9078\u64c7\u4f7f\u7528 Mimir \u4f5c\u70ba\u9019\u500b\u6642\u5e8f\u8cc7\u6599\u5eab\u7684\u540d\u7a31\uff0c\u6b63\u662f\u5e0c\u671b\u501f\u7528\u9019\u4f4d\u5317\u6b50\u667a\u8005\u8c61\u5fb5\u7684\u6df1\u539a\u77e5\u8b58\u8207\u8a18\u61b6\uff0c\u8868\u9054\u5176\u7cfb\u7d71\u80fd\u5920\u5132\u5b58\u3001\u7ba1\u7406\u4e26\u5f9e\u6d77\u91cf\u76e3\u63a7\u6578\u64da\u4e2d\u8403\u53d6\u51fa\u95dc\u9375\u6d1e\u5bdf\u7684\u80fd\u529b\u3002"}),"\n",(0,t.jsx)(i.h2,{id:"introduction",children:"Introduction"}),"\n",(0,t.jsxs)(i.blockquote,{children:["\n",(0,t.jsx)(i.p,{children:"Grafana Mimir is an open source, horizontally scalable, highly available, multi-tenant, long-term storage for Prometheus."}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:"Grafana Mimir \u662f\u4e00\u500b\u9ad8\u6548\u4e26\u53ef\u6c34\u5e73\u64f4\u5c55\u7684\u6642\u5e8f\u8cc7\u6599\u5eab\uff0c\u5c08\u70ba Prometheus \u8a2d\u8a08\uff0c\u7528\u4f86\u8655\u7406\u6d77\u91cf\u6642\u5e8f\u6578\u64da\u7684\u5132\u5b58\u8207\u67e5\u8a62\u3002"}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.img,{alt:"Grafana Mimir",src:r(92333).A+"",width:"1009",height:"394"})}),"\n",(0,t.jsx)(i.p,{children:"Mimir \u7684\u6838\u5fc3\u529f\u80fd\u5982\u4e0b :"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"\u53ef\u64f4\u5c55\u6027 : Mimir \u53ef\u4ee5\u6c34\u5e73\u64f4\u5c55\uff0c\u652f\u63f4\u591a\u500b\u5be6\u4f8b\uff0c\u4e26\u4e14\u53ef\u4ee5\u81ea\u52d5\u5e73\u8861\u6578\u64da"}),"\n",(0,t.jsx)(i.li,{children:"\u55ae\u4e00\u8cc7\u6599\u6e90 : Mimir \u53ef\u4ee5\u652f\u63f4\u591a\u500b Prometheus \u5be6\u4f8b\uff0c\u4e26\u4e14\u53ef\u4ee5\u5c07\u6578\u64da\u5408\u4f75\u5230\u55ae\u4e00\u8cc7\u6599\u6e90"}),"\n",(0,t.jsx)(i.li,{children:"\u9577\u671f\u5b58\u5132 : Mimir \u53ef\u4ee5\u5b58\u5132\u5728\u7269\u4ef6\u5b58\u5132\u4e2d\u7bc0\u7701\u6210\u672c"}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.img,{alt:"Grafana Mimir",src:r(53531).A+"",width:"913",height:"119"})}),"\n",(0,t.jsx)(i.p,{children:"Mimir \u53ef\u4ee5\u5f88\u597d\u7684\u8207 Prometheus \u914d\u5408\u4f7f\u7528\uff0cPrometheus \u53ef\u4ee5\u626e\u6f14\u8490\u96c6\u6578\u64da\u7684\u89d2\u8272\uff0c\u4f7f\u7528 remote_write \u5c07\u6578\u64da\u5beb\u5165 Mimir\uff0c\u800c Mimir \u5247\u53ef\u4ee5\u63d0\u4f9b\u9577\u671f\u5b58\u5132\u3001\u9ad8\u6548\u67e5\u8a62\u7684\u529f\u80fd\u3002"}),"\n",(0,t.jsx)(i.h2,{id:"components",children:"Components"}),"\n",(0,t.jsx)(i.p,{children:"Grafana \u7cfb\u5217\u7684\u7522\u54c1 (Loki\u3001Tempo) \u5728\u67b6\u69cb\u4e0a\u5176\u5be6\u90fd\u5f88\u76f8\u4f3c\uff0c\u90fd\u662f\u7531\u4e00\u4e9b\u57fa\u672c\u7684\u5143\u4ef6\u7d44\u6210\uff0cMimir \u4e5f\u4e0d\u4f8b\u5916\uff0c\u4ee5\u4e0b\u662f Mimir \u7684\u4e00\u4e9b\u57fa\u672c\u5143\u4ef6 :"}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.img,{alt:"Grafana Mimir Components",src:r(31986).A+"",width:"1024",height:"810"})}),"\n",(0,t.jsx)(i.h3,{id:"read-path--write-path-flow",children:"Read Path & Write Path Flow"}),"\n",(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.img,{alt:"Grafana Mimir Flow",src:r(61141).A+"",width:"1024",height:"907"}),"\n",(0,t.jsx)(i.img,{alt:"Grafana Mimir Flow",src:r(49516).A+"",width:"1024",height:"743"})]}),"\n",(0,t.jsx)(i.h3,{id:"compactor",children:"Compactor"}),"\n",(0,t.jsx)(i.p,{children:"Mimir \u7684 Compactor \u662f\u4e00\u500b stateless \u7684\u670d\u52d9\uff0c\u4e3b\u8981\u8ca0\u8cac\u4ee5\u4e0b\u5e7e\u500b\u529f\u80fd :"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"block compaction : \u5c07\u540c\u4e00\u79df\u6236\u5728\u76f8\u540c\u6642\u9593\u7bc4\u570d\u5167\u7531\u591a\u500b Ingester \u4e0a\u50b3\u7684 TSDB \u5340\u584a\u5408\u4f75\u6210\u4e00\u500b\u7d93\u904e\u512a\u5316\u7684\u5927\u5340\u584a\u3002\u9019\u500b\u5408\u4f75\u904e\u7a0b\u6703\u540c\u6642\u5c0d\u6578\u64da\u9032\u884c deduplication\uff0c\u6e1b\u5c11\u5132\u5b58\u7d22\u5f15\u7684\u5927\u5c0f"}),"\n",(0,t.jsx)(i.li,{children:"block deletion : \u522a\u9664\u904e\u671f\u7684 block\uff0c\u63a7\u5236\u8cc7\u6599\u81a8\u8139"}),"\n",(0,t.jsx)(i.li,{children:"index compaction : \u6bcf\u500b\u79df\u6236\u90fd\u6703\u6709\u81ea\u5df1\u7684 bucket index\uff0c\u9019\u500b index \u6703\u5132\u5b58\u6bcf\u500b\u79df\u6236\u7684 block \u8ddf deletion mark\uff0c\u53ef\u4ee5\u5e6b\u52a9 Querier\u3001Ruler\u3001Store Gateway \u5feb\u901f\u627e\u5230\u9700\u8981\u7684 block"}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:"Compactor \u7684 compaction \u64cd\u4f5c\u662f\u5728\u6bcf\u500b\u79df\u6236\u7684\u5c64\u7d1a\u4e0a\u57f7\u884c\u7684\uff0c\u9593\u9694\u70ba\u4e00\u500b\u53ef\u914d\u7f6e\u7684\u6642\u9593\uff0c\u4e3b\u8981\u5206\u70ba\u5169\u500b\u968e\u6bb5 :"}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.img,{alt:"Grafana Mimir Compaction",src:r(48296).A+"",width:"1002",height:"453"})}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:["\n",(0,t.jsx)(i.p,{children:"Vertical compaction :"}),"\n",(0,t.jsx)(i.p,{children:"\u5c0d\u65bc\u540c\u4e00\u6642\u9593\u7bc4\u570d\u5167 (\u9810\u8a2d\u70ba 2 \u5c0f\u6642) \u7684\u6240\u6709\u5340\u584a\u9032\u884c\u5408\u4f75\u3002\n\u5782\u76f4\u5408\u4f75\u6703\u5c07\u9019\u4e9b\u4f86\u81ea\u591a\u500b Ingester \u7684\u5340\u584a\u5408\u4f75\u6210\u4e00\u500b\u55ae\u4e00\u5340\u584a\uff0c\u4e26\u9032\u884c\u91cd\u8907\u6578\u64da\u6d88\u9664\uff0c\u5c07\u539f\u672c\u5206\u6563\u7684\u591a\u500b\u5340\u584a\u58d3\u7e2e\u70ba\u4e00\u500b\u5340\u584a\u3002"}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:["\n",(0,t.jsx)(i.p,{children:"Horizontal compaction :"}),"\n",(0,t.jsx)(i.p,{children:"\u7576\u5782\u76f4\u5408\u4f75\u5b8c\u6210\u5f8c\uff0c\u5c0d\u65bc\u76f8\u9130\u7684\u6642\u9593\u7bc4\u570d\u5167\u7684\u5340\u584a\u9032\u884c\u518d\u6b21\u5408\u4f75\uff0c\u4ee5\u5f62\u6210\u66f4\u5927\u7684\u5340\u584a\u3002\n\u6c34\u5e73\u5408\u4f75\u53ef\u4ee5\u5927\u5e45\u5ea6\u6e1b\u5c11 store-gateway \u5728\u8a18\u61b6\u9ad4\u4e2d\u9700\u8981\u4fdd\u5b58\u7684 index \u8207 index-header \u7684\u5927\u5c0f\uff0c\u63d0\u5347\u67e5\u8a62\u6027\u80fd\u3002"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:"Mimir \u4f7f\u7528\u7684 compaction algorithm \u7a31\u70ba split and merge\uff0c\u4e3b\u8981\u5206\u6210 split \u8ddf merge \u5169\u500b\u968e\u6bb5\uff0c\u9810\u8a2d\u4e0d\u4f7f\u7528 split\uff0c\u53ea\u4f7f\u7528 merge\u3002"}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.img,{alt:"Grafana Mimir Compaction",src:r(88241).A+"",width:"1236",height:"551"})}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:["\n",(0,t.jsx)(i.p,{children:"Split stage"}),"\n",(0,t.jsx)(i.p,{children:"\u5728\u8cc7\u6599\u5beb\u5165\u6642\uff0c\u7531\u65bc\u51fa\u65bc\u9ad8\u53ef\u7528\u6027\u8003\u91cf\uff0c\u55ae\u4e00\u6642\u9593\u5e8f\u5217\u53ef\u80fd\u6703\u88ab\u8907\u88fd\u5230\u591a\u500b Ingester \u4e0a\uff0c\u9019\u4e5f\u5c31\u5c0e\u81f4\u540c\u4e00\u6642\u9593\u7bc4\u570d\u5167\u6703\u7522\u751f\u591a\u500b TSDB \u5340\u584a\uff0c\u800c split \u968e\u6bb5\u7684\u8a2d\u8a08\u5c31\u662f\u70ba\u4e86\u5c07\u9019\u4e9b\u6578\u64da\u62c6\u5206\u6210\u66f4\u5c0f\u3001\u4e14\u66f4\u5bb9\u6613\u5e73\u884c\u8655\u7406\u7684\u5340\u584a\u3002"}),"\n",(0,t.jsxs)(i.p,{children:["\u9996\u5148\u6703\u4f9d\u64da ",(0,t.jsx)(i.code,{children:"-compactor.split-groups"})," \u4f86\u81ea\u540c\u4e00\u6642\u9593\u7bc4\u570d\u5167\u7684\u6240\u6709\u6e90\u5340\u584a\u5283\u5206\u70ba N \u500b\u7d44\uff0c\u63a5\u8457 Compactor \u6703\u5c0d\u6bcf\u500b\u7d44\u9032\u884c\u62c6\u5206\uff0c\n\u9019\u500b\u62c6\u5206\u7684\u904e\u7a0b\u662f\u6839\u64da\u53c3\u6578 ",(0,t.jsx)(i.code,{children:"-compactor.split-and-merge-shards"})," \u4f86\u8a2d\u5b9a M (\u5206\u7247\u6578) \u7684\uff0c\u4e5f\u5c31\u662f\u8aaa\uff0c\u6bcf\u500b\u7d44\u6703\u88ab\u62c6\u5206\u6210 M \u500b\u4e0d\u540c\u7684\u5206\u7247\u3002\n\u6700\u7d42\u5728\u6b64\u968e\u6bb5\u7d50\u675f\u5f8c\uff0c\u7e3d\u5171\u6703\u7522\u751f N X M \u500b\u62c6\u5206\u5f8c\u7684\u4e2d\u9593\u5340\u584a\u3002\u6bcf\u500b\u9019\u985e\u4e2d\u9593\u5340\u584a\u5728\u5176 ",(0,t.jsx)(i.code,{children:"meta.json"})," \u6a94\u6848\u4e2d\u90fd\u6703\u8a18\u9304\u6240\u5c6c\u7684\u5206\u7247\u8cc7\u8a0a\u3002"]}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:["\n",(0,t.jsx)(i.p,{children:"Merge stage"}),"\n",(0,t.jsx)(i.p,{children:"\u91dd\u5c0d\u6bcf\u4e00\u500b\u5206\u7247\uff0cCompactor \u5c07\u4f86\u81ea\u4e0d\u540c\u7d44\u7684\u62c6\u5206\u5340\u584a\u9032\u884c\u5408\u4f75\uff0c\u9019\u500b\u5408\u4f75\u904e\u7a0b\u6703\u540c\u6642\u5b8c\u6210\u91cd\u8907\u6578\u64da\u6d88\u9664\uff0c\u6700\u7d42\u7522\u751f M \u500b\u5408\u4f75\u5f8c\u7684\u5340\u584a\u3002"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(i.h3,{id:"distributor",children:"Distributor"}),"\n",(0,t.jsx)(i.p,{children:"Distributor \u4e00\u6a23\u662f\u4e00\u500b stateless \u7684\u670d\u52d9\uff0c\u4e3b\u8981\u8ca0\u8cac\u4ee5\u4e0b\u5e7e\u500b\u529f\u80fd :"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"\u8ca0\u8cac\u63a5\u6536\u7531 Prometheus \u6216\u662f Grafana Alloy \u50b3\u8f38\u7684\u8cc7\u6599\uff0c\u4e26\u9032\u884c\u9a57\u8b49"}),"\n",(0,t.jsx)(i.li,{children:"\u9650\u5236\u6bcf\u500b\u79df\u6236\u7684\u8acb\u6c42\u901f\u7387"}),"\n",(0,t.jsx)(i.li,{children:"\u5c07\u8cc7\u6599\u5206\u767c\u7d66\u591a\u500b Ingester\uff0c\u4e26\u4e14\u53ef\u4ee5\u81ea\u52d5\u5e73\u8861\u6578\u64da"}),"\n"]}),"\n",(0,t.jsx)(i.h3,{id:"ingester",children:"Ingester"}),"\n",(0,t.jsx)(i.p,{children:"Ingester \u662f\u4e00\u500b stateful \u7684\u670d\u52d9\uff0c\u4e3b\u8981\u8ca0\u8cac\u5c07\u8cc7\u6599\u5beb\u5165 Object Storage\uff0c\u4ee5\u53ca\u5728\u8b80\u53d6\u8cc7\u6599\u6642\u8fd4\u56de\u8a18\u61b6\u9ad4\u4e2d\u7684\u6578\u64da\u3002"}),"\n",(0,t.jsx)(i.p,{children:"\u5176\u529f\u80fd\u8207\u5be6\u4f5c\u8207 Loki \u4e2d\u7684 Ingester \u985e\u4f3c\uff0c\u5982\u679c Ingester \u767c\u751f\u6545\u969c\uff0c\u540c\u6a23\u53ef\u4ee5\u4f7f\u7528 WAL \u4f86\u4fdd\u8b49\u6578\u64da\u4e0d\u6703\u4e1f\u5931\uff0c\u6bd4\u8f03\u7279\u5225\u7684\u662f\u4f7f\u7528\u4e86 WBL (Write Behind Log) \u4f86\u8655\u7406\u4e82\u5e8f\u7684\u8cc7\u6599\u5beb\u5165\u3002"}),"\n",(0,t.jsx)(i.h3,{id:"querier",children:"Querier"}),"\n",(0,t.jsx)(i.p,{children:"Querier \u662f\u4e00\u500b stateless \u7684\u670d\u52d9\uff0c\u4e3b\u8981\u7528\u65bc\u57f7\u884c PromQL \u67e5\u8a62\uff0c\u4e26\u4e14\u53ef\u4ee5\u5c07\u67e5\u8a62\u7d50\u679c\u8fd4\u56de\u7d66\u7528\u6236\u3002\n\u5b83\u6703\u9023\u63a5\u5230 Store Gateway \u548c Ingester \u4f86\u7372\u53d6\u6578\u64da\uff0c\u4e26\u5c07\u7d50\u679c\u805a\u5408\u5f8c\u8fd4\u56de\u7d66 Frontend\u3002"}),"\n",(0,t.jsx)(i.h3,{id:"query-frontend",children:"Query Frontend"}),"\n",(0,t.jsx)(i.p,{children:"Query Frontend \u662f\u4e00\u500b stateless \u7684\u670d\u52d9\uff0c\u63d0\u4f9b\u4e86\u8207 Querier \u76f8\u540c\u7684 API\uff0c\u4e26\u900f\u904e\u5167\u90e8\u7684\u67e5\u8a62\u670d\u52d9\u4ee5\u53ca\u5feb\u53d6\u7b49\u7b49\u7684\u65b9\u5f0f\u4f86\u63d0\u5347\u67e5\u8a62\u6548\u7387\u3002"}),"\n",(0,t.jsx)(i.p,{children:"\u8207 Loki \u4e2d\u7684 Query Frontend \u985e\u4f3c\u3002"}),"\n",(0,t.jsx)(i.h3,{id:"store-gateway",children:"Store Gateway"}),"\n",(0,t.jsx)(i.p,{children:"Store-gateway \u662f\u4e00\u500b stateful \u7684\u5143\u4ef6\uff0c\u4e3b\u8981\u8ca0\u8cac\u5f9e\u9577\u671f\u5132\u5b58 (\u4f8b\u5982 S3\u3001GCS)\u4e2d\u67e5\u8a62 TSDB \u5340\u584a\u3002\n\u5728\u8b80\u53d6\u8def\u5f91\u4e2d\uff0c\u4e0d\u8ad6\u662f\u7528\u6236\u7aef\u67e5\u8a62\u9084\u662f\u544a\u8b66\u898f\u5247\uff0cQuerier \u8207 Ruler \u90fd\u6703\u901a\u904e store-gateway \u4f86\u7372\u53d6\u6578\u64da\u3002"}),"\n",(0,t.jsx)(i.p,{children:"\u70ba\u4e86\u5728\u67e5\u8a62\u6642\u80fd\u5920\u627e\u5230\u6b63\u78ba\u7684\u5340\u584a\uff0cstore-gateway \u5fc5\u9808\u6301\u7e8c\u7372\u5f97\u9577\u671f\u5132\u5b58\u6876\u7684\u7d22\u5f15\uff0c\u5305\u542b\u4e86\u6bcf\u500b\u79df\u6236\u7684\u6240\u6709\u5340\u584a\u53ca\u5176\u522a\u9664\u6a19\u8a18\u7b49\u4fe1\u606f\u3002"}),"\n",(0,t.jsxs)(i.p,{children:["\u7576 store-gateway \u555f\u52d5\u6642\uff0c\u6703\u5c0d\u6bcf\u500b\u79df\u6236\u4e0b\u8f09\u4e00\u6b21 bucket index\uff0c\u4e26\u6839\u64da\u6b64\u4fe1\u606f\u4e86\u89e3\u8a72\u79df\u6236\u7684\u6240\u6709\u5340\u584a\u4ee5\u53ca\u522a\u9664\u6a19\u8a18\u3002\n\u5c0d\u65bc\u6bcf\u500b\u767c\u73fe\u7684\u5340\u584a\uff0cstore-gateway \u6703\u4e0b\u8f09\u8a72\u5340\u584a\u7684 index header \u5230\u672c\u5730\u786c\u789f\uff0c\n\u5728\u9019\u500b\u540c\u6b65\u904e\u7a0b\u4e2d\uff0cstore-gateway \u7684 ",(0,t.jsx)(i.code,{children:"/ready"})," \u5c31\u7dd2\u63a2\u91dd\u6703\u56de\u5831 not-ready \u72c0\u614b\uff0c\u76f4\u5230\u6240\u6709\u5fc5\u9700\u7684\u5340\u584a index header \u88ab\u52a0\u8f09\u5b8c\u6210\u3002"]}),"\n",(0,t.jsx)(i.h2,{id:"reference",children:"Reference"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:(0,t.jsx)(i.a,{href:"https://grafana.com/oss/mimir/",children:"Grafana Mimir"})}),"\n",(0,t.jsx)(i.li,{children:(0,t.jsx)(i.a,{href:"https://grafana.com/docs/mimir/latest/",children:"Grafana Mimir Docs"})}),"\n",(0,t.jsx)(i.li,{children:(0,t.jsx)(i.a,{href:"https://ithelp.ithome.com.tw/articles/10338987",children:"\u53ef\u89c0\u6e2c\u6027\u5b87\u5b99\u7684\u7b2c\u4e8c\u5341\u516b\u5929 - Grafana Mimir \u4ecb\u7d39 - \u76e3\u63a7\u6307\u6a19\u7684\u61c9\u8a31\u4e4b\u5730"})}),"\n",(0,t.jsx)(i.li,{children:(0,t.jsx)(i.a,{href:"https://ithelp.ithome.com.tw/articles/10325151",children:"Mimir - \u6536\u7f85\u842c\u8c61\u7684\u667a\u8005"})}),"\n",(0,t.jsx)(i.li,{children:(0,t.jsx)(i.a,{href:"https://grafana.com/events/observabilitycon/2022/observability-strategy-adobe-with-open-telemetry-grafana-mimir-and-tempo/",children:"Observability strategy at Adobe, with OpenTelemetry, Grafana, Mimir, and Tempo"})}),"\n",(0,t.jsx)(i.li,{children:(0,t.jsx)(i.a,{href:"https://grafana.com/blog/2022/03/30/announcing-grafana-mimir/",children:"Announcing Grafana Mimir, the most scalable open source TSDB in the world"})}),"\n",(0,t.jsx)(i.li,{children:(0,t.jsx)(i.a,{href:"https://grafana.com/blog/2022/05/03/grafana-mimir-maintainers-tell-all/",children:"Grafana Mimir: Maintainers tell all"})}),"\n",(0,t.jsx)(i.li,{children:(0,t.jsx)(i.a,{href:"https://xie.infoq.cn/article/2723176da5693f6085c6b1e78",children:"\u4e00\u6587\u5e26\u4f60\u4e86\u89e3 Grafana \u6700\u65b0\u5f00\u6e90\u9879\u76ee Mimir \u7684\u524d\u4e16\u4eca\u751f"})}),"\n",(0,t.jsx)(i.li,{children:(0,t.jsx)(i.a,{href:"https://zh.wikipedia.org/zh-tw/%E5%AF%86%E7%B1%B3%E7%88%BE",children:"\u5bc6\u7c73\u723e-\u7dad\u57fa\u767e\u79d1"})}),"\n"]})]})}function h(e={}){const{wrapper:i}={...(0,a.R)(),...e.components};return i?(0,t.jsx)(i,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},53531:(e,i,r)=>{r.d(i,{A:()=>n});const n=r.p+"assets/images/image-16-04c1d2b881fac38be48945f3ff27bd10.png"},31986:(e,i,r)=>{r.d(i,{A:()=>n});const n=r.p+"assets/images/image-17-4df4db77e6f35617aa038b468245ba1c.png"},61141:(e,i,r)=>{r.d(i,{A:()=>n});const n=r.p+"assets/images/image-18-a76e4037ab6b762eecc3d4d955a9243a.png"},49516:(e,i,r)=>{r.d(i,{A:()=>n});const n=r.p+"assets/images/image-19-8cdffbbcbee734813e16b87ba743ca5b.png"},48296:(e,i,r)=>{r.d(i,{A:()=>n});const n=r.p+"assets/images/image-20-e183daccb5259378cb947ecc6ceb2337.png"},88241:(e,i,r)=>{r.d(i,{A:()=>n});const n=r.p+"assets/images/image-21-9c4652897a268d11c3bd98d5a1e54046.png"},92333:(e,i,r)=>{r.d(i,{A:()=>n});const n=r.p+"assets/images/mimir-6f48ae692c35e00e74eed51f294fedbf.svg"},28453:(e,i,r)=>{r.d(i,{R:()=>s,x:()=>l});var n=r(96540);const t={},a=n.createContext(t);function s(e){const i=n.useContext(a);return n.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function l(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:s(e.components),n.createElement(a.Provider,{value:i},e.children)}}}]);