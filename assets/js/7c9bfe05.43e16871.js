"use strict";(self.webpackChunkrulerchen_website=self.webpackChunkrulerchen_website||[]).push([["7111"],{2453:function(e,n,i){i.r(n),i.d(n,{frontMatter:()=>l,toc:()=>d,default:()=>a,metadata:()=>t,assets:()=>c,contentTitle:()=>o});var t=JSON.parse('{"id":"Network/tcp","title":"TCP","description":"Transmission Control Protocol","source":"@site/docs/Network/tcp.mdx","sourceDirName":"Network","slug":"/Network/tcp","permalink":"/RulerChen-Website/docs/Network/tcp","draft":false,"unlisted":false,"editUrl":"https://github.com/RulerChen/RulerChen-Website/tree/main/docs/Network/tcp.mdx","tags":[{"inline":true,"label":"Network","permalink":"/RulerChen-Website/docs/tags/network"}],"version":"current","lastUpdatedAt":1762780105000,"sidebarPosition":200,"frontMatter":{"title":"TCP","sidebar_position":200,"description":"Transmission Control Protocol","keywords":["Computer Networks","Networking","TCP"],"tags":["Network"]},"sidebar":"tutorialSidebar","previous":{"title":"HTTP","permalink":"/RulerChen-Website/docs/Network/http"},"next":{"title":"CMU15-213","permalink":"/RulerChen-Website/docs/CMU15-213/"}}'),r=i(4848),s=i(4429);let l={title:"TCP",sidebar_position:"200",description:"Transmission Control Protocol",keywords:["Computer Networks","Networking","TCP"],tags:["Network"]},o,c={},d=[{value:"TCP Overview",id:"tcp-overview",level:2},{value:"TCP header structure",id:"tcp-header-structure",level:2},{value:"TCP connection",id:"tcp-connection",level:2},{value:"Three-way Handshake",id:"three-way-handshake",level:3},{value:"Four-way Handshake",id:"four-way-handshake",level:3},{value:"Window Size",id:"window-size",level:2},{value:"Flow Control",id:"flow-control",level:3},{value:"Congestion Control",id:"congestion-control",level:3},{value:"Detecting Congestion",id:"detecting-congestion",level:4},{value:"Discovering Initial Rate",id:"discovering-initial-rate",level:4},{value:"Adjusting Sending Rate",id:"adjusting-sending-rate",level:4},{value:"Other Algorithms",id:"other-algorithms",level:4}];function h(e){let n={a:"a",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",ul:"ul",...(0,s.R)(),...e.components},{ImageModal:i}=n;return i||function(e,n){throw Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("ImageModal",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"tcp-overview",children:"TCP Overview"}),"\n",(0,r.jsx)(n.p,{children:"TCP (Transmission Control Protocol) \u662F\u4E00\u500B\u904B\u4F5C\u5728\u50B3\u8F38\u5C64\u7684\u5354\u8B70\u3002"}),"\n",(0,r.jsx)(n.p,{children:"\u7531\u65BC\u5F88\u591A\u61C9\u7528\u7A0B\u5F0F\u9700\u8981\u4EF0\u8CF4\u53EF\u9760\u7684\u7DB2\u8DEF\u50B3\u8F38\u670D\u52D9\uFF0C\u4F46\u662F\u7DB2\u8DEF\u5C64\u63D0\u4F9B\u7684\u670D\u52D9\u662F best-effort \u7684\uFF0C\u7121\u6CD5\u4FDD\u8B49\u8CC7\u6599\u7684\u53EF\u9760\u50B3\u8F38\uFF0C\u56E0\u6B64\u6211\u5011\u9700\u8981\u4E00\u500B\u80FD\u5920\u63D0\u4F9B\u53EF\u9760\u50B3\u8F38\u7684\u5354\u8B70\uFF0C\u9019\u5C31\u662F TCP \u7684\u4E3B\u8981\u76EE\u6A19\u3002"}),"\n",(0,r.jsx)(n.p,{children:"TCP \u4E3B\u8981\u63D0\u4F9B\u4EE5\u4E0B\u529F\u80FD :"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Reliability: \u78BA\u4FDD\u8CC7\u6599\u5B8C\u6574\u4E14\u6709\u5E8F\u5730\u50B3\u9001"}),"\n",(0,r.jsx)(n.li,{children:"Flow Control: \u63A5\u6536\u7AEF\u6703\u544A\u8A34\u767C\u9001\u7AEF\u5176\u7DE9\u885D\u5340\u5927\u5C0F"}),"\n",(0,r.jsx)(n.li,{children:"Congestion Control: \u6839\u64DA\u7DB2\u8DEF\u64C1\u585E\u72C0\u6CC1\u8ABF\u6574\u767C\u9001\u901F\u7387"}),"\n",(0,r.jsx)(n.li,{children:"Full-duplex Communication: \u63A5\u6536\u65B9\u548C\u767C\u9001\u65B9\u53EF\u4EE5\u540C\u6642\u4E92\u76F8\u50B3\u8F38\u8CC7\u6599"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"tcp-header-structure",children:"TCP header structure"}),"\n",(0,r.jsx)(n.p,{children:"MTU \u88E1\u9762\u5305\u542B\u4E86 IP header\u3001 TCP header \u8DDF\u8CC7\u6599\uFF0C\u800C MSS \u5247\u662F\u53EA\u5305\u542B\u8CC7\u6599\u7684\u5927\u5C0F\u3002"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"MTU (Maximum Transmission Unit): \u8CC7\u6599\u9023\u7D50\u5C64\u53EF\u4EE5\u50B3\u9001\u7684\u5927\u5C0F (\u6574\u500B\u7B2C\u4E09\u5C64\u7684 IP \u5C01\u5305)\uFF0C\u4EE5 Ethernet \u70BA\u4F8B\uFF0CMTU \u901A\u5E38\u662F 1500 bytes"}),"\n",(0,r.jsx)(n.li,{children:"MSS (Maximum Segment Size): \u5728 TCP \u5C64\u53EF\u4EE5\u50B3\u9001\u7684\u6700\u5927\u8CC7\u6599\u5927\u5C0F\uFF0C\u4E5F\u5C31\u662F MTU - IP header - TCP header"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u5C0D\u65BC IP header \u4F86\u8AAA\uFF0CIPv4 \u7684\u6A19\u982D\u5927\u5C0F\u6700\u5C0F\u70BA 20 bytes\uFF0C\u53EF\u4EE5\u4F9D\u64DA IHL \u6B04\u4F4D\u589E\u52A0\u9078\u9805\u6B04\u4F4D\uFF0C\u6700\u5927\u53EF\u9054 60 bytes\uFF0CIPv6 \u7684\u6A19\u982D\u5927\u5C0F\u5247\u70BA\u56FA\u5B9A 40 bytes\u3002\n\u800C TCP header \u540C\u6A23\u6700\u5C0F\u70BA 20 bytes\uFF0C\u53EF\u4EE5\u4F9D\u64DA Data Offset \u589E\u52A0\u6B04\u4F4D\uFF0C\u6700\u5927\u53EF\u9054 60 bytes\u3002"}),"\n",(0,r.jsx)(i,{src:"/img/network/tcp/image.webp",caption:"Packet Structure",width:"800"}),"\n",(0,r.jsx)(n.p,{children:"\u63A5\u8457\u4F86\u770B\u770B TCP header \u7684\u7D50\u69CB\u3002"}),"\n",(0,r.jsx)(i,{src:"/img/network/tcp/tcp-header.webp",caption:"TCP Header Structure",width:"600"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Source Port (16 bits): \u767C\u9001\u65B9\u7684 port"}),"\n",(0,r.jsx)(n.li,{children:"Destination Port (16 bits): \u63A5\u6536\u65B9\u7684 port"}),"\n",(0,r.jsx)(n.li,{children:"Sequence Number (32 bits): \u7528\u65BC\u6392\u5E8F\u8DDF\u53BB\u91CD\uFF0C\u8868\u793A\u9019\u500B\u5C01\u5305\u4E2D\u7B2C\u4E00\u500B\u4F4D\u5143\u7D44\u7684\u5E8F\u865F"}),"\n",(0,r.jsx)(n.li,{children:"Acknowledgment Number (32 bits): \u78BA\u8A8D\u865F\uFF0C\u8868\u793A\u671F\u671B\u63A5\u6536\u5230\u7684\u4E0B\u4E00\u500B\u4F4D\u5143\u7D44\u5E8F\u865F\uFF0C\u53EA\u6709\u5728 ACK \u8A2D\u7F6E\u6642\u624D\u6709\u6548"}),"\n",(0,r.jsx)(n.li,{children:"Data Offset (4 bits): \u8868\u793A TCP \u6A19\u982D\u7684\u9577\u5EA6 (\u4EE5 32-bit \u70BA\u55AE\u4F4D)\uFF0C\u6700\u5C0F\u503C\u70BA 5 (20 bytes)\uFF0C\u6700\u5927\u503C\u70BA 15 (60 bytes)"}),"\n",(0,r.jsx)(n.li,{children:"Reserved (4 bits): \u4FDD\u7559\u6B04\u4F4D\uFF0C\u76EE\u524D\u4E0D\u9700\u8981"}),"\n",(0,r.jsx)(n.li,{children:"Control Flags (8 bits): \u7528\u4F86\u63A7\u5236\u9023\u63A5\u7684\u72C0\u614B\uFF0C\u5E38\u898B\u7684\u6709 ACK\u3001SYN\u3001FIN\u3001RST \u7B49"}),"\n",(0,r.jsx)(n.li,{children:"Window Size (16 bits): \u8868\u793A\u63A5\u6536\u7AEF\u9084\u6709\u591A\u5C11\u7DE9\u885D\u5340\u53EF\u4EE5\u63A5\u6536\u8CC7\u6599\uFF0C\u7528\u65BC flow control"}),"\n",(0,r.jsx)(n.li,{children:"Checksum (16 bits): \u7528\u65BC\u932F\u8AA4\u5075\u6E2C\uFF0C\u78BA\u4FDD\u8CC7\u6599\u5728\u50B3\u8F38\u904E\u7A0B\u4E2D\u6C92\u6709\u88AB\u7834\u58DE"}),"\n",(0,r.jsx)(n.li,{children:"Urgent Pointer (16 bits): \u5E7E\u4E4E\u4E0D\u6703\u4F7F\u7528\uFF0C\u7528\u5728 URG \u88AB\u8A2D\u7F6E\u6642\u8CC7\u6599\u7684\u7D50\u675F\u4F4D\u7F6E"}),"\n",(0,r.jsx)(n.li,{children:"Options: \u7528\u65BC\u64F4\u5C55 TCP \u529F\u80FD\uFF0C\u5E38\u898B\u9078\u9805\u6709 MSS, Window Scale (\u64F4\u5927 window size), SACK (\u544A\u77E5\u50B3\u9001\u65B9\u6536\u5230\u751A\u9EBC\u4E0D\u9023\u7E8C\u7684\u8CC7\u6599), Timestamps \u7B49"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"tcp-connection",children:"TCP connection"}),"\n",(0,r.jsx)(n.h3,{id:"three-way-handshake",children:"Three-way Handshake"}),"\n",(0,r.jsx)(n.p,{children:"TCP \u4F7F\u7528\u4E09\u5411\u4EA4\u63E1\u4F86\u5EFA\u7ACB\u9023\u63A5\uFF0C\u78BA\u4FDD\u96D9\u65B9\u90FD\u6E96\u5099\u597D\u9032\u884C\u8CC7\u6599\u50B3\u8F38\u3002"}),"\n",(0,r.jsx)(n.p,{children:"\u9019\u88E1\u6240\u8AAA\u7684 seq \u6307\u7684\u662F ISN\uFF0C\u662F\u4E00\u500B\u96A8\u6A5F\u751F\u6210\u7684\u521D\u59CB\u5E8F\u865F\uFF0C\u7528\u4F86\u544A\u8A34\u5C0D\u65B9\u8CC7\u6599\u7684\u8D77\u59CB\u4F4D\u7F6E\uFF0C\u4E26\u9632\u6B62\u820A\u9023\u63A5\u7684\u5C01\u5305\u5E72\u64FE\u65B0\u9023\u63A5\u3002"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u5BA2\u6236\u7AEF\u767C\u9001 SYN \u8DDF seq ",(0,r.jsx)(n.code,{children:"x"})," \u7D66\u4F3A\u670D\u5668"]}),"\n",(0,r.jsxs)(n.li,{children:["\u4F3A\u670D\u5668\u56DE\u61C9 SYN-ACK\uFF0Cseq ",(0,r.jsx)(n.code,{children:"y"}),"\uFF0Cack ",(0,r.jsx)(n.code,{children:"x+1"})]}),"\n",(0,r.jsxs)(n.li,{children:["\u5BA2\u6236\u7AEF\u767C\u9001 ACK\uFF0Cseq ",(0,r.jsx)(n.code,{children:"x+1"}),"\uFF0Cack ",(0,r.jsx)(n.code,{children:"y+1"})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["\u70BA\u4EC0\u9EBC\u9700\u8981\u4E09\u6B21\u800C\u4E0D\u662F\u5169\u6B21? ",(0,r.jsx)(n.a,{href:"https://draven.co/whys-the-design-tcp-three-way-handshake/",children:"\u89E3\u91CB"})]}),"\n",(0,r.jsx)(n.p,{children:"\u7C21\u55AE\u4F86\u8AAA\uFF0C\u6709\u4EE5\u4E0B\u5169\u500B\u539F\u56E0 :"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u70BA\u4E86\u9632\u6B62\u820A\u9023\u63A5\u91CD\u8907\u521D\u59CB\u5316"}),"\n",(0,r.jsx)(n.li,{children:"\u78BA\u4FDD\u96D9\u65B9\u90FD\u80FD\u63A5\u6536\u5230\u5C0D\u65B9\u7684\u521D\u59CB\u5E8F\u865F"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"four-way-handshake",children:"Four-way Handshake"}),"\n",(0,r.jsx)(n.p,{children:"\u56E0\u70BA TCP \u6709\u7279\u6B8A\u7684\u534A\u95DC\u9589 (half-close) \u72C0\u614B\uFF0C\u5141\u8A31\u4E00\u65B9\u5148\u901A\u77E5\u53E6\u4E00\u65B9\u5B83\u5DF2\u7D93\u5B8C\u6210\u8CC7\u6599\u50B3\u9001\uFF0C\u4F46\u4ECD\u7136\u53EF\u4EE5\u63A5\u6536\u8CC7\u6599\uFF0C\u6240\u4EE5 TCP \u4F7F\u7528\u56DB\u6B21\u63EE\u624B\u4F86\u7D42\u6B62\u9023\u63A5\u3002"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u767C\u9001\u7AEF\u767C\u9001 FIN\uFF0C\u544A\u8A34\u63A5\u6536\u7AEF\u8CC7\u6599\u5DF2\u7D93\u4E0D\u6703\u518D\u767C\u9001\u4E86"}),"\n",(0,r.jsx)(n.li,{children:"\u63A5\u6536\u7AEF\u56DE\u61C9 ACK\uFF0C\u544A\u8A34\u767C\u9001\u7AEF\u5DF2\u7D93\u6536\u5230 FIN"}),"\n",(0,r.jsx)(n.li,{children:"\u63A5\u6536\u7AEF\u767C\u9001 FIN\uFF0C\u544A\u8A34\u767C\u9001\u7AEF\u8CC7\u6599\u5DF2\u7D93\u4E0D\u6703\u518D\u767C\u9001\u4E86"}),"\n",(0,r.jsx)(n.li,{children:"\u767C\u9001\u7AEF\u56DE\u61C9 ACK\uFF0C\u544A\u8A34\u63A5\u6536\u7AEF\u5DF2\u7D93\u6536\u5230 FIN"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u5728\u6700\u5F8C\u4E00\u500B ACK \u767C\u9001\u5F8C\uFF0C\u767C\u9001\u7AEF\u6703\u9032\u5165 TIME_WAIT \u72C0\u614B\uFF0C\u6301\u7E8C\u4E00\u6BB5\u6642\u9593 (\u901A\u5E38\u662F 2 \u500D\u7684 MSL, \u4E00\u500B MSL \u6307\u7684\u662F\u5C01\u5305\u5728\u7DB2\u8DEF\u4E0A\u6700\u5927\u7684\u5B58\u6D3B\u6642\u9593)\uFF0C\u4EE5\u78BA\u4FDD\u6700\u5F8C\u7684 ACK \u80FD\u5920\u88AB\u63A5\u6536\u7AEF\u6536\u5230\uFF0C\u9632\u6B62\u820A\u9023\u63A5\u7684\u5C01\u5305\u5E72\u64FE\u65B0\u9023\u63A5\u3002"}),"\n",(0,r.jsx)(n.h2,{id:"window-size",children:"Window Size"}),"\n",(0,r.jsx)(n.p,{children:"\u70BA\u4E86\u6700\u5927\u6548\u7387\u7684\u5229\u7528\u7DB2\u8DEF\u983B\u5BEC\uFF0CTCP \u4E0D\u53EF\u80FD\u6BCF\u50B3\u9001\u4E00\u500B\u5C01\u5305\u5C31\u7B49\u5F85\u78BA\u8A8D\uFF0C\u800C\u662F\u5141\u8A31\u5728\u7B49\u5F85 ACK \u7684\u540C\u6642\u7E7C\u7E8C\u50B3\u9001\u66F4\u591A\u7684\u5C01\u5305\uFF0C\u9019\u5C31\u662F\u6240\u8B02\u7684\u6ED1\u52D5\u8996\u7A97\u6A5F\u5236\u3002"}),"\n",(0,r.jsx)(n.p,{children:"\u800C\u8981\u600E\u9EBC\u6C7A\u5B9A\u4E00\u6B21\u6700\u591A\u53EF\u4EE5\u50B3\u9001\u5E7E\u500B\u5C01\u5305\u5462? \u9019\u5C31\u8981\u770B\u8996\u7A97\u5927\u5C0F\u800C\u5B9A\uFF0CTCP \u6703\u900F\u904E\u5169\u500B\u6A5F\u5236\u4F86\u63A7\u5236\u8996\u7A97\u5927\u5C0F\uFF0C\u5206\u5225\u662F\u6D41\u91CF\u63A7\u5236 (flow control) \u8DDF\u64C1\u585E\u63A7\u5236 (congestion control)\uFF0C\u4E26\u53D6\u6700\u5C0F\u503C\u4F5C\u70BA\u5BE6\u969B\u7684\u767C\u9001\u8996\u7A97\u5927\u5C0F\u3002"}),"\n",(0,r.jsx)(n.h3,{id:"flow-control",children:"Flow Control"}),"\n",(0,r.jsx)(n.p,{children:"\u5C0D\u65BC\u63A5\u6536\u7AEF\u4F86\u8AAA\uFF0C\u70BA\u4E86\u4FDD\u6301\u8CC7\u6599\u7684\u9806\u5E8F\u6027\uFF0C\u5B83\u9700\u8981\u4E00\u500B\u7DE9\u885D\u5340\u4F86\u66AB\u5B58\u63A5\u6536\u5230\u7684\u8CC7\u6599\uFF0C\u4E26\u6309\u7167\u5E8F\u865F\u9806\u5E8F\u4EA4\u7D66\u61C9\u7528\u7A0B\u5F0F\u3002\n\u7136\u800C\uFF0C\u63A5\u6536\u7AEF\u7684\u7DE9\u885D\u5340\u5927\u5C0F\u662F\u6709\u9650\u7684\uFF0C\u5982\u679C\u767C\u9001\u7AEF\u4E00\u6B21\u50B3\u9001\u904E\u591A\u7684\u8CC7\u6599\uFF0C\u53EF\u80FD\u6703\u5C0E\u81F4\u63A5\u6536\u7AEF\u7684\u7DE9\u885D\u5340\u6EA2\u4F4D\uFF0C\u9032\u800C\u4E1F\u68C4\u5C01\u5305\uFF0C\u9020\u6210\u8CC7\u6599\u907A\u5931\u3002"}),"\n",(0,r.jsx)(n.p,{children:"\u63A5\u6536\u7AEF\u6703\u5728 TCP \u7684 Window Size \u6B04\u4F4D\u544A\u8A34\u767C\u9001\u7AEF\u5B83\u76EE\u524D\u9084\u6709\u591A\u5C11\u7DE9\u885D\u5340\u53EF\u4EE5\u63A5\u6536\u8CC7\u6599\uFF0C\u9019\u500B\u503C\u7A31\u70BA\u63A5\u6536\u8996\u7A97 (rwnd)\u3002"}),"\n",(0,r.jsx)(n.h3,{id:"congestion-control",children:"Congestion Control"}),"\n",(0,r.jsx)(n.p,{children:"Congestion control \u7684\u76EE\u6A19\u662F\u9632\u6B62\u7DB2\u8DEF\u56E0\u70BA\u904E\u591A\u7684\u8CC7\u6599\u800C\u64C1\u585E\uFF0C\u9032\u800C\u5C0E\u81F4\u5C01\u5305\u907A\u5931\u8DDF\u5EF6\u9072\u589E\u52A0\u3002"}),"\n",(0,r.jsx)(n.p,{children:"\u4E00\u500B\u597D\u7684 congestion control \u6A5F\u5236\u6709\u4E09\u500B\u4E3B\u8981\u76EE\u6A19 :"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"\u9632\u6B62\u7DB2\u8DEF\u56E0\u70BA\u904E\u591A\u7684\u8CC7\u6599\u800C\u64C1\u585E"}),"\n",(0,r.jsx)(n.li,{children:"\u5728\u7DB2\u8DEF\u4E0D\u5D29\u6F70\u7684\u60C5\u6CC1\u4E0B\uFF0C\u6700\u5927\u5316\u983B\u5BEC\u5229\u7528\u7387\u8DDF\u541E\u5410\u91CF"}),"\n",(0,r.jsx)(n.li,{children:"\u516C\u5E73\u5730\u5206\u914D\u983B\u5BEC\u7D66\u4E0D\u540C\u7684 TCP \u9023\u63A5"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u5728\u8A2D\u8A08\u4E0A\uFF0Ccongestion control \u6709\u5F88\u591A\u7A2E\u53EF\u884C\u7684\u8A2D\u8A08\u65B9\u5F0F\uFF0C\u4F46\u4E3B\u6D41\u7684\u505A\u6CD5\u90FD\u662F\u7531\u767C\u9001\u65B9\u4F86\u76E3\u63A7\u767C\u9001\u7684\u6548\u7387 (\u4E1F\u5305)\uFF0C\u7121\u9808\u63A5\u6536\u65B9\u6216\u662F\u8DEF\u7531\u5668\u7684\u5E6B\u52A9\u3002"}),"\n",(0,r.jsx)(n.p,{children:"\u5927\u591A\u6578\u7684\u6F14\u7B97\u6CD5\u90FD\u53EF\u4EE5\u5206\u6210\u4E09\u500B\u90E8\u5206 :"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"\u5982\u4F55\u5075\u6E2C\u64C1\u585E"}),"\n",(0,r.jsx)(n.li,{children:"\u521D\u59CB\u7684\u901F\u7387\u61C9\u8A72\u600E\u9EBC\u6C7A\u5B9A"}),"\n",(0,r.jsx)(n.li,{children:"\u9762\u5C0D\u64C1\u585E\u6642\u61C9\u8A72\u5982\u4F55\u8ABF\u6574\u767C\u9001\u901F\u7387"}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"detecting-congestion",children:"Detecting Congestion"}),"\n",(0,r.jsx)(n.p,{children:"\u5075\u6E2C\u64C1\u585E\u7684\u65B9\u5F0F\u4E3B\u8981\u6709\u4E09\u7A2E :"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u4E1F\u5305\u5075\u6E2C: \u767C\u9001\u65B9\u767C\u73FE\u5C01\u5305\u907A\u5931\u6642\u8A8D\u5B9A\u7DB2\u8DEF\u51FA\u73FE\u64C1\u585E\uFF0C\u9019\u662F\u4E3B\u6D41\u7684\u505A\u6CD5"}),"\n",(0,r.jsx)(n.li,{children:"\u5EF6\u9072\u589E\u52A0\u5075\u6E2C: \u767C\u9001\u65B9\u767C\u73FE\u5C01\u5305\u7684 RTT \u589E\u52A0\u6642\u8A8D\u5B9A\u7DB2\u8DEF\u51FA\u73FE\u64C1\u585E\uFF0C\u9019\u662F\u65B0\u8208\u7684\u505A\u6CD5\uFF0C\u5982 Google \u7684 BBR"}),"\n",(0,r.jsx)(n.li,{children:"Explicit Congestion Notification (ECN): \u8DEF\u7531\u5668\u4E3B\u52D5\u6A19\u8A18\u5C01\u5305\uFF0C\u544A\u8A34\u767C\u9001\u65B9\u7DB2\u8DEF\u51FA\u73FE\u64C1\u585E\uFF0C\u8F03\u96E3\u5BE6\u73FE\uFF0C\u56E0\u70BA\u9700\u8981\u8DEF\u7531\u5668\u7684\u652F\u63F4"}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"discovering-initial-rate",children:"Discovering Initial Rate"}),"\n",(0,r.jsx)(n.p,{children:"\u5C0D\u65BC\u525B\u5EFA\u7ACB\u7684\u9023\u63A5\uFF0CTCP \u4E26\u4E0D\u77E5\u9053\u7DB2\u8DEF\u7684\u72C0\u6CC1\uFF0C\u56E0\u6B64 TCP \u63A1\u53D6\u7684\u662F\u6162\u555F\u52D5\u7684\u6A5F\u5236\uFF0C\u5F9E\u4E00\u500B\u8F03\u4F4E\u7684\u901F\u7387\u958B\u59CB\uFF0C\u7136\u5F8C\u9010\u6F38\u589E\u52A0\u767C\u9001\u901F\u7387\uFF0C\u76F4\u5230\u767C\u73FE\u7DB2\u8DEF\u958B\u59CB\u51FA\u73FE\u64C1\u585E\u7684\u8DE1\u8C61\u3002"}),"\n",(0,r.jsx)(n.p,{children:"\u4E00\u958B\u59CB\u7684\u64C1\u585E\u8996\u7A97\u5927\u5C0F\u901A\u5E38\u8A2D\u70BA 1 \u500B MSS\uFF0C\u7136\u5F8C\u6BCF\u6536\u5230\u4E00\u500B ACK \u5C31\u589E\u52A0\u4E00\u500B MSS\uFF0C\u9019\u6A23\u6BCF\u7D93\u904E\u4E00\u500B RTT\uFF0Ccwnd \u5C31\u6703\u7FFB\u500D\u589E\u52A0\uFF0C\u65B9\u4FBF\u5FEB\u901F\u627E\u5230\u7DB2\u8DEF\u7684\u53EF\u7528\u983B\u5BEC\u3002\n\u800C\u7576 cwnd \u589E\u52A0\u5230\u4E00\u500B\u95BE\u503C (ssthresh) \u6642\uFF0CTCP \u6703\u9032\u5165\u64C1\u585E\u907F\u514D\u968E\u6BB5\uFF0C\u6539\u70BA\u6BCF\u7D93\u904E\u4E00\u500B RTT \u624D\u589E\u52A0 1 \u500B MSS\uFF0C\u9019\u6A23\u53EF\u4EE5\u907F\u514D\u904E\u5FEB\u5730\u589E\u52A0\u767C\u9001\u901F\u7387\u800C\u5C0E\u81F4\u64C1\u585E\u3002"}),"\n",(0,r.jsx)(n.h4,{id:"adjusting-sending-rate",children:"Adjusting Sending Rate"}),"\n",(0,r.jsx)(n.p,{children:"\u5728\u9047\u5230\u64C1\u585E\u6642\uFF0CTCP \u6703\u63A1\u53D6\u4E0D\u540C\u7684\u7B56\u7565\u4F86\u8ABF\u6574\u767C\u9001\u901F\u7387 :"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Fast Retransmit and Fast Recovery: \u7576\u767C\u9001\u65B9\u6536\u5230\u4E09\u500B\u91CD\u8907\u7684 ACK \u6642\uFF0C\u5C07 ssthresh \u8A2D\u5B9A\u70BA cwnd \u7684\u4E00\u534A\uFF0C\u4E26\u7ACB\u5373\u91CD\u50B3\u907A\u5931\u7684\u5C01\u5305\uFF0C\u518D\u5C07 cwnd \u6E1B\u534A\uFF0C\u7136\u5F8C\u9032\u5165\u5FEB\u901F\u6062\u5FA9\u968E\u6BB5\uFF0C\u6BCF\u500B RTT \u589E\u52A0 1 \u500B MSS"}),"\n",(0,r.jsx)(n.li,{children:"Timeout Retransmission: \u7576\u767C\u9001\u65B9\u5728\u4E00\u5B9A\u6642\u9593\u5167\u6C92\u6709\u6536\u5230 ACK \u6642\uFF0C\u8A8D\u5B9A\u5C01\u5305\u907A\u5931\uFF0C\u91CD\u50B3\u907A\u5931\u7684\u5C01\u5305\uFF0C\u4E26\u5C07 cwnd \u91CD\u8A2D\u70BA 1 \u500B MSS\uFF0C\u7136\u5F8C\u91CD\u65B0\u9032\u5165\u6162\u555F\u52D5\u968E\u6BB5"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["\u9019\u7A2E\u6162\u901F\u589E\u52A0\u5FEB\u901F\u6E1B\u5C11\u7684\u505A\u6CD5\u88AB\u7A31\u4F5C AIMD (Additive Increase Multiplicative Decrease)\u3002\n\u4F7F\u7528\u9019\u7A2E\u505A\u6CD5\u7684\u539F\u56E0\u5728\u65BC\u9019\u7A2E\u6A21\u5F0F\u624D\u80FD\u4F7F\u5F97\u591A\u500B TCP \u9023\u63A5\u80FD\u5920\u516C\u5E73\u5730\u5206\u4EAB\u983B\u5BEC\uFF0C\u53EF\u4EE5\u53C3\u8003",(0,r.jsx)(n.a,{href:"https://textbook.cs168.io/transport/cc-design.html#adjustments-aimd-dynamics",children:"\u9019\u88E1"}),"\u3002"]}),"\n",(0,r.jsx)(n.h4,{id:"other-algorithms",children:"Other Algorithms"}),"\n",(0,r.jsx)(n.p,{children:"\u4E0A\u8FF0\u6211\u5011\u63D0\u5230\u7684\u6A5F\u5236\u4E3B\u8981\u662F\u57FA\u65BC TCP Reno \u7684\u8A2D\u8A08\uFF0C\u7136\u800C\u96A8\u8457\u7DB2\u8DEF\u6280\u8853\u7684\u9032\u6B65\uFF0CReno \u904E\u65BC\u4FDD\u5B88\u7684\u589E\u9577\u7B56\u7565\u5DF2\u7D93\u7121\u6CD5\u6EFF\u8DB3\u73FE\u4EE3\u7DB2\u8DEF\u7684\u9700\u6C42\uFF0C\u56E0\u6B64\u5F8C\u7E8C\u51FA\u73FE\u4E86\u8A31\u591A\u6539\u9032\u7684\u64C1\u585E\u63A7\u5236\u6F14\u7B97\u6CD5\u3002"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Cubic: \u73FE\u4ECA Linux \u7CFB\u7D71\u7684\u9810\u8A2D\u64C1\u585E\u63A7\u5236\u6F14\u7B97\u6CD5\uFF0C\u4F7F\u7528\u4E09\u6B21\u65B9\u51FD\u6578\u4F86\u8ABF\u6574 cwnd\uFF0C\u907F\u514D Reno \u904E\u65BC\u4FDD\u5B88\u7684\u589E\u9577\u65B9\u5F0F"}),"\n",(0,r.jsx)(n.li,{children:"Google BBR (Bottleneck Bandwidth and Round-trip propagation time): \u57FA\u65BC\u983B\u5BEC\u4F30\u8A08\u7684\u64C1\u585E\u63A7\u5236\u6F14\u7B97\u6CD5\uFF0C\u900F\u904E\u6E2C\u91CF\u983B\u5BEC\u8DDF RTT \u4F86\u8ABF\u6574\u767C\u9001\u901F\u7387"}),"\n"]})]})}function a(e={}){let{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},4429:function(e,n,i){i.d(n,{R:()=>l,x:()=>o});var t=i(6540);let r={},s=t.createContext(r);function l(e){let n=t.useContext(s);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);