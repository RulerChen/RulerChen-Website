"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[5685],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>k});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var o=r.createContext({}),u=function(e){var t=r.useContext(o),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},p=function(e){var t=u(e.components);return r.createElement(o.Provider,{value:t},e.children)},d="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},c=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,o=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),d=u(n),c=a,k=d["".concat(o,".").concat(c)]||d[c]||m[c]||i;return n?r.createElement(k,s(s({ref:t},p),{},{components:n})):r.createElement(k,s({ref:t},p))}));function k(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,s=new Array(i);s[0]=c;var l={};for(var o in t)hasOwnProperty.call(t,o)&&(l[o]=t[o]);l.originalType=e,l[d]="string"==typeof e?e:a,s[1]=l;for(var u=2;u<i;u++)s[u]=n[u];return r.createElement.apply(null,s)}return r.createElement.apply(null,n)}c.displayName="MDXCreateElement"},8183:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>o,contentTitle:()=>s,default:()=>m,frontMatter:()=>i,metadata:()=>l,toc:()=>u});var r=n(7462),a=(n(7294),n(3905));const i={title:"\u4e2d\u4ecb\u8edf\u9ad4",sidebar_position:"12",description:"Middleware",keywords:["Next.js","\u4e2d\u4ecb\u8edf\u9ad4","Middleware"]},s=void 0,l={unversionedId:"Next.js/Routing/Middleware",id:"Next.js/Routing/Middleware",title:"\u4e2d\u4ecb\u8edf\u9ad4",description:"Middleware",source:"@site/docs/Next.js/Routing/Middleware.mdx",sourceDirName:"Next.js/Routing",slug:"/Next.js/Routing/Middleware",permalink:"/RulerChen-Website/docs/Next.js/Routing/Middleware",draft:!1,tags:[],version:"current",sidebarPosition:12,frontMatter:{title:"\u4e2d\u4ecb\u8edf\u9ad4",sidebar_position:12,description:"Middleware",keywords:["Next.js","\u4e2d\u4ecb\u8edf\u9ad4","Middleware"]},sidebar:"tutorialSidebar",previous:{title:"\u8def\u7531\u8655\u7406\u7a0b\u5e8f",permalink:"/RulerChen-Website/docs/Next.js/Routing/Route Handlers"},next:{title:"\u5c08\u6848\u7d44\u7e54\u8207\u6a94\u6848\u653e\u7f6e",permalink:"/RulerChen-Website/docs/Next.js/Routing/Project Organization and File Colocation"}},o={},u=[{value:"\u7fd2\u6163",id:"\u7fd2\u6163",level:2},{value:"\u7bc4\u4f8b",id:"\u7bc4\u4f8b",level:2},{value:"\u5339\u914d\u8def\u5f91",id:"\u5339\u914d\u8def\u5f91",level:2},{value:"\u5339\u914d\u5668",id:"\u5339\u914d\u5668",level:3},{value:"\u689d\u4ef6\u6558\u8ff0",id:"\u689d\u4ef6\u6558\u8ff0",level:3},{value:"NextResponse",id:"nextresponse",level:2},{value:"\u4f7f\u7528 Cookies",id:"\u4f7f\u7528-cookies",level:2},{value:"\u8a2d\u7f6e Headers",id:"\u8a2d\u7f6e-headers",level:2},{value:"\u7522\u751f\u56de\u61c9",id:"\u7522\u751f\u56de\u61c9",level:2},{value:"\u9032\u968e\u4e2d\u9593\u6a19\u8a18",id:"\u9032\u968e\u4e2d\u9593\u6a19\u8a18",level:2}],p={toc:u},d="wrapper";function m(e){let{components:t,...n}=e;return(0,a.kt)(d,(0,r.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h2",{id:"\u7fd2\u6163"},"\u7fd2\u6163"),(0,a.kt)("p",null,"\u5728\u60a8\u7684\u9805\u76ee\u6839\u76ee\u9304\u4e2d\u4f7f\u7528 ",(0,a.kt)("inlineCode",{parentName:"p"},"middleware.ts"),"\u4f86\u5b9a\u7fa9\u4e2d\u4ecb\u8edf\u9ad4\u3002\n\u4f8b\u5982\uff0c\u8207 pages \u6216 app \u76ee\u9304\u4f4d\u65bc\u540c\u4e00\u5c64\uff0c\u6216\u8005\u4f4d\u65bc src \u76ee\u9304\u5167\u3002"),(0,a.kt)("h2",{id:"\u7bc4\u4f8b"},"\u7bc4\u4f8b"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts",metastring:'title="middleware.ts" showLineNumbers',title:'"middleware.ts"',showLineNumbers:!0},'import { NextResponse } from "next/server";\nimport type { NextRequest } from "next/server";\n\n// This function can be marked `async` if using `await` inside\nexport function middleware(request: NextRequest) {\n  return NextResponse.redirect(new URL("/home", request.url));\n}\n\n// See "Matching Paths" below to learn more\nexport const config = {\n  matcher: "/about/:path*",\n};\n')),(0,a.kt)("h2",{id:"\u5339\u914d\u8def\u5f91"},"\u5339\u914d\u8def\u5f91"),(0,a.kt)("p",null,"\u4e2d\u4ecb\u8edf\u9ad4\u5c07\u5c0d\u60a8\u9805\u76ee\u4e2d\u7684\u6bcf\u500b\u8def\u7531\u9032\u884c\u8abf\u7528\u3002\u4e0b\u5217\u662f\u57f7\u884c\u9806\u5e8f\uff1a"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u4f86\u81ea ",(0,a.kt)("inlineCode",{parentName:"li"},"next.config.js")," \u7684\u6a19\u982d\uff08headers\uff09"),(0,a.kt)("li",{parentName:"ul"},"\u4f86\u81ea ",(0,a.kt)("inlineCode",{parentName:"li"},"next.config.js")," \u7684\u91cd\u5b9a\u5411\uff08redirects\uff09"),(0,a.kt)("li",{parentName:"ul"},"\u4e2d\u4ecb\u8edf\u9ad4\uff08\u91cd\u5beb\u3001\u91cd\u5b9a\u5411\u7b49\uff09"),(0,a.kt)("li",{parentName:"ul"},"\u4f86\u81ea ",(0,a.kt)("inlineCode",{parentName:"li"},"next.config.js")," \u7684 ",(0,a.kt)("inlineCode",{parentName:"li"},"beforeFiles"),"\uff08\u91cd\u5beb\uff09"),(0,a.kt)("li",{parentName:"ul"},"\u6a94\u6848\u7cfb\u7d71\u8def\u7531\uff08",(0,a.kt)("inlineCode",{parentName:"li"},"public/"),"\u3001",(0,a.kt)("inlineCode",{parentName:"li"},"\\_next/static/"),"\u3001",(0,a.kt)("inlineCode",{parentName:"li"},"pages/"),"\u3001",(0,a.kt)("inlineCode",{parentName:"li"},"app/")," \u7b49\uff09"),(0,a.kt)("li",{parentName:"ul"},"\u4f86\u81ea ",(0,a.kt)("inlineCode",{parentName:"li"},"next.config.js")," \u7684 afterFiles\uff08\u91cd\u5beb\uff09"),(0,a.kt)("li",{parentName:"ul"},"\u52d5\u614b\u8def\u7531\uff08",(0,a.kt)("inlineCode",{parentName:"li"},"/blog/[slug]"),"\uff09"),(0,a.kt)("li",{parentName:"ul"},"\u4f86\u81ea ",(0,a.kt)("inlineCode",{parentName:"li"},"next.config.js")," \u7684 ",(0,a.kt)("inlineCode",{parentName:"li"},"fallback"),"\uff08\u91cd\u5beb\uff09")),(0,a.kt)("h3",{id:"\u5339\u914d\u5668"},"\u5339\u914d\u5668"),(0,a.kt)("p",null,"\u5339\u914d\u5668\u5141\u8a31\u60a8\u5c07\u4e2d\u4ecb\u8edf\u9ad4\u904e\u6ffe\uff0c\u50c5\u904b\u884c\u5728\u7279\u5b9a\u7684\u8def\u5f91\u4e0a\u3002"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts",metastring:'title="middleware.ts" showLineNumber',title:'"middleware.ts"',showLineNumber:!0},'export const config = {\n  matcher: ["/about/:path*", "/dashboard/:path*"],\n};\n')),(0,a.kt)("p",null,"\u4e5f\u53ef\u4ee5\u4f7f\u7528\u6b63\u5247\u8868\u9054\u5f0f\u3002"),(0,a.kt)("p",null,"\u914d\u7f6e\u5339\u914d\u5668"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u5fc5\u9808\u4ee5\u659c\u7dda\u958b\u982d"),(0,a.kt)("li",{parentName:"ul"},"\u53ef\u4ee5\u5305\u542b\u547d\u540d\u53c3\u6578\uff1a",(0,a.kt)("inlineCode",{parentName:"li"},"/about/:path")," \u5339\u914d ",(0,a.kt)("inlineCode",{parentName:"li"},"/about/a")," \u548c ",(0,a.kt)("inlineCode",{parentName:"li"},"/about/b"),"\uff0c\u4f46\u4e0d\u5339\u914d ",(0,a.kt)("inlineCode",{parentName:"li"},"/about/a/c")),(0,a.kt)("li",{parentName:"ul"},"\u547d\u540d\u53c3\u6578\u53ef\u4ee5\u6709\u4fee\u98fe\u7b26\uff08\u4ee5 : \u958b\u982d\uff09",(0,a.kt)("inlineCode",{parentName:"li"},"\uff1a/about/:path*")," \u5339\u914d ",(0,a.kt)("inlineCode",{parentName:"li"},"/about/a/b/c"),"\uff0c\u56e0\u70ba ","*"," \u8868\u793a\u96f6\u500b\u6216\u591a\u500b\u3002? \u8868\u793a\u96f6\u500b\u6216\u4e00\u500b\uff0c+ \u8868\u793a\u4e00\u500b\u6216\u591a\u500b"),(0,a.kt)("li",{parentName:"ul"},"\u53ef\u4ee5\u4f7f\u7528\u62ec\u865f\u62ec\u8d77\u4f86\u7684\u6b63\u5247\u8868\u9054\u5f0f\uff1a",(0,a.kt)("inlineCode",{parentName:"li"},"/about/(.)")," \u8207 ",(0,a.kt)("inlineCode",{parentName:"li"},"/about/:path")," \u76f8\u540c")),(0,a.kt)("h3",{id:"\u689d\u4ef6\u6558\u8ff0"},"\u689d\u4ef6\u6558\u8ff0"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts",metastring:'title="middleware.ts" showLineNumber',title:'"middleware.ts"',showLineNumber:!0},'import { NextResponse } from "next/server";\nimport type { NextRequest } from "next/server";\n\nexport function middleware(request: NextRequest) {\n  if (request.nextUrl.pathname.startsWith("/about")) {\n    return NextResponse.rewrite(new URL("/about-2", request.url));\n  }\n\n  if (request.nextUrl.pathname.startsWith("/dashboard")) {\n    return NextResponse.rewrite(new URL("/dashboard/user", request.url));\n  }\n}\n')),(0,a.kt)("h2",{id:"nextresponse"},"NextResponse"),(0,a.kt)("p",null,"NextResponse API \u53ef\u4ee5\u8b93\u4f60\uff1a"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u5c07\u8acb\u6c42\u91cd\u5b9a\u5411\u5230\u4e0d\u540c\u7684 URL"),(0,a.kt)("li",{parentName:"ul"},"\u901a\u904e\u986f\u793a\u7279\u5b9a URL \u4f86\u91cd\u65b0\u7de8\u5beb\u97ff\u61c9"),(0,a.kt)("li",{parentName:"ul"},"\u70ba API Routes\u3001getServerSideProps \u548c\u91cd\u5beb\u76ee\u6a19\u8a2d\u7f6e\u8acb\u6c42\u6a19\u982d"),(0,a.kt)("li",{parentName:"ul"},"\u8a2d\u7f6e\u97ff\u61c9\u7684 cookies"),(0,a.kt)("li",{parentName:"ul"},"\u8a2d\u7f6e\u97ff\u61c9\u6a19\u982d")),(0,a.kt)("p",null,"\u8981\u5f9e Middleware \u751f\u6210\u97ff\u61c9\uff0c\u60a8\u53ef\u4ee5\uff1a"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u91cd\u5beb\u5230\u751f\u6210\u97ff\u61c9\u7684\u8def\u7531\uff08Page \u6216 Route Handler\uff09"),(0,a.kt)("li",{parentName:"ul"},"\u76f4\u63a5\u8fd4\u56de\u4e00\u500b NextResponse\u3002")),(0,a.kt)("h2",{id:"\u4f7f\u7528-cookies"},"\u4f7f\u7528 Cookies"),(0,a.kt)("p",null,"Cookies \u662f\u4e00\u7a2e\u5e38\u898f\u7684\u6a19\u982d\u3002\n\u5728\u8acb\u6c42\u4e2d\uff0c\u5b83\u5011\u5b58\u5132\u5728 Cookie \u6a19\u982d\u4e2d\u3002\n\u5728\u97ff\u61c9\u4e2d\uff0c\u5b83\u5011\u5b58\u5132\u5728 Set-Cookie \u6a19\u982d\u4e2d\u3002\nNext.js \u901a\u904e NextRequest \u548c NextResponse \u4e0a\u7684 cookies \u64f4\u5c55\u63d0\u4f9b\u4e86\u4e00\u7a2e\u65b9\u4fbf\u7684\u65b9\u5f0f\u4f86\u8a2a\u554f\u548c\u64cd\u4f5c\u9019\u4e9b cookies\u3002"),(0,a.kt)("p",null,"\u5c0d\u65bc\u50b3\u5165\u7684\u8acb\u6c42\uff0ccookies \u63d0\u4f9b\u4ee5\u4e0b\u65b9\u6cd5\uff1aget\u3001getAll\u3001set \u548c delete cookies\u3002\n\u60a8\u53ef\u4ee5\u4f7f\u7528 has \u65b9\u6cd5\u6aa2\u67e5 cookie \u662f\u5426\u5b58\u5728\uff0c\u4f7f\u7528 clear \u65b9\u6cd5\u522a\u9664\u6240\u6709 cookie\u3002\n\u5c0d\u65bc\u50b3\u51fa\u7684\u97ff\u61c9\uff0ccookies \u63d0\u4f9b\u4ee5\u4e0b\u65b9\u6cd5\uff1aget\u3001getAll\u3001set \u548c delete\u3002"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts",metastring:'title="middleware.ts" showLineNumber',title:'"middleware.ts"',showLineNumber:!0},'import { NextResponse } from "next/server";\nimport type { NextRequest } from "next/server";\n\nexport function middleware(request: NextRequest) {\n  // Assume a "Cookie:nextjs=fast" header to be present on the incoming request\n  // Getting cookies from the request using the `RequestCookies` API\n  let cookie = request.cookies.get("nextjs");\n  console.log(cookie); // => { name: \'nextjs\', value: \'fast\', Path: \'/\' }\n  const allCookies = request.cookies.getAll();\n  console.log(allCookies); // => [{ name: \'nextjs\', value: \'fast\' }]\n\n  request.cookies.has("nextjs"); // => true\n  request.cookies.delete("nextjs");\n  request.cookies.has("nextjs"); // => false\n\n  // Setting cookies on the response using the `ResponseCookies` API\n  const response = NextResponse.next();\n  response.cookies.set("vercel", "fast");\n  response.cookies.set({\n    name: "vercel",\n    value: "fast",\n    path: "/",\n  });\n  cookie = response.cookies.get("vercel");\n  console.log(cookie); // => { name: \'vercel\', value: \'fast\', Path: \'/\' }\n  // The outgoing response will have a `Set-Cookie:vercel=fast;path=/test` header.\n\n  return response;\n}\n')),(0,a.kt)("h2",{id:"\u8a2d\u7f6e-headers"},"\u8a2d\u7f6e Headers"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts",metastring:'title="middleware.ts" showLineNumber',title:'"middleware.ts"',showLineNumber:!0},'import { NextResponse } from "next/server";\nimport type { NextRequest } from "next/server";\n\nexport function middleware(request: NextRequest) {\n  // Clone the request headers and set a new header `x-hello-from-middleware1`\n  const requestHeaders = new Headers(request.headers);\n  requestHeaders.set("x-hello-from-middleware1", "hello");\n\n  // You can also set request headers in NextResponse.rewrite\n  const response = NextResponse.next({\n    request: {\n      // New request headers\n      headers: requestHeaders,\n    },\n  });\n\n  // Set a new response header `x-hello-from-middleware2`\n  response.headers.set("x-hello-from-middleware2", "hello");\n  return response;\n}\n')),(0,a.kt)("h2",{id:"\u7522\u751f\u56de\u61c9"},"\u7522\u751f\u56de\u61c9"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts",metastring:'title="middleware.ts" showLineNumber',title:'"middleware.ts"',showLineNumber:!0},'import { NextRequest, NextResponse } from "next/server";\nimport { isAuthenticated } from "@lib/auth";\n\n// Limit the middleware to paths starting with `/api/`\nexport const config = {\n  matcher: "/api/:function*",\n};\n\nexport function middleware(request: NextRequest) {\n  // Call our authentication function to check the request\n  if (!isAuthenticated(request)) {\n    // Respond with JSON indicating an error message\n    return new NextResponse(JSON.stringify({ success: false, message: "authentication failed" }), {\n      status: 401,\n      headers: { "content-type": "application/json" },\n    });\n  }\n}\n')),(0,a.kt)("h2",{id:"\u9032\u968e\u4e2d\u9593\u6a19\u8a18"},"\u9032\u968e\u4e2d\u9593\u6a19\u8a18"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"v13.1")," \u4e2d\uff0c\u5f15\u5165\u4e86\u5169\u500b\u7528\u65bc\u4e2d\u9593\u4ef6\u7684\u984d\u5916\u6a19\u8a8c\uff0c\u5373 ",(0,a.kt)("inlineCode",{parentName:"p"},"skipMiddlewareUrlNormalize")," \u548c ",(0,a.kt)("inlineCode",{parentName:"p"},"skipTrailingSlashRedirect"),"\u3002"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"skipTrailingSlashRedirect")," \u5141\u8a31\u7981\u7528 Next.js \u7684\u9ed8\u8a8d\u91cd\u5b9a\u5411\u529f\u80fd\uff0c\u4ee5\u6dfb\u52a0\u6216\u522a\u9664\u5c3e\u90e8\u659c\u7dda\uff0c\u5f9e\u800c\u5141\u8a31\u5728\u4e2d\u9593\u4ef6\u4e2d\u9032\u884c\u81ea\u5b9a\u7fa9\u8655\u7406\u3002\n\u9019\u6a23\u53ef\u4ee5\u5728\u67d0\u4e9b\u8def\u5f91\u4e0a\u4fdd\u7559\u5c3e\u90e8\u659c\u7dda\uff0c\u4f46\u5728\u5176\u4ed6\u8def\u5f91\u4e0a\u4e0d\u4fdd\u7559\uff0c\u5f9e\u800c\u66f4\u5bb9\u6613\u9032\u884c\u589e\u91cf\u9077\u79fb\u3002"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="next.config.js" showLineNumber',title:'"next.config.js"',showLineNumber:!0},"module.exports = {\n  skipTrailingSlashRedirect: true,\n};\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts",metastring:'title="middleware.ts" showLineNumber',title:'"middleware.ts"',showLineNumber:!0},'const legacyPrefixes = ["/docs", "/blog"];\n\nexport default async function middleware(req) {\n  const { pathname } = req.nextUrl;\n\n  if (legacyPrefixes.some((prefix) => pathname.startsWith(prefix))) {\n    return NextResponse.next();\n  }\n\n  // apply trailing slash handling\n  if (!pathname.endsWith("/") && !pathname.match(/((?!\\.well-known(?:\\/.*)?)(?:[^/]+\\/)*[^/]+\\.\\w+)/)) {\n    req.nextUrl.pathname += "/";\n    return NextResponse.redirect(req.nextUrl);\n  }\n}\n')),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"skipMiddlewareUrlNormalize")," \u5141\u8a31\u7981\u7528 Next.js \u7684 URL \u6b63\u898f\u5316\u529f\u80fd\uff0c\u4ee5\u4fbf\u8655\u7406\u76f4\u63a5\u8a2a\u554f\u548c\u5ba2\u6236\u7aef\u8f49\u63db\u7684\u60c5\u6cc1\u3002\n\u5728\u67d0\u4e9b\u60c5\u6cc1\u4e0b\uff0c\u60a8\u9700\u8981\u5c0d\u4f7f\u7528\u539f\u59cb URL \u9032\u884c\u5b8c\u5168\u63a7\u5236\uff0c\u9019\u500b\u6a19\u8a8c\u53ef\u4ee5\u5be6\u73fe\u9019\u4e00\u9ede\u3002"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="next.config.js" showLineNumber',title:'"next.config.js"',showLineNumber:!0},"module.exports = {\n  skipMiddlewareUrlNormalize: true,\n};\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts",metastring:'title="middleware.ts" showLineNumber',title:'"middleware.ts"',showLineNumber:!0},"export default async function middleware(req) {\n  const { pathname } = req.nextUrl;\n\n  // GET /_next/data/build-id/hello.json\n\n  console.log(pathname);\n  // with the flag this now /_next/data/build-id/hello.json\n  // without the flag this would be normalized to /hello\n}\n")))}m.isMDXComponent=!0}}]);