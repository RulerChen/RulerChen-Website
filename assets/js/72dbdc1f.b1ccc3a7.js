"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[372],{45179:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>s,contentTitle:()=>c,default:()=>k,frontMatter:()=>i,metadata:()=>d,toc:()=>l});var o=n(85893),t=n(11151);const i={title:"[Docker] Network",sidebar_position:"50",description:"Docker Network",keywords:["Docker Network"]},c=void 0,d={id:"Docker/Network",title:"[Docker] Network",description:"Docker Network",source:"@site/docs/Docker/Network.mdx",sourceDirName:"Docker",slug:"/Docker/Network",permalink:"/RulerChen-Website/docs/Docker/Network",draft:!1,unlisted:!1,editUrl:"https://github.com/RulerChen/RulerChen-Website/tree/main/docs/Docker/Network.mdx",tags:[],version:"current",lastUpdatedAt:1721385476e3,sidebarPosition:50,frontMatter:{title:"[Docker] Network",sidebar_position:50,description:"Docker Network",keywords:["Docker Network"]},sidebar:"tutorialSidebar",previous:{title:"[Docker] Volumes",permalink:"/RulerChen-Website/docs/Docker/Volumn"},next:{title:"[Docker] Compose",permalink:"/RulerChen-Website/docs/Docker/Compose"}},s={},l=[{value:"\u751a\u9ebc\u662f Docker Network",id:"\u751a\u9ebc\u662f-docker-network",level:2},{value:"Docker Network Type",id:"docker-network-type",level:2},{value:"Bridge Network",id:"bridge-network",level:2},{value:"\u5275\u5efa\u81ea\u5df1\u7684 Network",id:"\u5275\u5efa\u81ea\u5df1\u7684-network",level:2},{value:"Docker Port Forwarding",id:"docker-port-forwarding",level:2}];function a(e){const r={admonition:"admonition",code:"code",h2:"h2",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.a)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(r.h2,{id:"\u751a\u9ebc\u662f-docker-network",children:"\u751a\u9ebc\u662f Docker Network"}),"\n",(0,o.jsx)(r.p,{children:"\u5728\u4e00\u500b Web Service \u4e2d\uff0c\u6211\u5011\u53ef\u80fd\u6703\u6709\u5f88\u591a\u500b Container \uff0c\u5305\u62ec Web Server\u3001Application Server \u6216 Database \u7b49\u7b49\uff0c\n\u6211\u5011\u9700\u8981\u900f\u904e Docker Network \u4f86\u8b93\u9019\u4e9b Container \u4e4b\u9593\u53ef\u4ee5\u4e92\u76f8\u6e9d\u901a\u3002"}),"\n",(0,o.jsx)(r.h2,{id:"docker-network-type",children:"Docker Network Type"}),"\n",(0,o.jsx)(r.p,{children:"Docker Network \u6709\u516d\u7a2e\u985e\u578b\uff0c\u5206\u5225\u662f\uff1a"}),"\n",(0,o.jsxs)(r.ul,{children:["\n",(0,o.jsx)(r.li,{children:"bridge: \u9810\u8a2d\u7684\u7db2\u8def\uff0c\u7528\u4f86\u8b93 Container \u4e4b\u9593\u53ef\u4ee5\u4e92\u76f8\u6e9d\u901a\u3002"}),"\n",(0,o.jsx)(r.li,{children:"host: Container \u8207\u4e3b\u6a5f\u5171\u4eab\u540c\u4e00\u500b\u7db2\u8def\uff0c\u9019\u6a23\u5c31\u4e0d\u9700\u8981\u7d93\u904e Port Forwarding \u548c NAT\u3002"}),"\n",(0,o.jsx)(r.li,{children:"none: Container \u4e0d\u6703\u9023\u63a5\u5230\u4efb\u4f55\u7db2\u8def\uff0c\u53ea\u6709 loopback \u4ecb\u9762\uff0c\u9019\u6a23\u5c31\u4e0d\u6703\u6709\u7db2\u8def\u9023\u7dda\u3002"}),"\n",(0,o.jsx)(r.li,{children:"overlay: \u7528\u4f86\u8b93\u591a\u500b Docker Daemon \u4e4b\u9593\u53ef\u4ee5\u4e92\u76f8\u6e9d\u901a\uff0cDocker Swarm \u6703\u4f7f\u7528\u5230\u9019\u500b\u7db2\u8def\u3002"}),"\n",(0,o.jsx)(r.li,{children:"macvlan: \u53ef\u4ee5\u6307\u5b9a Container \u4e00\u500b MAC Address\u3002"}),"\n",(0,o.jsx)(r.li,{children:"ipvlan: \u53ef\u4ee5\u6307\u5b9a Container \u4e00\u500b IPv4 \u6216 IPv6 Address\u3002"}),"\n"]}),"\n",(0,o.jsx)(r.h2,{id:"bridge-network",children:"Bridge Network"}),"\n",(0,o.jsx)(r.p,{children:"Docker \u9810\u8a2d\u6703\u5efa\u7acb\u4e00\u500b Bridge Network\uff0c\u7576\u6211\u5011\u5efa\u7acb\u4e00\u500b Container \u6642\uff0cDocker \u6703\u81ea\u52d5\u5c07 Container \u52a0\u5165 Bridge Network \u4e2d\uff0c\n\u9019\u6a23\u5c31\u53ef\u4ee5\u8b93 Container \u4e4b\u9593\u53ef\u4ee5\u4e92\u76f8\u6e9d\u901a\u3002"}),"\n",(0,o.jsxs)(r.p,{children:["\u6211\u5011\u53ef\u4ee5\u900f\u904e ",(0,o.jsx)(r.code,{children:"docker network inspect bridge"})," \u4f86\u67e5\u770b Bridge Network \u7684\u8cc7\u8a0a\u3002"]}),"\n",(0,o.jsx)(r.p,{children:(0,o.jsx)(r.img,{alt:"docker-network-bridge",src:n(21646).Z+"",width:"1060",height:"662"})}),"\n",(0,o.jsx)(r.p,{children:"\u5982\u5716\u6240\u793a\uff0c\u6211\u5011\u6bcf\u500b Container \u90fd\u6709\u4e00\u500b eht0\uff0c\u7528\u4f86\u8868\u793a Container \u9ed8\u8a8d\u7684\u7db2\u8def\u63a5\u53e3\uff0c\n\u800c docker0 \u5c31\u662f Bridge Network \u7684\u7db2\u8def\u63a5\u53e3\uff0c\u4ed6\u6703\u958b veth \u7684\u63a5\u53e3\u4f86\u9023\u63a5\u5230\u6bcf\u500b Container \u7684 eth0\u3002"}),"\n",(0,o.jsx)(r.p,{children:"\u5982\u679c\u6211\u5011\u8981\u5728\u5bb9\u5668\u5167\u9023\u901a\u5916\u90e8\u7db2\u8def\uff0c\u518d\u7d93\u904e Bridge Network \u7684\u6642\u5019\uff0c\u6703\u900f\u904e NAT \u4f86\u8f49\u63db IP\uff0c\u4f7f\u5176\u53ef\u4ee5\u9023\u901a\u5916\u90e8\u7db2\u8def\u3002"}),"\n",(0,o.jsx)(r.h2,{id:"\u5275\u5efa\u81ea\u5df1\u7684-network",children:"\u5275\u5efa\u81ea\u5df1\u7684 Network"}),"\n",(0,o.jsxs)(r.p,{children:["\u6211\u5011\u53ef\u4ee5\u900f\u904e ",(0,o.jsx)(r.code,{children:"docker network create"})," \u4f86\u5275\u5efa\u81ea\u5df1\u7684 Network\uff0c\u540c\u6642\u4e5f\u53ef\u4ee5\u6307\u5b9a Network \u7684\u985e\u578b\u3002"]}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-bash",children:"docker network create -d bridge my-bridge-network\n"})}),"\n",(0,o.jsxs)(r.p,{children:["\u5728\u5275\u5efa\u5bb9\u5668\u6642\uff0c\u6211\u5011\u53ef\u4ee5\u900f\u904e ",(0,o.jsx)(r.code,{children:"--network"})," \u4f86\u6307\u5b9a\u5bb9\u5668\u8981\u52a0\u5165\u7684 Network\u3002"]}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-bash",children:"docker container run -d --name my-nginx --network my-bridge-network nginx\n"})}),"\n",(0,o.jsx)(r.p,{children:"\u4e5f\u53ef\u4ee5\u5c07\u73fe\u6709\u7684\u5bb9\u5668\u52a0\u5165\u5230 Network \u4e2d\u3002"}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-bash",children:"docker network connect my-bridge-network my-nginx\n"})}),"\n",(0,o.jsx)(r.p,{children:"\u4e5f\u53ef\u4ee5\u5c07 Container \u5f9e Network \u4e2d\u79fb\u9664\u3002"}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-bash",children:"docker network disconnect my-bridge-network my-nginx\n"})}),"\n",(0,o.jsx)(r.admonition,{type:"info",children:(0,o.jsx)(r.p,{children:"\u6709\u4e00\u9ede\u8981\u7279\u5225\u6ce8\u610f\u7684\u662f\uff0c\u9810\u8a2d\u7684 bridge network \u662f\u4e0d\u652f\u63f4\u5bb9\u5668\u4e4b\u9593\u7684 DNS \u67e5\u8a62\u7684\uff0c\u4e5f\u5c31\u662f\u5b83\u7121\u6cd5\u900f\u904e\u5bb9\u5668\u540d\u7a31\u4f86\u67e5\u8a62 IP\u3002"})}),"\n",(0,o.jsxs)(r.p,{children:["\u8209\u4f8b\u4f86\u8aaa\uff0c\u5982\u679c\u6211\u5011\u6709\u5169\u500b\u5bb9\u5668 box1 \u548c box2\uff0c\n\u6211\u5011\u4f7f\u7528 ",(0,o.jsx)(r.code,{children:"docker container exec -it box1 ping box2"})," \u4f86 ping box2\uff0c\u6703\u767c\u73fe ping \u4e0d\u5230\u3002\n\u5728\u6709\u591a\u500b\u5bb9\u5668\u7684\u57f7\u884c\u74b0\u5883\u88e1\u9762\uff0c\u6211\u5011\u53ef\u80fd\u6703\u56e0\u70ba\u5bb9\u5668\u7684\u5275\u5efa\u9806\u5e8f\u5c0e\u81f4 IP \u4e0d\u4e00\u6a23\uff0c\u9019\u6a23\u5c31\u6703\u9020\u6210\u5bb9\u5668\u4e4b\u9593\u7121\u6cd5\u6e9d\u901a\u3002"]}),"\n",(0,o.jsx)(r.h2,{id:"docker-port-forwarding",children:"Docker Port Forwarding"}),"\n",(0,o.jsx)(r.p,{children:"\u5728 Docker \u4e2d\uff0c\u5982\u679c\u6211\u5011\u8981\u8b93\u5916\u90e8\u7684\u7db2\u8def\u53ef\u4ee5\u9023\u9032\u5bb9\u5668\uff0c\u6211\u5011\u53ef\u4ee5\u900f\u904e Port Forwarding \u4f86\u9054\u6210\u3002"}),"\n",(0,o.jsx)(r.p,{children:"\u5728\u9019\u5f35\u5716\u4e2d\uff0chost2 \u5982\u679c\u60f3\u62ff\u5230 host1 \u7684 nginx \u7db2\u9801\uff0c\u5c31\u53ef\u4ee5\u900f\u904e host1 \u7684\u8f49\u767c\u4f86\u9054\u6210\u3002"}),"\n",(0,o.jsx)(r.p,{children:(0,o.jsx)(r.img,{alt:"docker-port-forwarding",src:n(53793).Z+"",width:"820",height:"366"})}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-bash",children:"docker container run -d --name host1 -p 8080:80 nginx\n"})}),"\n",(0,o.jsx)(r.p,{children:"\u900f\u904e\u4e0a\u9762\u9019\u884c\u6307\u4ee4\uff0c\u6211\u5011\u5c31\u53ef\u4ee5\u628a nginx \u7684 80 port \u8f49\u767c\u5230 host1 \u7684 8080 port\u3002"})]})}function k(e={}){const{wrapper:r}={...(0,t.a)(),...e.components};return r?(0,o.jsx)(r,{...e,children:(0,o.jsx)(a,{...e})}):a(e)}},21646:(e,r,n)=>{n.d(r,{Z:()=>o});const o=n.p+"assets/images/5-2ee3e67d8fb750bd5308de91e0ce5d42.webp"},53793:(e,r,n)=>{n.d(r,{Z:()=>o});const o=n.p+"assets/images/6-1371bcd25e66686b7df8ee6201890f6d.png"},11151:(e,r,n)=>{n.d(r,{Z:()=>d,a:()=>c});var o=n(67294);const t={},i=o.createContext(t);function c(e){const r=o.useContext(i);return o.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function d(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:c(e.components),o.createElement(i.Provider,{value:r},e.children)}}}]);