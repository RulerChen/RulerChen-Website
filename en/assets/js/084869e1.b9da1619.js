"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([["7861"],{3694:function(s,e,n){n.r(e),n.d(e,{frontMatter:()=>t,default:()=>d,toc:()=>h,metadata:()=>a,assets:()=>r,contentTitle:()=>c});var a=JSON.parse('{"id":"CMU15-445/p0","title":"P0 - C++ Primer","description":"C++ Primer","source":"@site/docs/CMU15-445/p0.mdx","sourceDirName":"CMU15-445","slug":"/CMU15-445/p0","permalink":"/RulerChen-Website/en/docs/CMU15-445/p0","draft":false,"unlisted":false,"editUrl":"https://github.com/RulerChen/RulerChen-Website/tree/main/docs/CMU15-445/p0.mdx","tags":[{"inline":true,"label":"CMU15-445","permalink":"/RulerChen-Website/en/docs/tags/cmu-15-445"},{"inline":true,"label":"CMU15-445 Projects","permalink":"/RulerChen-Website/en/docs/tags/cmu-15-445-projects"}],"version":"current","lastUpdatedAt":1758026380000,"sidebarPosition":100,"frontMatter":{"title":"P0 - C++ Primer","sidebar_position":100,"description":"C++ Primer","keywords":["CMU15-445/645","C++ Primer","CMU15-445/645 \u7B46\u8A18"],"tags":["CMU15-445","CMU15-445 Projects"]},"sidebar":"tutorialSidebar","previous":{"title":"Distributed OLAP Database Systems","permalink":"/RulerChen-Website/en/docs/CMU15-445/c24"},"next":{"title":"P1 - Buffer Pool Manager","permalink":"/RulerChen-Website/en/docs/CMU15-445/p1"}}'),l=n(5893),i=n(65);let t={title:"P0 - C++ Primer",sidebar_position:"100",description:"C++ Primer",keywords:["CMU15-445/645","C++ Primer","CMU15-445/645 \u7B46\u8A18"],tags:["CMU15-445","CMU15-445 Projects"]},c=void 0,r={},h=[{value:"Learning Resource",id:"learning-resource",level:2},{value:"Environment Setup",id:"environment-setup",level:2},{value:"Background",id:"background",level:2},{value:"Min Hash",id:"min-hash",level:3},{value:"Probabilistic Counting",id:"probabilistic-counting",level:3},{value:"Multiple Hash Functions",id:"multiple-hash-functions",level:3},{value:"LogLog",id:"loglog",level:3},{value:"SuperLogLog &amp; HyperLogLog",id:"superloglog--hyperloglog",level:3},{value:"Task 1 - Hyperloglog",id:"task-1---hyperloglog",level:2},{value:"Task 2 - Presto Hyperloglog",id:"task-2---presto-hyperloglog",level:2},{value:"Common Mistakes",id:"common-mistakes",level:2},{value:"Submit",id:"submit",level:2},{value:"Takeaways",id:"takeaways",level:2},{value:"References",id:"references",level:2}];function m(s){let e={a:"a",annotation:"annotation",code:"code",h2:"h2",h3:"h3",li:"li",math:"math",mfrac:"mfrac",mi:"mi",mn:"mn",mo:"mo",mrow:"mrow",msqrt:"msqrt",msub:"msub",msup:"msup",munderover:"munderover",ol:"ol",p:"p",path:"path",pre:"pre",semantics:"semantics",span:"span",svg:"svg",ul:"ul",...(0,i.a)(),...s.components},{Head:n,ImageModal:a}=e;return n||x("Head",!0),a||x("ImageModal",!0),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n,{children:(0,l.jsx)("title",{children:"CMU 15-445 2024Fall P0 C++ Primer"})}),"\n",(0,l.jsx)(e.p,{children:"\u5728\u9019\u500B project \u4E2D\uFF0C\u6211\u5011\u9700\u8981\u5BE6\u73FE\u4E00\u7A2E\u5E38\u898B\u7684\u8CC7\u6599\u7D50\u69CB\u4EE5\u53CA\u5B83\u7684\u8B8A\u9AD4 :"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"HyperLogLog"}),"\n",(0,l.jsx)(e.li,{children:"Presto HyperLogLog"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:"\u9019\u500B\u4F5C\u696D\u4E3B\u8981\u662F\u5E6B\u52A9\u5927\u5BB6\u719F\u6089 C++\uFF0C\u5C0D\u65BC\u5DF2\u7D93\u719F\u6089\u7684\u4EBA\u4F86\u8AAA\uFF0C\u6211\u8A8D\u70BA\u53EF\u4EE5\u76F4\u63A5\u8DF3\u904E\u9019\u500B\u4F5C\u696D\uFF0C\u56E0\u70BA\u9019\u500B\u4F5C\u696D\u4E0D\u6703\u5F71\u97FF\u5F8C\u7E8C\u7684\u4F5C\u696D\u5167\u5BB9\u3002"}),"\n",(0,l.jsx)(e.h2,{id:"learning-resource",children:"Learning Resource"}),"\n",(0,l.jsx)(e.p,{children:"\u4E0B\u9762\u5217\u51FA\u4E00\u4E9B\u6211\u89BA\u5F97\u4E0D\u932F\u7684\u8CC7\u6E90\uFF0C\u53EF\u4EE5\u5E6B\u52A9\u66F4\u5FEB\u4E0A\u624B C++ \u548C\u76F8\u95DC\u5DE5\u5177 :"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://github.com/cmu-db/15445-bootcamp",children:"15-445 C++ Bootcamp"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://www.youtube.com/watch?v=G9gnSGKYIg4",children:"Debug a C++ project in VS Code"})}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.a,{href:"https://seisman.github.io/how-to-write-makefile/overview.html",children:"Makefile"})," (Optional)"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.a,{href:"https://www.bilibili.com/video/BV14h41187FZ/?vd_source=0b8d45cc2260b9a7a9d948d819ac16f3",children:"CMake"})," (Optional)"]}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"environment-setup",children:"Environment Setup"}),"\n",(0,l.jsx)(e.p,{children:"\u9019\u500B\u4F5C\u696D\u6700\u91CD\u8981\u7684\u662F\u8981\u80FD\u5920\u9806\u5229\u7DE8\u8B6F\u548C\u57F7\u884C C++ \u7684\u7A0B\u5F0F\u78BC\uFF0C\u4E26\u4E14\u80FD\u5920\u4F7F\u7528 debugger \u4F86\u9664\u932F\u3002"}),"\n",(0,l.jsx)(e.p,{children:"\u6211\u7684\u74B0\u5883\u8A2D\u5B9A\u5982\u4E0B :"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsx)(e.li,{children:"\u74B0\u5883\u662F WSL2 (Ubuntu 24.04) \u548C VSCode"}),"\n",(0,l.jsxs)(e.li,{children:["\u5B89\u88DD VSCode \u5957\u4EF6 ",(0,l.jsx)(e.code,{children:"C/C++ Extension Pack"}),"\u3001",(0,l.jsx)(e.code,{children:"clangd"}),"\u3001",(0,l.jsx)(e.code,{children:"CMake Tools"}),"\u3001",(0,l.jsx)(e.code,{children:"Clang-Format"})]}),"\n",(0,l.jsxs)(e.li,{children:["\u5C07 bustub clone \u4E0B\u4F86\uFF0C\u4E26\u4E14\u56DE\u9000\u5230 2024 Fall \u7684 commit\uFF0C\u6216\u662F\u76F4\u63A5\u5F9E ",(0,l.jsx)(e.a,{href:"https://github.com/cmu-db/bustub/releases/tag/v20241207-2024fall",children:"release"})," \u4E0B\u8F09 zip \u6A94\u89E3\u58D3\u7E2E"]}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"git clone https://github.com/cmu-db/bustub.git\ncd bustub\ngit checkout f97256b88b20468c01023928b63f5693d697674c\n"})}),"\n",(0,l.jsxs)(e.ol,{start:"4",children:["\n",(0,l.jsxs)(e.li,{children:["\u628A ",(0,l.jsx)(e.code,{children:".git"})," \u79FB\u9664\u4E26\u63A5\u4E0A\u81EA\u5DF1\u7684 git repo (\u9019\u5802\u8AB2\u6709\u8981\u6C42\u4E0D\u80FD\u516C\u958B\u89E3\u7B54\uFF0C\u4E0D\u7136\u6709\u6A5F\u6703\u88AB\u5BEB\u5728 WALL OF SHAME \u88E1\u9762)"]}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:'rm -rf .git\n\ngit init\ngit add .\ngit commit -m "init"\ngit remote add origin <your-git-repo>\ngit push -u origin main\n'})}),"\n",(0,l.jsxs)(e.ol,{start:"5",children:["\n",(0,l.jsxs)(e.li,{children:["\u7531\u65BC\u6211\u4F7F\u7528\u7684\u662F Ubuntu 24.04\uFF0C\u6240\u4EE5\u9700\u8981\u4FEE\u6539\u4E00\u4E0B ",(0,l.jsx)(e.code,{children:"packages.sh"})," \u7684\u5167\u5BB9\uFF0C\u4E26\u9806\u4FBF\u5B89\u88DD ",(0,l.jsx)(e.code,{children:"clangd"})," \u7684\u5957\u4EF6"]}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",metastring:'title="build_support/packages.sh" showLineNumbers {10,33-34}',children:'install_linux() {\n  # Update apt-get.\n  apt-get -y update\n  # Install packages.\n  apt-get -y install \\\n      build-essential \\\n      clang-14 \\\n      clang-format-14 \\\n      clang-tidy-14 \\\n      clangd-14 \\\n      cmake \\\n      doxygen \\\n      git \\\n      pkg-config \\\n      zlib1g-dev \\\n      libelf-dev \\\n      libdwarf-dev\n}\n\ninstall() {\n  set -x\n  UNAME=$(uname | tr "[:lower:]" "[:upper:]" )\n\n  case $UNAME in\n    DARWIN) install_mac ;;\n\n    LINUX)\n      version=$(cat /etc/os-release | grep VERSION_ID | cut -d \'"\' -f 2)\n      case $version in\n        18.04) install_linux ;;\n        20.04) install_linux ;;\n        22.04) install_linux ;;\n        # add this line\n        24.04) install_linux ;;\n        *) give_up ;;\n      esac\n      ;;\n\n    *) give_up ;;\n  esac\n}\n'})}),"\n",(0,l.jsxs)(e.ol,{start:"6",children:["\n",(0,l.jsx)(e.li,{children:"\u5B89\u88DD\u5957\u4EF6"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"sudo build_support/packages.sh\n"})}),"\n",(0,l.jsxs)(e.ol,{start:"7",children:["\n",(0,l.jsx)(e.li,{children:"\u5617\u8A66\u7DE8\u8B6F\u4E00\u4E0B\uFF0C\u770B\u770B\u6709\u6C92\u6709\u554F\u984C"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"cmake -DCMAKE_BUILD_TYPE=Debug -DCMAKE_C_COMPILER=/usr/bin/clang-14 -DCMAKE_CXX_COMPILER=/usr/bin/clang++-14 -B build\n"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"cd build && make -j`nproc`\n"})}),"\n",(0,l.jsxs)(e.ol,{start:"8",children:["\n",(0,l.jsx)(e.li,{children:"\u8A2D\u5B9A formatter \u4EE5\u53CA cmake\u3001clangd \u7B49\u7B49"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-json",metastring:'title=".vscode/settings.json"',children:'{\n  "[cpp]": {\n    "editor.defaultFormatter": "xaver.clang-format"\n  },\n  "[c]": {\n    "editor.defaultFormatter": "xaver.clang-format"\n  },\n  "C_Cpp.clang_format_path": "/usr/bin/clang-format-14",\n  "C_Cpp.formatting": "clangFormat",\n  "C_Cpp.clang_format_style": "file",\n  "clang-format.executable": "/usr/bin/clang-format-14",\n  "clangd.path": "/usr/bin/clangd-14",\n  "cmake.configureSettings": {\n    "CMAKE_C_COMPILER": "/usr/bin/clang-14",\n    "CMAKE_CXX_COMPILER": "/usr/bin/clang++-14"\n  },\n  "editor.formatOnSave": true\n}\n'})}),"\n",(0,l.jsxs)(e.ol,{start:"9",children:["\n",(0,l.jsxs)(e.li,{children:["\u5B89\u88DD debugger\uFF0C\u6211\u4F7F\u7528\u7684 debugger \u662F ",(0,l.jsx)(e.code,{children:"GDB"})]}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"sudo apt install gdb\n"})}),"\n",(0,l.jsxs)(e.ol,{start:"10",children:["\n",(0,l.jsx)(e.li,{children:"\u9019\u500B\u8A2D\u5B9A\u53EF\u4EE5\u5E6B\u52A9\u6211\u5011\u986F\u793A STL \u5BB9\u5668\u7684\u5167\u5BB9"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-json",metastring:'title=".vscode/launch.json"',children:'{\n  "version": "0.2.0",\n  "configurations": [\n    {\n      "name": "C/C++: g++ build and debug active file",\n      "type": "cppdbg",\n      "request": "launch",\n      "program": "${workspaceFolder}/build/test/${fileBasenameNoExtension}",\n      "args": [],\n      "cwd": "${workspaceFolder}",\n      "stopAtEntry": false,\n      "MIMode": "gdb",\n      "miDebuggerPath": "/usr/bin/gdb",\n      "setupCommands": [\n        {\n          "description": "Test",\n          "text": "python import sys;sys.path.insert(0, \'/usr/share/gcc/python\');from libstdcxx.v6.printers import register_libstdcxx_printers;register_libstdcxx_printers(None)",\n          "ignoreFailures": false\n        },\n        {\n          "description": "Enable pretty-printing for gdb",\n          "text": "-enable-pretty-printing",\n          "ignoreFailures": true\n        }\n      ]\n    }\n  ]\n}\n'})}),"\n",(0,l.jsxs)(e.p,{children:["\u4E4B\u5F8C\u5982\u679C\u8981\u57F7\u884C debug\uFF0C\u8A2D\u5B9A\u597D\u65B7\u9EDE\u5C0D\u8457 test file \u6309 ",(0,l.jsx)(e.code,{children:"F5"})," \u5373\u53EF\u3002"]}),"\n",(0,l.jsx)(e.h2,{id:"background",children:"Background"}),"\n",(0,l.jsx)(e.p,{children:"\u5728\u958B\u59CB\u5BEB\u4E4B\u524D\uFF0C\u5F37\u70C8\u5EFA\u8B70\u5148\u8B80\u4E00\u4E0B\u4F5C\u696D\u8AAA\u660E\u4E2D\u6709\u95DC Hyperloglog \u7684\u8AAA\u660E\uFF0C\u63A5\u4E0B\u4F86\u6211\u4E5F\u6703\u7C21\u55AE\u4ECB\u7D39\u4E00\u4E0B Hyperloglog \u7684\u539F\u7406\u3002"}),"\n",(0,l.jsx)(e.p,{children:"HyperLogLog \u662F\u4E00\u7A2E\u7528\u4F86\u4F30\u7B97\u96C6\u5408\u4E2D\u4E0D\u91CD\u8907\u5143\u7D20\u6578\u91CF\u7684\u8CC7\u6599\u7D50\u69CB\u3002\n\u5B83\u6700\u5927\u7684\u512A\u52E2\u662F\u80FD\u5920\u5728\u56FA\u5B9A\u7A7A\u9593\u8207\u5E38\u6578\u6642\u9593\u5167\u5B8C\u6210\u4F30\u7B97\uFF0C\u975E\u5E38\u9069\u5408\u7528\u65BC\u5927\u898F\u6A21\u8CC7\u6599\u8655\u7406\u3002"}),"\n",(0,l.jsx)(e.p,{children:"\u8209\u4F8B\u4F86\u8AAA\uFF0C\u5047\u8A2D\u6211\u5011\u60F3\u8981\u8A08\u7B97\u904E\u53BB\u4E00\u9031\u6709\u591A\u5C11\u4E0D\u540C\u4F7F\u7528\u8005\u9020\u8A2A\u904E\u6211\u5011\u7684\u7DB2\u7AD9\u3002\u50B3\u7D71\u4F5C\u6CD5\u53EF\u80FD\u662F :"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u4F7F\u7528\u4E00\u500B set \u5132\u5B58\u6240\u6709\u4F7F\u7528\u8005 ID"}),"\n",(0,l.jsx)(e.li,{children:"\u5C07\u6240\u6709\u7D00\u9304\u6392\u5E8F\uFF0C\u518D\u900F\u904E\u985E\u4F3C merge \u7684\u65B9\u6CD5\u4F86\u8A08\u7B97\u4E0D\u91CD\u8907\u7684 ID"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:"\u9019\u4E9B\u65B9\u6CD5\u5728\u7406\u8AD6\u4E0A\u53EF\u884C\uFF0C\u4F46\u5728\u4F7F\u7528\u8005\u6578\u91CF\u9F90\u5927\u6642\uFF0C\u6703\u6D88\u8017\u5927\u91CF\u7684\u8A18\u61B6\u9AD4\u8207 CPU\uFF0C\u56E0\u6B64\u5BE6\u52D9\u4E0A\u96E3\u4EE5\u61C9\u7528\u3002"}),"\n",(0,l.jsx)(e.h3,{id:"min-hash",children:"Min Hash"}),"\n",(0,l.jsxs)(e.p,{children:["\u4F30\u7B97\u4E0D\u91CD\u8986\u6578\u5B57\u7684\u65B9\u6CD5\u6709\u5F88\u591A\uFF0C\u5176\u4E2D\u4E00\u500B\u505A\u6CD5\u662F\u5C07\u6578\u5B57 hash \u6210\u4E00\u500B 0~1 \u4E4B\u9593\u7684\u6D6E\u9EDE\u6578\uFF0C\u7136\u5F8C\u4F30\u8A08\u9019\u500B\u4E0D\u91CD\u8986\u7684\u6578\u91CF\u70BA ",(0,l.jsxs)(e.span,{className:"katex",children:[(0,l.jsx)(e.span,{className:"katex-mathml",children:(0,l.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,l.jsxs)(e.semantics,{children:[(0,l.jsx)(e.mrow,{children:(0,l.jsxs)(e.mfrac,{children:[(0,l.jsx)(e.mn,{children:"1"}),(0,l.jsxs)(e.mrow,{children:[(0,l.jsx)(e.mi,{children:"m"}),(0,l.jsx)(e.mi,{children:"i"}),(0,l.jsx)(e.mi,{children:"n"}),(0,l.jsx)(e.mi,{mathvariant:"normal",children:"_"}),(0,l.jsx)(e.mi,{children:"h"}),(0,l.jsx)(e.mi,{children:"a"}),(0,l.jsx)(e.mi,{children:"s"}),(0,l.jsx)(e.mi,{children:"h"})]})]})}),(0,l.jsx)(e.annotation,{encoding:"application/x-tex",children:"\\frac{1}{min\\_hash}"})]})})}),(0,l.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,l.jsxs)(e.span,{className:"base",children:[(0,l.jsx)(e.span,{className:"strut",style:{height:"1.4071em",verticalAlign:"-0.562em"}}),(0,l.jsxs)(e.span,{className:"mord",children:[(0,l.jsx)(e.span,{className:"mopen nulldelimiter"}),(0,l.jsx)(e.span,{className:"mfrac",children:(0,l.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,l.jsxs)(e.span,{className:"vlist-r",children:[(0,l.jsxs)(e.span,{className:"vlist",style:{height:"0.8451em"},children:[(0,l.jsxs)(e.span,{style:{top:"-2.655em"},children:[(0,l.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,l.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,l.jsxs)(e.span,{className:"mord mtight",children:[(0,l.jsx)(e.span,{className:"mord mathnormal mtight",children:"min"}),(0,l.jsx)(e.span,{className:"mord mtight",style:{marginRight:"0.02778em"},children:"_"}),(0,l.jsx)(e.span,{className:"mord mathnormal mtight",children:"ha"}),(0,l.jsx)(e.span,{className:"mord mathnormal mtight",children:"s"}),(0,l.jsx)(e.span,{className:"mord mathnormal mtight",children:"h"})]})})]}),(0,l.jsxs)(e.span,{style:{top:"-3.23em"},children:[(0,l.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,l.jsx)(e.span,{className:"frac-line",style:{borderBottomWidth:"0.04em"}})]}),(0,l.jsxs)(e.span,{style:{top:"-3.394em"},children:[(0,l.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,l.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,l.jsx)(e.span,{className:"mord mtight",children:(0,l.jsx)(e.span,{className:"mord mtight",children:"1"})})})]})]}),(0,l.jsx)(e.span,{className:"vlist-s",children:"\u200B"})]}),(0,l.jsx)(e.span,{className:"vlist-r",children:(0,l.jsx)(e.span,{className:"vlist",style:{height:"0.562em"},children:(0,l.jsx)(e.span,{})})})]})}),(0,l.jsx)(e.span,{className:"mclose nulldelimiter"})]})]})})]}),"\uFF0C\u5176\u4E2D ",(0,l.jsx)(e.code,{children:"min_hash"})," \u662F\u6240\u6709 hash \u503C\u4E2D\u6700\u5C0F\u7684\u90A3\u500B\u3002"]}),"\n",(0,l.jsx)(e.p,{children:"\u9019\u500B\u505A\u6CD5\u7684\u554F\u984C\u662F\u6709\u53EF\u80FD\u51FA\u73FE\u6975\u7AEF\u503C\uFF0C\u5C0E\u81F4\u7D50\u679C\u8AA4\u5DEE\u5F88\u5927\u3002"}),"\n",(0,l.jsx)(a,{src:"/img/cmu15-445/p0/image.webp",caption:"Min Hash"}),"\n",(0,l.jsx)(e.h3,{id:"probabilistic-counting",children:"Probabilistic Counting"}),"\n",(0,l.jsxs)(e.p,{children:["\u70BA\u4E86\u964D\u4F4E\u9019\u500B\u8B8A\u7570\u503C\uFF0C\u56E0\u6B64\u6709\u4E86 probabilistic counting \u7684\u505A\u6CD5\u3002\n\u9019\u500B\u505A\u6CD5\u662F\u5C07 hash \u503C\u8F49\u6210\u4E8C\u9032\u4F4D\u7684\u6578\u5B57\uFF0C\u7136\u5F8C\u8A08\u7B97\u5F9E\u6700\u5DE6\u908A\u958B\u59CB\u6578\u5230\u7B2C\u4E00\u500B ",(0,l.jsx)(e.code,{children:"1"})," \u70BA\u6B62\u7684 ",(0,l.jsx)(e.code,{children:"leading zeros"})," \u7684\u6578\u91CF\u3002\n\u5047\u8A2D\u6240\u6709\u96C6\u5408\u4E2D\u6700\u5927\u7684 ",(0,l.jsx)(e.code,{children:"leading zeros"})," \u70BA ",(0,l.jsx)(e.code,{children:"k"}),"\uFF0C\u90A3\u9EBC\u6211\u5011\u5C31\u53EF\u4EE5\u4F30\u8A08\u9019\u500B\u4E0D\u91CD\u8986\u7684\u6578\u91CF\u70BA ",(0,l.jsxs)(e.span,{className:"katex",children:[(0,l.jsx)(e.span,{className:"katex-mathml",children:(0,l.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,l.jsxs)(e.semantics,{children:[(0,l.jsx)(e.mrow,{children:(0,l.jsxs)(e.msup,{children:[(0,l.jsx)(e.mn,{children:"2"}),(0,l.jsx)(e.mi,{children:"k"})]})}),(0,l.jsx)(e.annotation,{encoding:"application/x-tex",children:"2^k"})]})})}),(0,l.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,l.jsxs)(e.span,{className:"base",children:[(0,l.jsx)(e.span,{className:"strut",style:{height:"0.8491em"}}),(0,l.jsxs)(e.span,{className:"mord",children:[(0,l.jsx)(e.span,{className:"mord",children:"2"}),(0,l.jsx)(e.span,{className:"msupsub",children:(0,l.jsx)(e.span,{className:"vlist-t",children:(0,l.jsx)(e.span,{className:"vlist-r",children:(0,l.jsx)(e.span,{className:"vlist",style:{height:"0.8491em"},children:(0,l.jsxs)(e.span,{style:{top:"-3.063em",marginRight:"0.05em"},children:[(0,l.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,l.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,l.jsx)(e.span,{className:"mord mathnormal mtight",style:{marginRight:"0.03148em"},children:"k"})})]})})})})})]})]})})]}),"\u3002"]}),"\n",(0,l.jsx)(e.p,{children:"\u9019\u500B\u505A\u6CD5\u5728\u4E00\u5B9A\u7A0B\u5EA6\u4E0A\u964D\u4F4E\u4E86\u8B8A\u7570\u503C\uFF0C\u4F46\u4ECD\u7136\u6709\u53EF\u80FD\u51FA\u73FE\u6975\u7AEF\u503C\uFF0C\u5C0E\u81F4\u7D50\u679C\u8AA4\u5DEE\u5F88\u5927\u3002"}),"\n",(0,l.jsx)(a,{src:"/img/cmu15-445/p0/image-1.webp",caption:"Probabilistic Counting"}),"\n",(0,l.jsx)(e.h3,{id:"multiple-hash-functions",children:"Multiple Hash Functions"}),"\n",(0,l.jsxs)(e.p,{children:["\u70BA\u4E86\u6E1B\u8F15\u55AE\u4E00\u8CC7\u6599\u7684\u5F71\u97FF\uFF0C\u5F8C\u4F86\u6709\u4EBA\u63D0\u51FA\u4E86\u4F7F\u7528\u591A\u500B\u7368\u7ACB\u7684 hash function \u7684\u505A\u6CD5\u3002\n\u901A\u904E\u4F7F\u7528\u591A\u500B\u7368\u7ACB\u7684 hash function\uFF0C\u6211\u5011\u53EF\u4EE5\u5F97\u5230\u591A\u500B\u4E0D\u540C\u7684 ",(0,l.jsx)(e.code,{children:"leading zeros"})," \u6578\u91CF\uFF0C\u7136\u5F8C\u53D6\u9019\u4E9B\u6578\u91CF\u7684\u5E73\u5747\u503C\u4F86\u4F30\u8A08\u4E0D\u91CD\u8986\u7684\u6578\u91CF\u3002"]}),"\n",(0,l.jsx)(e.p,{children:"\u7F3A\u9EDE\u662F\u8A08\u7B97\u6210\u672C\u8F03\u9AD8\uFF0C\u56E0\u70BA\u6BCF\u7B46\u8CC7\u6599\u90FD\u9700\u8981\u7D93\u904E\u591A\u6B21 hash\u3002"}),"\n",(0,l.jsx)(a,{src:"/img/cmu15-445/p0/image-2.webp",caption:"Multiple Hash Functions"}),"\n",(0,l.jsx)(e.h3,{id:"loglog",children:"LogLog"}),"\n",(0,l.jsxs)(e.p,{children:["\u70BA\u4E86\u964D\u4F4E\u8A08\u7B97\u91CF\uFF0C\u5B78\u8005\u5011\u63D0\u51FA\u4E86\u5C07 hash \u503C\u5206\u6210\u591A\u500B\u90E8\u5206\u7684\u505A\u6CD5\uFF0C\u4E5F\u5C31\u662F ",(0,l.jsx)(e.code,{children:"LogLog"}),"\u3002"]}),"\n",(0,l.jsxs)(e.p,{children:["\u5B83\u5C07 hash \u503C\u5206\u6210\u524D ",(0,l.jsx)(e.code,{children:"n_bits"})," \u500B bits \u8DDF\u5F8C\u9762\u7684 bits\uFF0C\u524D\u9762\u7684 ",(0,l.jsx)(e.code,{children:"n_bits"})," \u500B bits \u7528\u4F86\u6C7A\u5B9A\u6876\u7684 index\uFF0C\u5F8C\u9762\u7684 bits \u7528\u4F86\u8A08\u7B97 ",(0,l.jsx)(e.code,{children:"leading zeros"})," \u7684\u6578\u91CF\u3002\n\u9019\u6A23\u5B50\u6211\u5011\u5C31\u53EF\u4EE5\u4F7F\u7528\u55AE\u4E00\u7684 hash function \u4F86\u9054\u5230\u985E\u4F3C\u591A\u500B\u7368\u7ACB hash function \u7684\u6548\u679C\u3002"]}),"\n",(0,l.jsxs)(e.p,{children:["\u5982\u4E0B\u5716\u6240\u793A\uFF0C\u524D\u9762 4 \u500B bits (1011 -> 11) \u7528\u4F86\u6C7A\u5B9A\u6876\u7684 index\uFF0C\u5F8C\u9762\u7684 bits (0111...100000) \u7528\u4F86\u8A08\u7B97 ",(0,l.jsx)(e.code,{children:"leading zeros"})," \u7684\u6578\u91CF (5)\u3002\n\u4F5C\u696D\u88E1\u9762\u662F\u5F9E\u524D\u9762\u958B\u59CB\u7B97\uFF0C\u9019\u88E1\u662F\u5F9E\u5F8C\u9762\u3002"]}),"\n",(0,l.jsx)(a,{src:"/img/cmu15-445/p0/image-3.webp",caption:"LogLog"}),"\n",(0,l.jsx)(e.p,{children:"\u6211\u5011\u53EF\u4EE5\u7528\u4EE5\u4E0B\u7684\u516C\u5F0F\u4F86\u8A08\u7B97\u57FA\u6578 (cardinality) :"}),"\n",(0,l.jsx)(e.span,{className:"katex-display",children:(0,l.jsxs)(e.span,{className:"katex",children:[(0,l.jsx)(e.span,{className:"katex-mathml",children:(0,l.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block",children:(0,l.jsxs)(e.semantics,{children:[(0,l.jsxs)(e.mrow,{children:[(0,l.jsx)(e.mi,{children:"C"}),(0,l.jsx)(e.mi,{children:"a"}),(0,l.jsx)(e.mi,{children:"r"}),(0,l.jsx)(e.mi,{children:"d"}),(0,l.jsx)(e.mi,{children:"i"}),(0,l.jsx)(e.mi,{children:"n"}),(0,l.jsx)(e.mi,{children:"a"}),(0,l.jsx)(e.mi,{children:"l"}),(0,l.jsx)(e.mi,{children:"i"}),(0,l.jsx)(e.mi,{children:"t"}),(0,l.jsxs)(e.msub,{children:[(0,l.jsx)(e.mi,{children:"y"}),(0,l.jsxs)(e.mrow,{children:[(0,l.jsx)(e.mi,{children:"L"}),(0,l.jsx)(e.mi,{children:"o"}),(0,l.jsx)(e.mi,{children:"g"}),(0,l.jsx)(e.mi,{children:"L"}),(0,l.jsx)(e.mi,{children:"o"}),(0,l.jsx)(e.mi,{children:"g"})]})]}),(0,l.jsx)(e.mo,{children:"="}),(0,l.jsx)(e.mi,{children:"C"}),(0,l.jsx)(e.mi,{children:"o"}),(0,l.jsx)(e.mi,{children:"n"}),(0,l.jsx)(e.mi,{children:"s"}),(0,l.jsx)(e.mi,{children:"t"}),(0,l.jsx)(e.mi,{children:"a"}),(0,l.jsx)(e.mi,{children:"n"}),(0,l.jsx)(e.mi,{children:"t"}),(0,l.jsx)(e.mo,{children:"\u2217"}),(0,l.jsx)(e.mi,{children:"m"}),(0,l.jsx)(e.mo,{children:"\u2217"}),(0,l.jsxs)(e.msup,{children:[(0,l.jsx)(e.mn,{children:"2"}),(0,l.jsxs)(e.mrow,{children:[(0,l.jsxs)(e.mfrac,{children:[(0,l.jsx)(e.mn,{children:"1"}),(0,l.jsx)(e.mi,{children:"m"})]}),(0,l.jsxs)(e.munderover,{children:[(0,l.jsx)(e.mo,{children:"\u2211"}),(0,l.jsxs)(e.mrow,{children:[(0,l.jsx)(e.mi,{children:"j"}),(0,l.jsx)(e.mo,{children:"="}),(0,l.jsx)(e.mn,{children:"1"})]}),(0,l.jsx)(e.mi,{children:"N"})]}),(0,l.jsxs)(e.msub,{children:[(0,l.jsx)(e.mi,{children:"R"}),(0,l.jsx)(e.mi,{children:"j"})]})]})]})]}),(0,l.jsx)(e.annotation,{encoding:"application/x-tex",children:"\nCardinality_{LogLog} = Constant * m * 2^{\\frac{1}{m} \\sum_{j=1}^{N} R_j}\n"})]})})}),(0,l.jsxs)(e.span,{className:"katex-html","aria-hidden":"true",children:[(0,l.jsxs)(e.span,{className:"base",children:[(0,l.jsx)(e.span,{className:"strut",style:{height:"0.9805em",verticalAlign:"-0.2861em"}}),(0,l.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.07153em"},children:"C"}),(0,l.jsx)(e.span,{className:"mord mathnormal",children:"a"}),(0,l.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"r"}),(0,l.jsx)(e.span,{className:"mord mathnormal",children:"d"}),(0,l.jsx)(e.span,{className:"mord mathnormal",children:"ina"}),(0,l.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.01968em"},children:"l"}),(0,l.jsx)(e.span,{className:"mord mathnormal",children:"i"}),(0,l.jsx)(e.span,{className:"mord mathnormal",children:"t"}),(0,l.jsxs)(e.span,{className:"mord",children:[(0,l.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"y"}),(0,l.jsx)(e.span,{className:"msupsub",children:(0,l.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,l.jsxs)(e.span,{className:"vlist-r",children:[(0,l.jsx)(e.span,{className:"vlist",style:{height:"0.3283em"},children:(0,l.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"-0.0359em",marginRight:"0.05em"},children:[(0,l.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,l.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,l.jsxs)(e.span,{className:"mord mtight",children:[(0,l.jsx)(e.span,{className:"mord mathnormal mtight",children:"L"}),(0,l.jsx)(e.span,{className:"mord mathnormal mtight",children:"o"}),(0,l.jsx)(e.span,{className:"mord mathnormal mtight",children:"gL"}),(0,l.jsx)(e.span,{className:"mord mathnormal mtight",children:"o"}),(0,l.jsx)(e.span,{className:"mord mathnormal mtight",style:{marginRight:"0.03588em"},children:"g"})]})})]})}),(0,l.jsx)(e.span,{className:"vlist-s",children:"\u200B"})]}),(0,l.jsx)(e.span,{className:"vlist-r",children:(0,l.jsx)(e.span,{className:"vlist",style:{height:"0.2861em"},children:(0,l.jsx)(e.span,{})})})]})})]}),(0,l.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,l.jsx)(e.span,{className:"mrel",children:"="}),(0,l.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,l.jsxs)(e.span,{className:"base",children:[(0,l.jsx)(e.span,{className:"strut",style:{height:"0.6833em"}}),(0,l.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.07153em"},children:"C"}),(0,l.jsx)(e.span,{className:"mord mathnormal",children:"o"}),(0,l.jsx)(e.span,{className:"mord mathnormal",children:"n"}),(0,l.jsx)(e.span,{className:"mord mathnormal",children:"s"}),(0,l.jsx)(e.span,{className:"mord mathnormal",children:"t"}),(0,l.jsx)(e.span,{className:"mord mathnormal",children:"an"}),(0,l.jsx)(e.span,{className:"mord mathnormal",children:"t"}),(0,l.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,l.jsx)(e.span,{className:"mbin",children:"\u2217"}),(0,l.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),(0,l.jsxs)(e.span,{className:"base",children:[(0,l.jsx)(e.span,{className:"strut",style:{height:"0.4653em"}}),(0,l.jsx)(e.span,{className:"mord mathnormal",children:"m"}),(0,l.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,l.jsx)(e.span,{className:"mbin",children:"\u2217"}),(0,l.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),(0,l.jsxs)(e.span,{className:"base",children:[(0,l.jsx)(e.span,{className:"strut",style:{height:"1.0733em"}}),(0,l.jsxs)(e.span,{className:"mord",children:[(0,l.jsx)(e.span,{className:"mord",children:"2"}),(0,l.jsx)(e.span,{className:"msupsub",children:(0,l.jsx)(e.span,{className:"vlist-t",children:(0,l.jsx)(e.span,{className:"vlist-r",children:(0,l.jsx)(e.span,{className:"vlist",style:{height:"1.0733em"},children:(0,l.jsxs)(e.span,{style:{top:"-3.43em",marginRight:"0.05em"},children:[(0,l.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,l.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,l.jsxs)(e.span,{className:"mord mtight",children:[(0,l.jsxs)(e.span,{className:"mord mtight",children:[(0,l.jsx)(e.span,{className:"mopen nulldelimiter sizing reset-size3 size6"}),(0,l.jsx)(e.span,{className:"mfrac",children:(0,l.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,l.jsxs)(e.span,{className:"vlist-r",children:[(0,l.jsxs)(e.span,{className:"vlist",style:{height:"0.8443em"},children:[(0,l.jsxs)(e.span,{style:{top:"-2.656em"},children:[(0,l.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,l.jsx)(e.span,{className:"sizing reset-size3 size1 mtight",children:(0,l.jsx)(e.span,{className:"mord mtight",children:(0,l.jsx)(e.span,{className:"mord mathnormal mtight",children:"m"})})})]}),(0,l.jsxs)(e.span,{style:{top:"-3.2255em"},children:[(0,l.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,l.jsx)(e.span,{className:"frac-line mtight",style:{borderBottomWidth:"0.049em"}})]}),(0,l.jsxs)(e.span,{style:{top:"-3.384em"},children:[(0,l.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,l.jsx)(e.span,{className:"sizing reset-size3 size1 mtight",children:(0,l.jsx)(e.span,{className:"mord mtight",children:(0,l.jsx)(e.span,{className:"mord mtight",children:"1"})})})]})]}),(0,l.jsx)(e.span,{className:"vlist-s",children:"\u200B"})]}),(0,l.jsx)(e.span,{className:"vlist-r",children:(0,l.jsx)(e.span,{className:"vlist",style:{height:"0.344em"},children:(0,l.jsx)(e.span,{})})})]})}),(0,l.jsx)(e.span,{className:"mclose nulldelimiter sizing reset-size3 size6"})]}),(0,l.jsx)(e.span,{className:"mspace mtight",style:{marginRight:"0.1952em"}}),(0,l.jsxs)(e.span,{className:"mop mtight",children:[(0,l.jsx)(e.span,{className:"mop op-symbol small-op mtight",style:{position:"relative",top:"0em"},children:"\u2211"}),(0,l.jsx)(e.span,{className:"msupsub",children:(0,l.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,l.jsxs)(e.span,{className:"vlist-r",children:[(0,l.jsxs)(e.span,{className:"vlist",style:{height:"0.9191em"},children:[(0,l.jsxs)(e.span,{style:{top:"-2.1786em",marginLeft:"0em",marginRight:"0.0714em"},children:[(0,l.jsx)(e.span,{className:"pstrut",style:{height:"2.5em"}}),(0,l.jsx)(e.span,{className:"sizing reset-size3 size1 mtight",children:(0,l.jsxs)(e.span,{className:"mord mtight",children:[(0,l.jsx)(e.span,{className:"mord mathnormal mtight",style:{marginRight:"0.05724em"},children:"j"}),(0,l.jsx)(e.span,{className:"mrel mtight",children:"="}),(0,l.jsx)(e.span,{className:"mord mtight",children:"1"})]})})]}),(0,l.jsxs)(e.span,{style:{top:"-2.931em",marginRight:"0.0714em"},children:[(0,l.jsx)(e.span,{className:"pstrut",style:{height:"2.5em"}}),(0,l.jsx)(e.span,{className:"sizing reset-size3 size1 mtight",children:(0,l.jsx)(e.span,{className:"mord mtight",children:(0,l.jsx)(e.span,{className:"mord mathnormal mtight",style:{marginRight:"0.10903em"},children:"N"})})})]})]}),(0,l.jsx)(e.span,{className:"vlist-s",children:"\u200B"})]}),(0,l.jsx)(e.span,{className:"vlist-r",children:(0,l.jsx)(e.span,{className:"vlist",style:{height:"0.4603em"},children:(0,l.jsx)(e.span,{})})})]})})]}),(0,l.jsx)(e.span,{className:"mspace mtight",style:{marginRight:"0.1952em"}}),(0,l.jsxs)(e.span,{className:"mord mtight",children:[(0,l.jsx)(e.span,{className:"mord mathnormal mtight",style:{marginRight:"0.00773em"},children:"R"}),(0,l.jsx)(e.span,{className:"msupsub",children:(0,l.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,l.jsxs)(e.span,{className:"vlist-r",children:[(0,l.jsx)(e.span,{className:"vlist",style:{height:"0.3281em"},children:(0,l.jsxs)(e.span,{style:{top:"-2.357em",marginLeft:"-0.0077em",marginRight:"0.0714em"},children:[(0,l.jsx)(e.span,{className:"pstrut",style:{height:"2.5em"}}),(0,l.jsx)(e.span,{className:"sizing reset-size3 size1 mtight",children:(0,l.jsx)(e.span,{className:"mord mathnormal mtight",style:{marginRight:"0.05724em"},children:"j"})})]})}),(0,l.jsx)(e.span,{className:"vlist-s",children:"\u200B"})]}),(0,l.jsx)(e.span,{className:"vlist-r",children:(0,l.jsx)(e.span,{className:"vlist",style:{height:"0.2819em"},children:(0,l.jsx)(e.span,{})})})]})})]})]})})]})})})})})]})]})]})]})}),"\n",(0,l.jsxs)(e.p,{children:["Constant \u7D93\u904E\u7D71\u8A08\u63A8\u5C0E\u51FA\u4F86\u7684\u503C\u70BA 0.79402\uFF0Cm \u70BA\u6876\u7684\u6578\u91CF\uFF0C",(0,l.jsxs)(e.span,{className:"katex",children:[(0,l.jsx)(e.span,{className:"katex-mathml",children:(0,l.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,l.jsxs)(e.semantics,{children:[(0,l.jsx)(e.mrow,{children:(0,l.jsxs)(e.msub,{children:[(0,l.jsx)(e.mi,{children:"R"}),(0,l.jsx)(e.mi,{children:"j"})]})}),(0,l.jsx)(e.annotation,{encoding:"application/x-tex",children:"R_j"})]})})}),(0,l.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,l.jsxs)(e.span,{className:"base",children:[(0,l.jsx)(e.span,{className:"strut",style:{height:"0.9694em",verticalAlign:"-0.2861em"}}),(0,l.jsxs)(e.span,{className:"mord",children:[(0,l.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.00773em"},children:"R"}),(0,l.jsx)(e.span,{className:"msupsub",children:(0,l.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,l.jsxs)(e.span,{className:"vlist-r",children:[(0,l.jsx)(e.span,{className:"vlist",style:{height:"0.3117em"},children:(0,l.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"-0.0077em",marginRight:"0.05em"},children:[(0,l.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,l.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,l.jsx)(e.span,{className:"mord mathnormal mtight",style:{marginRight:"0.05724em"},children:"j"})})]})}),(0,l.jsx)(e.span,{className:"vlist-s",children:"\u200B"})]}),(0,l.jsx)(e.span,{className:"vlist-r",children:(0,l.jsx)(e.span,{className:"vlist",style:{height:"0.2861em"},children:(0,l.jsx)(e.span,{})})})]})})]})]})})]})," \u70BA\u7B2C j \u500B\u6876\u4E2D\u7684 ",(0,l.jsx)(e.code,{children:"leading zeros"})," \u7684\u6578\u91CF\uFF0C\u9019\u6A23\u7684\u7D50\u679C\u53EF\u4EE5\u4F7F\u8AA4\u5DEE\u5230\u9054\u5230 ",(0,l.jsxs)(e.span,{className:"katex",children:[(0,l.jsx)(e.span,{className:"katex-mathml",children:(0,l.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,l.jsxs)(e.semantics,{children:[(0,l.jsx)(e.mrow,{children:(0,l.jsxs)(e.mfrac,{children:[(0,l.jsx)(e.mn,{children:"1.3"}),(0,l.jsx)(e.msqrt,{children:(0,l.jsx)(e.mi,{children:"m"})})]})}),(0,l.jsx)(e.annotation,{encoding:"application/x-tex",children:"\\frac{1.3}{\\sqrt{m}}"})]})})}),(0,l.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,l.jsxs)(e.span,{className:"base",children:[(0,l.jsx)(e.span,{className:"strut",style:{height:"1.3831em",verticalAlign:"-0.538em"}}),(0,l.jsxs)(e.span,{className:"mord",children:[(0,l.jsx)(e.span,{className:"mopen nulldelimiter"}),(0,l.jsx)(e.span,{className:"mfrac",children:(0,l.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,l.jsxs)(e.span,{className:"vlist-r",children:[(0,l.jsxs)(e.span,{className:"vlist",style:{height:"0.8451em"},children:[(0,l.jsxs)(e.span,{style:{top:"-2.6259em"},children:[(0,l.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,l.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,l.jsx)(e.span,{className:"mord mtight",children:(0,l.jsx)(e.span,{className:"mord sqrt mtight",children:(0,l.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,l.jsxs)(e.span,{className:"vlist-r",children:[(0,l.jsxs)(e.span,{className:"vlist",style:{height:"0.8059em"},children:[(0,l.jsxs)(e.span,{className:"svg-align",style:{top:"-3em"},children:[(0,l.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,l.jsx)(e.span,{className:"mord mtight",style:{paddingLeft:"0.833em"},children:(0,l.jsx)(e.span,{className:"mord mathnormal mtight",children:"m"})})]}),(0,l.jsxs)(e.span,{style:{top:"-2.7659em"},children:[(0,l.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,l.jsx)(e.span,{className:"hide-tail mtight",style:{minWidth:"0.853em",height:"1.08em"},children:(0,l.jsx)(e.svg,{xmlns:"http://www.w3.org/2000/svg",width:"400em",height:"1.08em",viewBox:"0 0 400000 1080",preserveAspectRatio:"xMinYMin slice",children:(0,l.jsx)(e.path,{d:"M95,702\nc-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14\nc0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54\nc44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10\ns173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429\nc69,-144,104.5,-217.7,106.5,-221\nl0 -0\nc5.3,-9.3,12,-14,20,-14\nH400000v40H845.2724\ns-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7\nc-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z\nM834 80h400000v40h-400000z"})})})]})]}),(0,l.jsx)(e.span,{className:"vlist-s",children:"\u200B"})]}),(0,l.jsx)(e.span,{className:"vlist-r",children:(0,l.jsx)(e.span,{className:"vlist",style:{height:"0.2341em"},children:(0,l.jsx)(e.span,{})})})]})})})})]}),(0,l.jsxs)(e.span,{style:{top:"-3.23em"},children:[(0,l.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,l.jsx)(e.span,{className:"frac-line",style:{borderBottomWidth:"0.04em"}})]}),(0,l.jsxs)(e.span,{style:{top:"-3.394em"},children:[(0,l.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,l.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,l.jsx)(e.span,{className:"mord mtight",children:(0,l.jsx)(e.span,{className:"mord mtight",children:"1.3"})})})]})]}),(0,l.jsx)(e.span,{className:"vlist-s",children:"\u200B"})]}),(0,l.jsx)(e.span,{className:"vlist-r",children:(0,l.jsx)(e.span,{className:"vlist",style:{height:"0.538em"},children:(0,l.jsx)(e.span,{})})})]})}),(0,l.jsx)(e.span,{className:"mclose nulldelimiter"})]})]})})]}),"\u3002"]}),"\n",(0,l.jsx)(e.h3,{id:"superloglog--hyperloglog",children:"SuperLogLog & HyperLogLog"}),"\n",(0,l.jsxs)(e.p,{children:["\u5F8C\u7E8C\u53C8\u6709\u9032\u4E00\u6B65\u6539\u826F\u7248\u672C\uFF0C\u6709\u540D\u7684\u6709 ",(0,l.jsx)(e.code,{children:"SuperLogLog"})," \u548C ",(0,l.jsx)(e.code,{children:"HyperLogLog"})," \u5169\u7A2E :"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["SuperLogLog : \u4E1F\u68C4\u6700\u5927 30% \u7684\u6876\u503C\u518D\u53D6\u5E73\u5747\uFF0C\u53EF\u4EE5\u4F7F\u8AA4\u5DEE\u5230\u9054 ",(0,l.jsxs)(e.span,{className:"katex",children:[(0,l.jsx)(e.span,{className:"katex-mathml",children:(0,l.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,l.jsxs)(e.semantics,{children:[(0,l.jsx)(e.mrow,{children:(0,l.jsxs)(e.mfrac,{children:[(0,l.jsx)(e.mn,{children:"1.05"}),(0,l.jsx)(e.msqrt,{children:(0,l.jsx)(e.mi,{children:"m"})})]})}),(0,l.jsx)(e.annotation,{encoding:"application/x-tex",children:"\\frac{1.05}{\\sqrt{m}}"})]})})}),(0,l.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,l.jsxs)(e.span,{className:"base",children:[(0,l.jsx)(e.span,{className:"strut",style:{height:"1.3831em",verticalAlign:"-0.538em"}}),(0,l.jsxs)(e.span,{className:"mord",children:[(0,l.jsx)(e.span,{className:"mopen nulldelimiter"}),(0,l.jsx)(e.span,{className:"mfrac",children:(0,l.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,l.jsxs)(e.span,{className:"vlist-r",children:[(0,l.jsxs)(e.span,{className:"vlist",style:{height:"0.8451em"},children:[(0,l.jsxs)(e.span,{style:{top:"-2.6259em"},children:[(0,l.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,l.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,l.jsx)(e.span,{className:"mord mtight",children:(0,l.jsx)(e.span,{className:"mord sqrt mtight",children:(0,l.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,l.jsxs)(e.span,{className:"vlist-r",children:[(0,l.jsxs)(e.span,{className:"vlist",style:{height:"0.8059em"},children:[(0,l.jsxs)(e.span,{className:"svg-align",style:{top:"-3em"},children:[(0,l.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,l.jsx)(e.span,{className:"mord mtight",style:{paddingLeft:"0.833em"},children:(0,l.jsx)(e.span,{className:"mord mathnormal mtight",children:"m"})})]}),(0,l.jsxs)(e.span,{style:{top:"-2.7659em"},children:[(0,l.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,l.jsx)(e.span,{className:"hide-tail mtight",style:{minWidth:"0.853em",height:"1.08em"},children:(0,l.jsx)(e.svg,{xmlns:"http://www.w3.org/2000/svg",width:"400em",height:"1.08em",viewBox:"0 0 400000 1080",preserveAspectRatio:"xMinYMin slice",children:(0,l.jsx)(e.path,{d:"M95,702\nc-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14\nc0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54\nc44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10\ns173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429\nc69,-144,104.5,-217.7,106.5,-221\nl0 -0\nc5.3,-9.3,12,-14,20,-14\nH400000v40H845.2724\ns-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7\nc-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z\nM834 80h400000v40h-400000z"})})})]})]}),(0,l.jsx)(e.span,{className:"vlist-s",children:"\u200B"})]}),(0,l.jsx)(e.span,{className:"vlist-r",children:(0,l.jsx)(e.span,{className:"vlist",style:{height:"0.2341em"},children:(0,l.jsx)(e.span,{})})})]})})})})]}),(0,l.jsxs)(e.span,{style:{top:"-3.23em"},children:[(0,l.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,l.jsx)(e.span,{className:"frac-line",style:{borderBottomWidth:"0.04em"}})]}),(0,l.jsxs)(e.span,{style:{top:"-3.394em"},children:[(0,l.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,l.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,l.jsx)(e.span,{className:"mord mtight",children:(0,l.jsx)(e.span,{className:"mord mtight",children:"1.05"})})})]})]}),(0,l.jsx)(e.span,{className:"vlist-s",children:"\u200B"})]}),(0,l.jsx)(e.span,{className:"vlist-r",children:(0,l.jsx)(e.span,{className:"vlist",style:{height:"0.538em"},children:(0,l.jsx)(e.span,{})})})]})}),(0,l.jsx)(e.span,{className:"mclose nulldelimiter"})]})]})})]})]}),"\n",(0,l.jsxs)(e.li,{children:["HyperLogLog : \u4F7F\u7528\u8ABF\u548C\u5E73\u5747 (harmonic mean) \u4F86\u53D6\u4EE3\u7B97\u8853\u5E73\u5747 (arithmetic mean)\uFF0C\u53EF\u4EE5\u4F7F\u8AA4\u5DEE\u5230\u9054 ",(0,l.jsxs)(e.span,{className:"katex",children:[(0,l.jsx)(e.span,{className:"katex-mathml",children:(0,l.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,l.jsxs)(e.semantics,{children:[(0,l.jsx)(e.mrow,{children:(0,l.jsxs)(e.mfrac,{children:[(0,l.jsx)(e.mn,{children:"1.04"}),(0,l.jsx)(e.msqrt,{children:(0,l.jsx)(e.mi,{children:"m"})})]})}),(0,l.jsx)(e.annotation,{encoding:"application/x-tex",children:"\\frac{1.04}{\\sqrt{m}}"})]})})}),(0,l.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,l.jsxs)(e.span,{className:"base",children:[(0,l.jsx)(e.span,{className:"strut",style:{height:"1.3831em",verticalAlign:"-0.538em"}}),(0,l.jsxs)(e.span,{className:"mord",children:[(0,l.jsx)(e.span,{className:"mopen nulldelimiter"}),(0,l.jsx)(e.span,{className:"mfrac",children:(0,l.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,l.jsxs)(e.span,{className:"vlist-r",children:[(0,l.jsxs)(e.span,{className:"vlist",style:{height:"0.8451em"},children:[(0,l.jsxs)(e.span,{style:{top:"-2.6259em"},children:[(0,l.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,l.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,l.jsx)(e.span,{className:"mord mtight",children:(0,l.jsx)(e.span,{className:"mord sqrt mtight",children:(0,l.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,l.jsxs)(e.span,{className:"vlist-r",children:[(0,l.jsxs)(e.span,{className:"vlist",style:{height:"0.8059em"},children:[(0,l.jsxs)(e.span,{className:"svg-align",style:{top:"-3em"},children:[(0,l.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,l.jsx)(e.span,{className:"mord mtight",style:{paddingLeft:"0.833em"},children:(0,l.jsx)(e.span,{className:"mord mathnormal mtight",children:"m"})})]}),(0,l.jsxs)(e.span,{style:{top:"-2.7659em"},children:[(0,l.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,l.jsx)(e.span,{className:"hide-tail mtight",style:{minWidth:"0.853em",height:"1.08em"},children:(0,l.jsx)(e.svg,{xmlns:"http://www.w3.org/2000/svg",width:"400em",height:"1.08em",viewBox:"0 0 400000 1080",preserveAspectRatio:"xMinYMin slice",children:(0,l.jsx)(e.path,{d:"M95,702\nc-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14\nc0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54\nc44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10\ns173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429\nc69,-144,104.5,-217.7,106.5,-221\nl0 -0\nc5.3,-9.3,12,-14,20,-14\nH400000v40H845.2724\ns-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7\nc-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z\nM834 80h400000v40h-400000z"})})})]})]}),(0,l.jsx)(e.span,{className:"vlist-s",children:"\u200B"})]}),(0,l.jsx)(e.span,{className:"vlist-r",children:(0,l.jsx)(e.span,{className:"vlist",style:{height:"0.2341em"},children:(0,l.jsx)(e.span,{})})})]})})})})]}),(0,l.jsxs)(e.span,{style:{top:"-3.23em"},children:[(0,l.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,l.jsx)(e.span,{className:"frac-line",style:{borderBottomWidth:"0.04em"}})]}),(0,l.jsxs)(e.span,{style:{top:"-3.394em"},children:[(0,l.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,l.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,l.jsx)(e.span,{className:"mord mtight",children:(0,l.jsx)(e.span,{className:"mord mtight",children:"1.04"})})})]})]}),(0,l.jsx)(e.span,{className:"vlist-s",children:"\u200B"})]}),(0,l.jsx)(e.span,{className:"vlist-r",children:(0,l.jsx)(e.span,{className:"vlist",style:{height:"0.538em"},children:(0,l.jsx)(e.span,{})})})]})}),(0,l.jsx)(e.span,{className:"mclose nulldelimiter"})]})]})})]})]}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:"\u800C\u9019\u6B21\u7684\u4F5C\u696D\u8981\u5BE6\u4F5C\u7684\u5C31\u662F HyperLogLog\u3002"}),"\n",(0,l.jsx)(e.h2,{id:"task-1---hyperloglog",children:"Task 1 - Hyperloglog"}),"\n",(0,l.jsxs)(e.p,{children:["\u9996\u5148\u6211\u5011\u6703\u5C07\u6240\u6709\u7684\u5143\u7D20 hash \u6210\u4E00\u500B 64 bits \u7684\u6574\u6578\uFF0C\u7136\u5F8C\u5C07\u9019\u500B\u6574\u6578\u5206\u6210\u5169\u500B\u90E8\u5206\uFF0C\u53F3\u908A\u6578\u4F86\u524D\u9762\u7684 ",(0,l.jsx)(e.code,{children:"n_bits"})," \u4EE3\u8868\u6876\u7684 index (\u7E3D\u5171\u6709 ",(0,l.jsxs)(e.span,{className:"katex",children:[(0,l.jsx)(e.span,{className:"katex-mathml",children:(0,l.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,l.jsxs)(e.semantics,{children:[(0,l.jsx)(e.mrow,{children:(0,l.jsxs)(e.msup,{children:[(0,l.jsx)(e.mn,{children:"2"}),(0,l.jsxs)(e.mrow,{children:[(0,l.jsx)(e.mi,{children:"n"}),(0,l.jsx)(e.mi,{mathvariant:"normal",children:"_"}),(0,l.jsx)(e.mi,{children:"b"}),(0,l.jsx)(e.mi,{children:"i"}),(0,l.jsx)(e.mi,{children:"t"}),(0,l.jsx)(e.mi,{children:"s"})]})]})}),(0,l.jsx)(e.annotation,{encoding:"application/x-tex",children:"2^{n\\_bits}"})]})})}),(0,l.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,l.jsxs)(e.span,{className:"base",children:[(0,l.jsx)(e.span,{className:"strut",style:{height:"0.8491em"}}),(0,l.jsxs)(e.span,{className:"mord",children:[(0,l.jsx)(e.span,{className:"mord",children:"2"}),(0,l.jsx)(e.span,{className:"msupsub",children:(0,l.jsx)(e.span,{className:"vlist-t",children:(0,l.jsx)(e.span,{className:"vlist-r",children:(0,l.jsx)(e.span,{className:"vlist",style:{height:"0.8491em"},children:(0,l.jsxs)(e.span,{style:{top:"-3.063em",marginRight:"0.05em"},children:[(0,l.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,l.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,l.jsxs)(e.span,{className:"mord mtight",children:[(0,l.jsx)(e.span,{className:"mord mathnormal mtight",children:"n"}),(0,l.jsx)(e.span,{className:"mord mtight",style:{marginRight:"0.02778em"},children:"_"}),(0,l.jsx)(e.span,{className:"mord mathnormal mtight",children:"bi"}),(0,l.jsx)(e.span,{className:"mord mathnormal mtight",children:"t"}),(0,l.jsx)(e.span,{className:"mord mathnormal mtight",children:"s"})]})})]})})})})})]})]})})]})," \u500B\u6876)\uFF0C\u5728\u9019\u4E9B\u6578\u5B57\u4E4B\u5F8C\uFF0C\u6211\u5011\u5C31\u8981\u958B\u59CB\u6578 ",(0,l.jsx)(e.code,{children:"leading zeros"})," \u7684\u6578\u91CF\u76F4\u5230\u9047\u5230\u7B2C\u4E00\u500B ",(0,l.jsx)(e.code,{children:"1"})," \u70BA\u6B62 (\u5305\u542B ",(0,l.jsx)(e.code,{children:"1"}),")\uFF0C\u518D\u628A ",(0,l.jsx)(e.code,{children:"leading zeros"})," \u53D6\u6700\u5927\u503C\u4E4B\u5F8C\u653E\u9032\u6876\u88E1\u9762\uFF0C\u6700\u5F8C\u518D\u7528\u9019\u4E9B\u6876\u4F86\u4F30\u8A08\u4E0D\u91CD\u8907\u7684\u5143\u7D20\u7684\u6578\u91CF\u3002"]}),"\n",(0,l.jsxs)(e.p,{children:["\u8209\u4F8B\u4F86\u8AAA\uFF0C\u5982\u679C ",(0,l.jsx)(e.code,{children:"n_bits"})," \u70BA 4\uFF0C\u7136\u5F8C hash \u51FA\u4F86\u7684\u503C\u70BA ",(0,l.jsx)(e.code,{children:"101101110000011111..."}),"\uFF0C\u90A3\u9EBC bucket index \u70BA ",(0,l.jsx)(e.code,{children:"1011"})," (11)\uFF0C",(0,l.jsx)(e.code,{children:"leading zeros"})," \u70BA ",(0,l.jsx)(e.code,{children:"01"})," (2)\u3002"]}),"\n",(0,l.jsx)(e.p,{children:"\u9019\u500B task \u6709\u5169\u500B\u5BEB\u597D\u7684 function\uFF0C\u5206\u5225\u662F :"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"CalculateHash"})," : \u5C07\u50B3\u9032\u4F86\u7684\u503C\u505A hash\uFF0C\u4E26\u56DE\u50B3 ",(0,l.jsx)(e.code,{children:"unsigned long"})," (64 bits)\u7684\u6574\u6578"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"ComputeBinary"})," : \u5C07 hash \u503C\u8F49\u6210\u4E8C\u9032\u4F4D\u7684\u6578\u5B57"]}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:["\u5728 ",(0,l.jsx)(e.code,{children:"AddElem"})," \u4E2D\uFF0C\u6211\u5011\u6703\u547C\u53EB\u9019\u5169\u500B function \u4F86\u53D6\u5F97\u4E8C\u9032\u4F4D\u7684\u8868\u793A\u6CD5\u3002"]}),"\n",(0,l.jsx)(e.p,{children:"\u6709\u56DB\u500B function \u9700\u8981\u5BE6\u4F5C\uFF0C\u5206\u5225\u662F :"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"HyperLogLog"})," : \u521D\u59CB\u5316\u6876\u7684\u6578\u91CF\uFF0C\u4E26\u4E14\u5C07\u6240\u6709\u7684\u6876\u7684\u503C\u8A2D\u6210 0\uFF0C\u9700\u8981\u6CE8\u610F\u7684\u662F\u9700\u8981\u8655\u7406\u50B3\u9032\u4F86\u7684 ",(0,l.jsx)(e.code,{children:"n_bits"})," \u6709\u53EF\u80FD\u6703\u662F\u8CA0\u6578\u7684\u60C5\u6CC1"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"PositionOfLeftmostOne"})," : \u8A08\u7B97\u4E8C\u9032\u4F4D\u8868\u793A\u6CD5\u4E2D\u5F9E bucket_index \u7D50\u675F\u5F8C\u7684\u4E0B\u4E00\u500B bit \u958B\u59CB\u5230\u7B2C\u4E00\u500B ",(0,l.jsx)(e.code,{children:"1"})," \u7684\u4F4D\u7F6E\uFF0C\u8981\u7279\u5225\u6CE8\u610F\u7684\u662F ",(0,l.jsx)(e.code,{children:"1"})," \u7684\u4F4D\u7F6E\u4E5F\u9700\u8981\u8A08\u7B97\uFF0C\u4E26\u4E14\u5982\u679C ",(0,l.jsx)(e.code,{children:"n_bits"})," \u70BA 0\uFF0C\u4E5F\u9700\u8981\u4FDD\u7559\u7B2C\u4E00\u500B bit \u7576\u4F5C index"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"AddElem"})," : \u4F7F\u7528\u63D0\u4F9B\u7684\u51FD\u6578\u5C07 ",(0,l.jsx)(e.code,{children:"val"})," \u8F49\u6210 ",(0,l.jsx)(e.code,{children:"std::bitset"}),"\uFF0C\u63A5\u8457\u8A08\u7B97\u6876\u7684 index \u548C ",(0,l.jsx)(e.code,{children:"leading zeros"})," \u7684\u6578\u91CF\uFF0C\u6700\u5F8C\u53D6\u6700\u5927\u503C\u653E\u9032\u6876\u88E1\u9762"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"ComputeCardinality"})," : \u56DE\u50B3\u8A08\u7B97\u5F8C\u7684 cardinality\uFF0C\u4F9D\u7167\u516C\u5F0F\u4F86\u5BEB\u5373\u53EF\uFF0C\u6700\u5F8C\u8A18\u5F97\u7528 ",(0,l.jsx)(e.code,{children:"std::floor"})," \u4F86\u53D6\u6574\u6578\uFF0C\u4E26\u4E14\u8981\u6CE8\u610F ",(0,l.jsx)(e.code,{children:"n_bits"})," \u70BA 0 \u7684\u60C5\u6CC1"]}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"task-2---presto-hyperloglog",children:"Task 2 - Presto Hyperloglog"}),"\n",(0,l.jsx)(e.p,{children:"Task 2 \u4E3B\u8981\u662F\u8981\u5BE6\u4F5C Presto Hyperloglog\uFF0C\u662F\u4E00\u7A2E Hyperloglog \u7684\u4FEE\u6539\u7248\uFF0C\u53EF\u4EE5\u512A\u5316\u7A7A\u9593\u4F7F\u7528\u7387\u3002"}),"\n",(0,l.jsxs)(e.p,{children:["\u5728\u9019\u500B\u4FEE\u6539\u7248\u4E2D\uFF0C\u5132\u5B58\u6703\u5206\u6210\u5169\u500B\u90E8\u5206\uFF0C\u5206\u5225\u662F ",(0,l.jsx)(e.code,{children:"dense_bucket_"})," \u8DDF ",(0,l.jsx)(e.code,{children:"overflow_bucket_"}),"\uFF0C\u6211\u5011\u6703\u5C07\u6700\u5F8C 4 bits \u653E\u5230 ",(0,l.jsx)(e.code,{children:"dense_bucket_"}),"\uFF0C\u5269\u4E0B\u7684 bits \u653E\u5230 ",(0,l.jsx)(e.code,{children:"overflow_bucket_"}),"\u3002"]}),"\n",(0,l.jsxs)(e.p,{children:["\u8209\u4F8B\u4F86\u8AAA\uFF0C\u5982\u679C ",(0,l.jsx)(e.code,{children:"n_bits"})," \u70BA 4\uFF0C\u7136\u5F8C hash \u51FA\u4F86\u7684\u503C\u70BA ",(0,l.jsx)(e.code,{children:"1011...0000100001"}),"\uFF0C\u90A3\u9EBC dense bucket \u70BA ",(0,l.jsx)(e.code,{children:"0001"})," (1)\uFF0Coverflow bucket \u70BA ",(0,l.jsx)(e.code,{children:"010"})," (2)\u3002"]}),"\n",(0,l.jsxs)(e.p,{children:["\u9019\u500B task \u4E3B\u8981\u6709\u4E09\u500B function \u9700\u8981\u5BE6\u4F5C\uFF0C\u9019\u4E09\u500B\u7684\u908F\u8F2F\u8DDF task 1 \u7684\u5DEE\u4E0D\u591A\uFF0C\u53EA\u9700\u8981\u6CE8\u610F ",(0,l.jsx)(e.code,{children:"dense_bucket_"})," \u548C ",(0,l.jsx)(e.code,{children:"overflow_bucket_"})," \u7684\u8655\u7406\u3002"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"PrestoHyperLogLog"})," : \u8207 task 1 \u985E\u4F3C\uFF0C\u53EA\u662F\u6539\u6210\u8981\u521D\u59CB\u5316 ",(0,l.jsx)(e.code,{children:"dense_bucket_"})]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"AddElem"})," : \u8207 task 1 \u985E\u4F3C\uFF0C\u53EA\u662F\u8981\u6CE8\u610F\u8A08\u7B97\u65B9\u5F0F\u6539\u6210\u5F9E\u6700\u53F3\u908A\u958B\u59CB\u53D6\u503C\u5230\u7B2C\u4E00\u500B ",(0,l.jsx)(e.code,{children:"1"})," \u7684\u4F4D\u7F6E (\u4E0D\u5305\u542B ",(0,l.jsx)(e.code,{children:"1"}),")"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"ComputeCardinality"})," : \u8207 task 1 \u985E\u4F3C\uFF0C\u53EA\u662F\u5C07 ",(0,l.jsx)(e.code,{children:"overflow_bucket_"})," \u5DE6\u79FB 4 bits \u518D\u76F8\u52A0"]}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"common-mistakes",children:"Common Mistakes"}),"\n",(0,l.jsxs)(e.p,{children:["\u6211\u89BA\u5F97\u9019\u500B\u4F5C\u696D\u9700\u8981\u6CE8\u610F\u7684\u662F\u985E\u5225\uFF0C\u7279\u5225\u662F ",(0,l.jsx)(e.code,{children:"hash_t"})," \u662F ",(0,l.jsx)(e.code,{children:"unsigned long"})," (\u7121\u6B63\u8CA0\u6578 64 bits)\uFF0C\u8981\u7279\u5225\u5C0F\u5FC3 overflow \u7684\u554F\u984C\u3002"]}),"\n",(0,l.jsx)(e.h2,{id:"submit",children:"Submit"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:["\u5C07 ",(0,l.jsx)(e.code,{children:"/test/primer/hyperloglog_test.cpp"})," \u7684\u6240\u6709 test case \u4E2D\u7684 ",(0,l.jsx)(e.code,{children:"DISABLE_"})," \u90FD\u79FB\u9664\uFF0C\u8209\u4F8B\u4F86\u8AAA :"]}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-cpp",metastring:'title="test/primer/hyperloglog_test.cpp"',children:"TEST(HyperLogLogTest, DISABLE_BasicTest1) {}\n"})}),"\n",(0,l.jsx)(e.p,{children:"\u6539\u6210"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-cpp",metastring:'title="test/primer/hyperloglog_test.cpp"',children:"TEST(HyperLogLogTest, BasicTest1) {}\n"})}),"\n",(0,l.jsxs)(e.ol,{start:"2",children:["\n",(0,l.jsxs)(e.li,{children:["\u4FEE\u6539 ",(0,l.jsx)(e.code,{children:"CMakeLists.txt"}),"\uFF0C\u5C07 ",(0,l.jsx)(e.code,{children:"P0_FILES"})," \u8A2D\u5B9A\u70BA\u4EE5\u4E0B (\u4E5F\u53EF\u4EE5\u9806\u4FBF\u628A ",(0,l.jsx)(e.code,{children:"P1_FILES"})," \u4E5F\u52A0\u5165\u9019\u500B\uFF0C\u5F8C\u9762\u6703\u7528\u5230) :"]}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-CMake",metastring:'title="CMakeLists.txt" showLineNumbers {6}',children:'set(P0_FILES\n        "src/include/primer/hyperloglog.h"\n        "src/include/primer/hyperloglog_presto.h"\n        "src/primer/hyperloglog.cpp"\n        "src/primer/hyperloglog_presto.cpp"\n        "GRADESCOPE.md"\n)\n'})}),"\n",(0,l.jsxs)(e.ol,{start:"3",children:["\n",(0,l.jsxs)(e.li,{children:["\u6392\u7248\uFF0C\u78BA\u5B9A\u6D88\u9664\u6240\u6709 error \u548C warning (\u53EF\u4EE5\u5FFD\u7565 ",(0,l.jsx)(e.code,{children:"DeprecationWarning: module 'sre_compile' is deprecated"})," \u7684 warning) :"]}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"make format && check-format && make check-lint && make check-clang-tidy-p0\n"})}),"\n",(0,l.jsxs)(e.ol,{start:"4",children:["\n",(0,l.jsx)(e.li,{children:"\u7DE8\u8B6F\u4E26\u6E2C\u8A66\u6240\u6709\u7684 test case"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"cmake -DCMAKE_BUILD_TYPE=Release -DCMAKE_C_COMPILER=/usr/bin/clang-14 -DCMAKE_CXX_COMPILER=/usr/bin/clang++-14 -B build\n"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"cd build\n"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"make -j$(nproc) hyperloglog_test && ./test/hyperloglog_test\n"})}),"\n",(0,l.jsx)(e.p,{children:"\u4E26\u78BA\u8A8D\u6240\u6709\u7684 test case \u90FD\u80FD\u901A\u904E\u3002"}),"\n",(0,l.jsxs)(e.ol,{start:"5",children:["\n",(0,l.jsxs)(e.li,{children:["\u7C3D\u540D\uFF0C\u6703\u7522\u751F\u4E00\u500B ",(0,l.jsx)(e.code,{children:"GRADESCOPE.md"})," :"]}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"python3 gradescope_sign.py\n"})}),"\n",(0,l.jsxs)(e.ol,{start:"6",children:["\n",(0,l.jsxs)(e.li,{children:["\u7E73\u4EA4\u4F5C\u696D\uFF0C\u53EF\u80FD\u9700\u8981\u5148\u57F7\u884C ",(0,l.jsx)(e.code,{children:"sudo apt-get install zip"})," \u4F86\u5B89\u88DD ",(0,l.jsx)(e.code,{children:"zip"}),"\uFF0C\u7136\u5F8C\u57F7\u884C\u4EE5\u4E0B\u6307\u4EE4 :"]}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"make submit-p0\n"})}),"\n",(0,l.jsxs)(e.ol,{start:"7",children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:["\u8A3B\u518A GradeScope\uFF0C\u53EF\u4EE5\u53C3\u8003 ",(0,l.jsx)(e.a,{href:"https://15445.courses.cs.cmu.edu/fall2024/faq.html",children:"\u5B98\u7DB2"})," \u7684 Q7\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:["\u4E0A\u50B3 ",(0,l.jsx)(e.code,{children:".zip"})," \u6A94\u5230 GradeScope"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"takeaways",children:"Takeaways"}),"\n",(0,l.jsx)(e.p,{children:"\u9019\u662F\u6211\u7B2C\u4E00\u6B21\u63A5\u89F8 C++ \u7684\u5C08\u6848\uFF0C\u4E4B\u524D\u90FD\u53EA\u6709\u7528\u4F86\u5BEB leetcode \u984C\u76EE\uFF0C\u5C0D\u65BC C++ \u5982\u4F55\u5EFA\u69CB\u5C08\u6848\u82B1\u4E86\u883B\u591A\u6642\u9593\u5728\u7814\u7A76\u7684\uFF0C\u4E0D\u7136\u6211\u89BA\u5F97\u7D14\u5BEB code \u7684\u6642\u9593\u61C9\u8A72 1-2 \u5929\u53EF\u4EE5\u641E\u5B9A (\u5427?)\u3002"}),"\n",(0,l.jsx)(e.h2,{id:"references",children:"References"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://engineering.fb.com/2018/12/13/data-infrastructure/hyperloglog/",children:"HyperLogLog in Presto: A significantly faster way to handle cardinality estimation"})}),"\n"]})]})}function d(s={}){let{wrapper:e}={...(0,i.a)(),...s.components};return e?(0,l.jsx)(e,{...s,children:(0,l.jsx)(m,{...s})}):m(s)}function x(s,e){throw Error("Expected "+(e?"component":"object")+" `"+s+"` to be defined: you likely forgot to import, pass, or provide it.")}},65:function(s,e,n){n.d(e,{Z:()=>c,a:()=>t});var a=n(7294);let l={},i=a.createContext(l);function t(s){let e=a.useContext(i);return a.useMemo(function(){return"function"==typeof s?s(e):{...e,...s}},[e,s])}function c(s){let e;return e=s.disableParentContext?"function"==typeof s.components?s.components(l):s.components||l:t(s.components),a.createElement(i.Provider,{value:e},s.children)}}}]);