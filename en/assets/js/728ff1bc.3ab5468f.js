"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([["5377"],{1909:function(e,i,n){n.r(i),n.d(i,{frontMatter:()=>s,toc:()=>d,default:()=>h,metadata:()=>t,assets:()=>c,contentTitle:()=>a});var t=JSON.parse('{"id":"CMU15-445/c22","title":"Introduction to Distributed Databases","description":"CMU15-445/645 Introduction to Distributed Databases","source":"@site/docs/CMU15-445/c22.mdx","sourceDirName":"CMU15-445","slug":"/CMU15-445/c22","permalink":"/RulerChen-Website/en/docs/CMU15-445/c22","draft":false,"unlisted":false,"editUrl":"https://github.com/RulerChen/RulerChen-Website/tree/main/docs/CMU15-445/c22.mdx","tags":[{"inline":true,"label":"CMU15-445","permalink":"/RulerChen-Website/en/docs/tags/cmu-15-445"}],"version":"current","lastUpdatedAt":1757926140000,"sidebarPosition":22,"frontMatter":{"title":"Introduction to Distributed Databases","sidebar_position":22,"description":"CMU15-445/645 Introduction to Distributed Databases","keywords":["CMU15-445/645","Introduction to Distributed Databases","CMU15-445/645 \u7B46\u8A18"],"tags":["CMU15-445"]},"sidebar":"tutorialSidebar","previous":{"title":"Database Recovery","permalink":"/RulerChen-Website/en/docs/CMU15-445/c21"},"next":{"title":"Distributed OLTP Database Systems","permalink":"/RulerChen-Website/en/docs/CMU15-445/c23"}}'),r=n(4848),o=n(4429);let s={title:"Introduction to Distributed Databases",sidebar_position:"22",description:"CMU15-445/645 Introduction to Distributed Databases",keywords:["CMU15-445/645","Introduction to Distributed Databases","CMU15-445/645 \u7B46\u8A18"],tags:["CMU15-445"]},a,c={},d=[{value:"System Architecture",id:"system-architecture",level:2},{value:"Partitioning Schemes",id:"partitioning-schemes",level:2},{value:"Naive Table Partitioning",id:"naive-table-partitioning",level:3},{value:"Vertical Partitioning",id:"vertical-partitioning",level:3},{value:"Horizontal Partitioning",id:"horizontal-partitioning",level:3},{value:"Distributed Concurrency Control",id:"distributed-concurrency-control",level:2},{value:"Centralized Coordinator",id:"centralized-coordinator",level:3},{value:"Transaction Processing Monitor (TP Monitor)",id:"transaction-processing-monitor-tp-monitor",level:4},{value:"Middleware",id:"middleware",level:4},{value:"Decentralized Coordinator",id:"decentralized-coordinator",level:3},{value:"Distributed Concurrency Control",id:"distributed-concurrency-control-1",level:3},{value:"Federated Database",id:"federated-database",level:2}];function l(e){let i={h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",ul:"ul",...(0,o.R)(),...e.components},{Head:n,ImageModal:t}=i;return n||u("Head",!0),t||u("ImageModal",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n,{children:(0,r.jsx)("title",{children:"CMU 15-445 Introduction to Distributed Databases"})}),"\n",(0,r.jsx)(i.p,{children:"Distributed DBMS \u662F\u4E00\u7A2E\u5C07\u55AE\u4E00\u908F\u8F2F\u8CC7\u6599\u5EAB\u5206\u6563\u5230\u591A\u500B\u7269\u7406\u8CC7\u6E90\u4E0A\u7684\u7CFB\u7D71\uFF0C\u8DDF parallel DBMS \u7684\u5DEE\u7570\u5728\u65BC\u5206\u6563\u5F0F\u7684\u7BC0\u9EDE\u76F8\u5C0D\u8DDD\u96E2\u8F03\u9060\uFF0C\u4E14\u53EF\u80FD\u8981\u901A\u904E\u516C\u5171\u7DB2\u8DEF\u9032\u884C\u901A\u4FE1\u3002"}),"\n",(0,r.jsx)(i.p,{children:"\u5728\u6B64\u4E4B\u524D\uFF0C\u6211\u5011\u5DF2\u7D93\u5B78\u904E\u4E86\u8A31\u591A\u5728 single node \u74B0\u5883\u4E0B\u7684\u8CC7\u6599\u5EAB\u6280\u8853\uFF0C\u5982 :"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"Optimization & Planning"}),"\n",(0,r.jsx)(i.li,{children:"Concurrency Control"}),"\n",(0,r.jsx)(i.li,{children:"Recovery"}),"\n"]}),"\n",(0,r.jsx)(i.p,{children:"\u800C\u9019\u4E9B\u6280\u8853\u5728\u5206\u6563\u5F0F\u7CFB\u7D71\u4E2D\u90FD\u6703\u6709\u4E0D\u540C\u7684\u6311\u6230\uFF0C\u4E5F\u662F\u9019\u7BC7\u8981\u8A0E\u8AD6\u7684\u4E3B\u984C\u3002"}),"\n",(0,r.jsx)(i.h2,{id:"system-architecture",children:"System Architecture"}),"\n",(0,r.jsx)(i.p,{children:"DBMS \u7684 system architecture \u5B9A\u7FA9\u4E86 CPU \u53EF\u4EE5\u76F4\u63A5\u8A2A\u554F\u90A3\u4E9B\u5171\u4EAB\u8CC7\u6E90\uFF0C\u5176\u4E2D single node \u7684\u67B6\u69CB\u5C31\u662F shared everything\uFF0C\u800C\u5728\u5206\u6563\u5F0F\u7CFB\u7D71\u4E2D\uFF0C\u6211\u5011\u4E3B\u8981\u8A0E\u8AD6\u7684\u662F\u53E6\u5916\u4E09\u7A2E\u67B6\u69CB :"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"Shared Memory : \u4E0D\u540C\u7684 CPU \u53EF\u4EE5\u8A2A\u554F\u540C\u4E00\u500B\u8A18\u61B6\u9AD4\u4F4D\u7F6E\uFF0C\u9019\u7A2E\u67B6\u69CB\u5E7E\u4E4E\u6C92\u6709\u4EBA\u4F7F\u7528"}),"\n",(0,r.jsx)(i.li,{children:"Shared Disk : \u4E0D\u540C\u7684 CPU \u53EF\u4EE5\u900F\u904E\u7DB2\u8DEF\u8A2A\u554F\u540C\u4E00\u584A\u908F\u8F2F\u786C\u789F\uFF0C\u4F46\u5404\u81EA\u6709\u5404\u81EA\u7684\u8A18\u61B6\u9AD4"}),"\n",(0,r.jsx)(i.li,{children:"Shared Nothing : \u6BCF\u500B\u7BC0\u9EDE\u90FD\u6709\u81EA\u5DF1\u7684 CPU\u3001Memory\u3001Disk\uFF0C\u7BC0\u9EDE\u4E4B\u9593\u6703\u900F\u904E\u7DB2\u8DEF\u4F86\u901A\u4FE1\u3002\u7F3A\u9EDE\u662F\u8F03\u96E3\u78BA\u4FDD\u4E00\u81F4\u6027\uFF0C\u8F03\u96E3\u9032\u884C\u64F4\u5BB9"}),"\n"]}),"\n",(0,r.jsx)(t,{src:"/img/cmu15-445/c22/image.webp",caption:"System Architecture"}),"\n",(0,r.jsx)(i.p,{children:"\u5728\u5206\u6563\u5F0F\u7CFB\u7D71\u4E2D\uFF0C\u7BC0\u9EDE\u8207\u7BC0\u9EDE\u4E4B\u9593\u7684\u95DC\u4FC2\u53EF\u4EE5\u5206\u70BA\u5169\u7A2E :"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"Homogeneous (\u540C\u8CEA\u7BC0\u9EDE) : \u6BCF\u500B\u7BC0\u9EDE\u5728\u53E2\u96C6\u4E2D\u80FD\u5920\u57F7\u884C\u76F8\u540C\u7684\u4EFB\u52D9\uFF0C\u5728\u64F4\u5BB9\u4EE5\u53CA\u6545\u969C\u6062\u5FA9\u6BD4\u8F03\u7C21\u55AE"}),"\n",(0,r.jsx)(i.li,{children:"Heterogeneous (\u7570\u8CEA\u7BC0\u9EDE): \u7BC0\u9EDE\u88AB\u5206\u914D\u7279\u5B9A\u7684\u4EFB\u52D9\uFF0C\u56E0\u6B64\u4E0D\u540C\u7BC0\u9EDE\u4E4B\u9593\u9700\u8981\u9032\u884C\u901A\u4FE1\u624D\u80FD\u5B8C\u6210\u4EFB\u52D9\uFF0C\u53EF\u4EE5\u5728\u4E00\u500B\u7269\u7406\u7BC0\u9EDE\u4E0A\u57F7\u884C\u591A\u500B\u865B\u64EC\u7BC0\u9EDE"}),"\n"]}),"\n",(0,r.jsx)(t,{src:"/img/cmu15-445/c22/image-5.webp",caption:"Homogeneous VS Heterogeneous"}),"\n",(0,r.jsx)(i.p,{children:"\u4EE5 MongoDB \u70BA\u4F8B\uFF0C\u5B83\u7684\u96C6\u7FA4\u6709\u4E09\u7A2E\u7BC0\u9EDE\uFF0C\u5206\u5225\u662F Router\u3001Config Server\u3001Shard\u3002\n\u4F7F\u7528\u8005\u6703\u767C\u9001\u8ACB\u6C42\u7D66 Router\uFF0CRouter \u6703\u6839\u64DA Config Server \u7684\u8A2D\u5B9A\u4F86\u5C07\u8ACB\u6C42\u8F49\u767C\u7D66 Shard\u3002"}),"\n",(0,r.jsx)(i.h2,{id:"partitioning-schemes",children:"Partitioning Schemes"}),"\n",(0,r.jsx)(i.p,{children:"Partitioning Schemes \u662F\u4E00\u7A2E\u628A\u8CC7\u6599\u5EAB\u5206\u6563\u5230\u591A\u500B\u7BC0\u9EDE\u4E0A\u7684\u65B9\u6CD5\uFF0C\u4E5F\u5E38\u88AB\u7A31\u4F5C sharding\u3002"}),"\n",(0,r.jsx)(i.h3,{id:"naive-table-partitioning",children:"Naive Table Partitioning"}),"\n",(0,r.jsx)(i.p,{children:"\u5047\u8A2D\u4E00\u500B\u7BC0\u9EDE\u6709\u8DB3\u5920\u7684\u5BB9\u91CF\uFF0C\u6211\u5011\u53EF\u4EE5\u8B93\u4E00\u500B\u7BC0\u9EDE\u5132\u5B58\u4E00\u5F35\u8868\uFF0C\u7F3A\u9EDE\u662F\u53EF\u80FD\u5C0E\u81F4\u8CC7\u6599\u4E0D\u5747\u52FB\u3002"}),"\n",(0,r.jsx)(i.h3,{id:"vertical-partitioning",children:"Vertical Partitioning"}),"\n",(0,r.jsx)(i.p,{children:"\u5C07\u8868\u683C\u7684\u5C6C\u6027\u62C6\u5206\u6210\u4E0D\u540C\u7684\u5206\u5340\u3002\u6BCF\u500B\u5206\u5340\u5FC5\u9808\u5132\u5B58\u5143\u7D44\u8A0A\u606F\uFF0C\u4EE5\u4FBF\u80FD\u5920\u91CD\u5EFA\u539F\u59CB\u8A18\u9304\u3002"}),"\n",(0,r.jsx)(t,{src:"/img/cmu15-445/c22/image-7.webp",caption:"Vertical Partitioning"}),"\n",(0,r.jsx)(i.h3,{id:"horizontal-partitioning",children:"Horizontal Partitioning"}),"\n",(0,r.jsx)(i.p,{children:"\u5C07\u8868\u7684\u8CC7\u6599\u5207\u6210\u591A\u500B\u4E0D\u76F8\u95DC\u7684\u5B50\u96C6\uFF0C\u4E26\u4E14\u627E\u5230\u4E00\u500B key \u4F86\u5C07\u8CC7\u6599\u5E73\u5747\u5206\u914D\u5230\u4E0D\u540C\u7684\u7BC0\u9EDE\u4E0A\uFF0C\u5E38\u898B\u7684\u5206\u914D\u65B9\u5F0F\u6709 :"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"Range Partitioning"}),"\n",(0,r.jsx)(i.li,{children:"Hash Partitioning"}),"\n",(0,r.jsx)(i.li,{children:"Predicate Partitioning"}),"\n"]}),"\n",(0,r.jsx)(i.p,{children:"\u901A\u5E38\u6703\u4F7F\u7528 partitionKey \u4F86\u67E5\u8A62\u8CC7\u6599\u3002"}),"\n",(0,r.jsx)(t,{src:"/img/cmu15-445/c22/image-8.webp",caption:"Horizontal Partitioning"}),"\n",(0,r.jsx)(i.p,{children:"\u5982\u679C\u4F7F\u7528 hash partitioning\uFF0C\u5247\u53EF\u4EE5\u4F7F\u7528 consistent hashing \u4F86\u6E1B\u5C11\u7BC0\u9EDE\u8B8A\u52D5\u6642\u7684\u8CC7\u6599\u91CD\u65B0\u5206\u914D\u3002"}),"\n",(0,r.jsx)(i.p,{children:"\u5C07\u6BCF\u500B hash \u503C\u5230\u908F\u8F2F\u74B0\u4E0A\u7684\u4E00\u500B\u4F4D\u7F6E\uFF0C\u7136\u5F8C\u7531\u6700\u63A5\u8FD1\u8A72\u4F4D\u7F6E\u7684\u7BC0\u9EDE (\u9806\u6642\u91DD\u65B9\u5411) \u8CA0\u8CAC\u8A72\u9375\u3002\n\u7576\u4E00\u500B\u7BC0\u9EDE\u88AB\u6DFB\u52A0\u6216\u79FB\u9664\u6642\uFF0C\u53EA\u6709\u76F8\u9130\u7684\u7BC0\u9EDE\u4E4B\u9593\u7684\u9375\u6703\u88AB\u79FB\u52D5\uFF0C\u4E26\u4E14\u53EA\u6709 1/n \u7684\u9375\u6703\u88AB\u91CD\u65B0\u5206\u914D\u3002\n\u9664\u6B64\u4E4B\u5916\uFF0C\u6211\u5011\u4E5F\u53EF\u4EE5\u5229\u7528 consistent hashing \u4F86\u505A replication\u3002"}),"\n",(0,r.jsx)(t,{src:"/img/cmu15-445/c22/image-11.webp",caption:"Consistent Hashing"}),"\n",(0,r.jsx)(i.h2,{id:"distributed-concurrency-control",children:"Distributed Concurrency Control"}),"\n",(0,r.jsx)(i.p,{children:"\u5728\u5206\u6563\u5F0F\u7CFB\u7D71\u4E2D\uFF0C\u4EA4\u6613\u6703\u8A2A\u554F\u4E00\u500B\u6216\u591A\u500B\u5206\u5340\u7684\u8CC7\u6599\uFF0C\u9019\u6642\u5019\u5C31\u6703\u9700\u8981\u8907\u96DC\u7684\u5354\u8ABF\uFF0C\u5373\u6240\u8B02\u7684 transaction coordination\u3002"}),"\n",(0,r.jsx)(i.p,{children:"\u901A\u5E38\u5206\u70BA\u4E2D\u5FC3\u5316\u548C\u53BB\u4E2D\u5FC3\u5316\u5169\u7A2E\u65B9\u5F0F\u3002"}),"\n",(0,r.jsx)(i.h3,{id:"centralized-coordinator",children:"Centralized Coordinator"}),"\n",(0,r.jsx)(i.h4,{id:"transaction-processing-monitor-tp-monitor",children:"Transaction Processing Monitor (TP Monitor)"}),"\n",(0,r.jsx)(i.p,{children:"\u8981\u5BE6\u73FE\u4E2D\u5FC3\u5316\u7684\u5354\u8ABF\u5C31\u9700\u8981\u6709\u4E00\u500B\u5143\u4EF6\u4F86\u7BA1\u7406\u6240\u6709\u7684\u4EA4\u6613\uFF0C\u9019\u500B\u5143\u4EF6\u88AB\u7A31\u4F5C Transaction Processing Monitor (TP Monitor)\u3002\n\u6BCF\u6B21\u767C\u9001\u8ACB\u6C42\u6642\uFF0C\u90FD\u8981\u7D93\u904E TP Monitor \u4F86\u9032\u884C\u5354\u8ABF\u3002"}),"\n",(0,r.jsx)(i.p,{children:"\u8209\u4F8B\u5982\u4E0B\u6240\u793A :"}),"\n",(0,r.jsx)(i.p,{children:"\u5047\u8A2D\u4E00\u500B DBMS \u6709\u56DB\u500B partitions\uFF0C\u5206\u5225\u662F P1\u3001P2\u3001P3\u3001P4\uFF0C\u4E26\u4E14\u6709\u4E00\u500B TP Monitor \u4F86\u7BA1\u7406\u6240\u6709\u7684\u4EA4\u6613\u3002\n\u9019\u6642\u6709\u4E00\u500B\u4EA4\u6613\u9700\u8981\u4FEE\u6539 P1\u3001P3\u3001P4 \u4E0A\u7684\u8CC7\u6599\uFF0C\u90A3\u9EBC\u5B83\u9996\u5148\u8981\u5411 TP Monitor \u8ACB\u6C42 P1\u3001P3\u3001P4 \u4E0A\u7684\u9396"}),"\n",(0,r.jsx)(t,{src:"/img/cmu15-445/c22/image-12.webp",caption:"Centralized Coordinator"}),"\n",(0,r.jsx)(i.p,{children:"\u62FF\u5230\u9396\u4E4B\u5F8C\u624D\u80FD\u4FEE\u6539\u8CC7\u6599\uFF0C\u4FEE\u6539\u5B8C\u7562\u5F8C\u518D\u5411 coordinator \u767C\u9001 commit \u8ACB\u6C42\uFF0Ccoordinator \u6703\u5411\u6240\u6709\u7684\u5206\u5340\u8A62\u554F\u9019\u500B\u4EA4\u6613\u662F\u5426\u53EF\u4EE5 commit\uFF0C\u6700\u5F8C\u8FD4\u9084 ACK \u7D66\u4F7F\u7528\u8005\u3002"}),"\n",(0,r.jsx)(t,{src:"/img/cmu15-445/c22/image-13.webp",caption:"Centralized Coordinator"}),"\n",(0,r.jsx)(i.h4,{id:"middleware",children:"Middleware"}),"\n",(0,r.jsx)(i.p,{children:"\u9019\u7A2E coordinator \u53EF\u4EE5\u88AB\u7576\u6210\u4E00\u500B middleware\uFF0C\u8CA0\u8CAC\u5354\u8ABF\u6240\u6709\u7684\u4EA4\u6613\u3002"}),"\n",(0,r.jsx)(t,{src:"/img/cmu15-445/c22/image-14.webp",caption:"Middleware"}),"\n",(0,r.jsx)(i.h3,{id:"decentralized-coordinator",children:"Decentralized Coordinator"}),"\n",(0,r.jsx)(i.p,{children:"\u518D\u53BB\u4E2D\u5FC3\u5316\u7684\u67B6\u69CB\u4E2D\uFF0C\u57F7\u884C\u67D0\u500B\u4EA4\u6613\u6642\u6703\u9078\u64C7\u4E00\u500B\u7BC0\u9EDE\u4F5C\u70BA master\uFF0C\u8CA0\u8CAC\u5354\u8ABF\u6240\u6709\u7684\u4EA4\u6613\u3002"}),"\n",(0,r.jsx)(t,{src:"/img/cmu15-445/c22/image-15.webp",caption:"Decentralized Coordinator"}),"\n",(0,r.jsx)(i.h3,{id:"distributed-concurrency-control-1",children:"Distributed Concurrency Control"}),"\n",(0,r.jsx)(i.p,{children:"\u5206\u6563\u5F0F\u7684\u4F75\u767C\u63A7\u5236\u6709\u5F88\u591A\u6311\u6230\uFF0C\u6BD4\u5982 :"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"Replication"}),"\n",(0,r.jsx)(i.li,{children:"Network Communication Overhead"}),"\n",(0,r.jsx)(i.li,{children:"Node Failures"}),"\n",(0,r.jsx)(i.li,{children:"Clock Skew"}),"\n"]}),"\n",(0,r.jsx)(i.p,{children:"\u5728\u4E0B\u5716\u7684\u4F8B\u5B50\u4E2D\uFF0C\u6211\u5011\u53EF\u4EE5\u770B\u5230\u7531\u65BC\u6C92\u6709\u4E2D\u5FC3\u5316\u7684\u5354\u8ABF\u5668\uFF0C\u4E00\u65E6\u767C\u73FE\u5982\u5716\u4E2D\u7684\u6B7B\u9396\u60C5\u6CC1\uFF0C\u5C31\u5F88\u96E3\u9032\u884C\u5354\u8ABF\u3002"}),"\n",(0,r.jsx)(t,{src:"/img/cmu15-445/c22/image-17.webp",caption:"Distributed Concurrency Control"}),"\n",(0,r.jsx)(i.h2,{id:"federated-database",children:"Federated Database"}),"\n",(0,r.jsx)(i.p,{children:"\u5728\u524D\u9762\u7684\u7BC4\u4F8B\u4E2D\uFF0C\u6211\u5011\u90FD\u5047\u8A2D\u8CC7\u6599\u5EAB\u662F\u540C\u4E00\u7A2E\u7684\uFF0C\u4F46\u5728\u5BE6\u969B\u61C9\u7528\u4E2D\uFF0C\u6211\u5011\u53EF\u80FD\u6703\u60F3\u8981\u4F7F\u7528\u4E0D\u540C\u7A2E\u985E\u7684\u8CC7\u6599\u5EAB\uFF0C\u4E26\u53EA\u66B4\u9732\u4E00\u500B\u7D71\u4E00\u7684\u4ECB\u9762\u3002"}),"\n",(0,r.jsx)(i.p,{children:"\u9019\u7A2E\u6280\u8853\u6709\u5F88\u591A\u7684\u6311\u6230\uFF0C\u50CF\u662F query optimization\u3001data migration\u3001data consistency\uFF0C\u76EE\u524D\u4ECD\u7136\u6C92\u6709\u4E00\u500B\u5F88\u597D\u7684\u89E3\u6C7A\u65B9\u6CD5\u3002"}),"\n",(0,r.jsx)(t,{src:"/img/cmu15-445/c22/image-16.webp",caption:"Federated Database"})]})}function h(e={}){let{wrapper:i}={...(0,o.R)(),...e.components};return i?(0,r.jsx)(i,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}function u(e,i){throw Error("Expected "+(i?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},4429:function(e,i,n){n.d(i,{R:()=>s,x:()=>a});var t=n(6540);let r={},o=t.createContext(r);function s(e){let i=t.useContext(o);return t.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function a(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),t.createElement(o.Provider,{value:i},e.children)}}}]);